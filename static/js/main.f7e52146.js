/*! For license information please see main.f7e52146.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),s=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var p=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var j=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var _=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case E:return"Suspense";case N:return"SuspenseList";case j:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return P(e(t))}catch(_s){}}return null}var R=Array.isArray,D=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],F=-1;function U(e){return{current:e}}function V(e){0>F||(e.current=M[F],M[F]=null,F--)}function z(e,t){F++,M[F]=e.current,e.current=t}var B,q,G=U(null),H=U(null),W=U(null),K=U(null);function J(e,t){switch(z(W,t),z(H,e),z(G,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(G),z(G,e)}function Q(){V(G),V(H),V(W)}function Y(e){null!==e.memoizedState&&z(K,e);var t=G.current,n=bd(t,e.type);t!==n&&(z(H,e),z(G,n))}function $(e){H.current===e&&(V(G),V(H)),K.current===e&&(V(K),dh._currentValue=L)}function X(e){if(void 0===B)try{throw Error()}catch(_s){var t=_s.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",q=-1<_s.stack.indexOf("\n    at")?" (<anonymous>)":-1<_s.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(_s){var r=_s}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],o=i[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(s=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(r===l.length||s===c.length)for(r=l.length-1,s=c.length-1;1<=r&&0<=s&&l[r]!==c[s];)s--;for(;1<=r&&0<=s;r--,s--)if(l[r]!==c[s]){if(1!==r||1!==s)do{if(r--,0>--s||l[r]!==c[s]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=s);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(_s){return"\nError generating stack: "+_s.message+"\n"+_s.stack}}var re=Object.prototype.hasOwnProperty,se=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,pe=r.unstable_LowPriority,fe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(xe(e)/Se|0)|0},xe=Math.log,Se=Math.LN2;var Ee=256,Ne=262144,ke=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function je(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var s=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~i)?s=Ce(r):0!==(a&=o)?s=Ce(a):n||0!==(n=o&~e)&&(s=Ce(n)):0!==(o=r&~i)?s=Ce(o):0!==a?s=Ce(a):n||0!==(n=r&~e)&&(s=Ce(n)),0===s?0:0!==t&&t!==s&&0===(t&i)&&((i=s&-s)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:s}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ie(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}function Oe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:jh(e.type)}function Ue(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var Ve=Math.random().toString(36).slice(2),ze="__reactFiber$"+Ve,Be="__reactProps$"+Ve,qe="__reactContainer$"+Ve,Ge="__reactEvents$"+Ve,He="__reactListeners$"+Ve,We="__reactHandles$"+Ve,Ke="__reactResources$"+Ve,Je="__reactMarker$"+Ve;function Qe(e){delete e[ze],delete e[Be],delete e[Ge],delete e[He],delete e[We]}function Ye(e){var t=e[ze];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[ze]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Md(e);null!==e;){if(n=e[ze])return n;e=Md(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[ze]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ze(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Je]=!0}var tt=new Set,nt={};function rt(e,t){st(e,t),st(e+"Capture",t)}function st(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},ot={};function lt(e,t,n){if(s=t,re.call(ot,s)||!re.call(at,s)&&(it.test(s)?ot[s]=!0:(at[s]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var s}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,s,i,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?wt(e,a,dt(t)):null!=n?wt(e,a,dt(n)):null!=r&&e.removeAttribute("value"),null==s&&null!=i&&(e.defaultChecked=!!i),null!=s&&(e.checked=s&&"function"!==typeof s&&"symbol"!==typeof s),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,r,s,i,a,o){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return void pt(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:s)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a),pt(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(R(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),pt(e)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||kt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Ct(e,s,r)}else for(var i in t)t.hasOwnProperty(i)&&Ct(e,i,t[i])}function _t(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Pt(){}var Rt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Lt=null;function Mt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[Be]||null;if(!s)throw Error(a(90));yt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Ut(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Ot||null!==Lt)&&(eu(),Ot&&(t=Ot,e=Lt,Lt=Ot=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Vt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var zt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(zt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Xh){Bt=!1}var Gt=null,Ht=null,Wt=null;function Kt(){if(Wt)return Wt;var e,t,n=Ht,r=n.length,s="value"in Gt?Gt.value:Gt.textContent,i=s.length;for(e=0;e<r&&n[e]===s[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===s[i-t];t++);return Wt=s.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Qt(){return!0}function Yt(){return!1}function $t(e){function t(t,n,r,s,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Qt:Yt,this.isPropagationStopped=Yt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Qt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Qt)},persist:function(){},isPersistent:Qt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=$t(tn),rn=p({},tn,{view:0,detail:0}),sn=$t(rn),an=p({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=$t(an),ln=$t(p({},an,{dataTransfer:0})),cn=$t(p({},rn,{relatedTarget:0})),un=$t(p({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=$t(p({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=$t(p({},tn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var yn=$t(p({},rn,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=$t(p({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=$t(p({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),xn=$t(p({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=$t(p({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),En=$t(p({},tn,{newState:0,oldState:0})),Nn=[9,13,27,32],kn=zt&&"CompositionEvent"in window,Cn=null;zt&&"documentMode"in document&&(Cn=document.documentMode);var jn=zt&&"TextEvent"in window&&!Cn,_n=zt&&(!kn||Cn&&8<Cn&&11>=Cn),Tn=String.fromCharCode(32),In=!1;function An(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function Ln(e,t,n,r){Ot?Lt?Lt.push(r):Lt=[r]:Ot=r,0<(t=sd(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Fn=null;function Un(e){Yu(e,0)}function Vn(e){if(ft(Xe(e)))return e}function zn(e,t){if("change"===e)return t}var Bn=!1;if(zt){var qn;if(zt){var Gn="oninput"in document;if(!Gn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Gn="function"===typeof Hn.oninput}qn=Gn}else qn=!1;Bn=qn&&(!document.documentMode||9<document.documentMode)}function Wn(){Mn&&(Mn.detachEvent("onpropertychange",Kn),Fn=Mn=null)}function Kn(e){if("value"===e.propertyName&&Vn(Fn)){var t=[];Ln(t,Fn,e,Dt(e)),Ut(Un,t)}}function Jn(e,t,n){"focusin"===e?(Wn(),Fn=n,(Mn=t).attachEvent("onpropertychange",Kn)):"focusout"===e&&Wn()}function Qn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn(Fn)}function Yn(e,t){if("click"===e)return Vn(t)}function $n(e,t){if("input"===e||"change"===e)return Vn(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!re.call(t,s)||!Xn(e[s],t[s]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function sr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=zt&&"documentMode"in document&&11>=document.documentMode,ar=null,or=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ar||ar!==mt(r)||("selectionStart"in(r=ar)&&sr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=sd(or,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},pr={},fr={};function mr(e){if(pr[e])return pr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return pr[e]=n[t];return e}zt&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=mr("animationend"),vr=mr("animationiteration"),yr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),xr=mr("transitioncancel"),Sr=mr("transitionend"),Er=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){Er.set(e,t),rt(t,[e])}Nr.push("scrollEnd");var Cr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},jr=[],_r=0,Tr=0;function Ir(){for(var e=_r,t=Tr=_r=0;t<e;){var n=jr[t];jr[t++]=null;var r=jr[t];jr[t++]=null;var s=jr[t];jr[t++]=null;var i=jr[t];if(jr[t++]=null,null!==r&&null!==s){var a=r.pending;null===a?s.next=s:(s.next=a.next,a.next=s),r.pending=s}0!==i&&Dr(n,s,i)}}function Ar(e,t,n,r){jr[_r++]=e,jr[_r++]=t,jr[_r++]=n,jr[_r++]=r,Tr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Pr(e,t,n,r){return Ar(e,t,n,r),Or(e)}function Rr(e,t){return Ar(e,null,null,t),Or(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var s=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(s=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,s&&null!==t&&(s=31-we(n),null===(r=(e=i.hiddenUpdates)[s])?e[s]=[t]:r.push(t),t.lane=536870912|n),i):null}function Or(e){if(50<Hc)throw Hc=0,Wc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new Mr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vr(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,s,i){var o=0;if(r=e,"function"===typeof e)Ur(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,G.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case j:return(e=Fr(31,n,t,s)).elementType=j,e.lanes=i,e;case v:return qr(n.children,s,i,t);case y:o=8,s|=24;break;case b:return(e=Fr(12,n,t,2|s)).elementType=b,e.lanes=i,e;case E:return(e=Fr(13,n,t,s)).elementType=E,e.lanes=i,e;case N:return(e=Fr(19,n,t,s)).elementType=N,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case w:o=9;break e;case S:o=11;break e;case k:o=14;break e;case C:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function qr(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function Gr(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Hr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function Wr(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kr=new WeakMap;function Jr(e,t){if("object"===typeof e&&null!==e){var n=Kr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Kr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Qr=[],Yr=0,$r=null,Xr=0,Zr=[],es=0,ts=null,ns=1,rs="";function ss(e,t){Qr[Yr++]=Xr,Qr[Yr++]=$r,$r=e,Xr=t}function is(e,t,n){Zr[es++]=ns,Zr[es++]=rs,Zr[es++]=ts,ts=e;var r=ns;e=rs;var s=32-we(r)-1;r&=~(1<<s),n+=1;var i=32-we(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ns=1<<32-we(t)+s|n<<s|r,rs=i+e}else ns=1<<i|n<<s|r,rs=e}function as(e){null!==e.return&&(ss(e,1),is(e,1,0))}function os(e){for(;e===$r;)$r=Qr[--Yr],Qr[Yr]=null,Xr=Qr[--Yr],Qr[Yr]=null;for(;e===ts;)ts=Zr[--es],Zr[es]=null,rs=Zr[--es],Zr[es]=null,ns=Zr[--es],Zr[es]=null}function ls(e,t){Zr[es++]=ns,Zr[es++]=rs,Zr[es++]=ts,ns=t.id,rs=t.overflow,ts=e}var cs=null,us=null,ds=!1,hs=null,ps=!1,fs=Error(a(519));function ms(e){throw xs(Jr(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),fs}function gs(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[ze]=e,t[Be]=r,n){case"dialog":$u("cancel",t),$u("close",t);break;case"iframe":case"object":case"embed":$u("load",t);break;case"video":case"audio":for(n=0;n<Ju.length;n++)$u(Ju[n],t);break;case"source":$u("error",t);break;case"img":case"image":case"link":$u("error",t),$u("load",t);break;case"details":$u("toggle",t);break;case"input":$u("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$u("invalid",t);break;case"textarea":$u("invalid",t),Et(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&($u("beforetoggle",t),$u("toggle",t)),null!=r.onScroll&&$u("scroll",t),null!=r.onScrollEnd&&$u("scrollend",t),null!=r.onClick&&(t.onclick=Pt),t=!0):t=!1,t||ms(e,!0)}function vs(e){for(cs=e.return;cs;)switch(cs.tag){case 5:case 31:case 13:return void(ps=!1);case 27:case 3:return void(ps=!0);default:cs=cs.return}}function ys(e){if(e!==cs)return!1;if(!ds)return vs(e),ds=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wd(e.type,e.memoizedProps)),t=!t),t&&us&&ms(e),vs(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));us=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));us=Ld(e)}else 27===n?(n=us,jd(e.type)?(e=Od,Od=null,us=e):us=n):us=cs?Dd(e.stateNode.nextSibling):null;return!0}function bs(){us=cs=null,ds=!1}function ws(){var e=hs;return null!==e&&(null===Ac?Ac=e:Ac.push.apply(Ac,e),hs=null),e}function xs(e){null===hs?hs=[e]:hs.push(e)}var Ss=U(null),Es=null,Ns=null;function ks(e,t,n){z(Ss,t._currentValue),t._currentValue=n}function Cs(e){e._currentValue=Ss.current,V(Ss)}function js(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var i=s.dependencies;if(null!==i){var o=s.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),js(i.return,n,e),r||(o=null);break e}i=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(a(341));o.lanes|=n,null!==(i=o.alternate)&&(i.lanes|=n),js(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function Is(e,t,n,r){e=null;for(var s=t,i=!1;null!==s;){if(!i)if(0!==(524288&s.flags))i=!0;else if(0!==(262144&s.flags))break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=s.type;Xn(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===K.current){if(null===(o=s.alternate))throw Error(a(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}s=s.return}null!==e&&Ts(t,e,n,r),t.flags|=262144}function As(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ps(e){Es=e,Ns=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Rs(e){return Os(Es,e)}function Ds(e,t){return null===Es&&Ps(e),Os(e,t)}function Os(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ns){if(null===e)throw Error(a(308));Ns=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ns=Ns.next=t;return n}var Ls="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ms=r.unstable_scheduleCallback,Fs=r.unstable_NormalPriority,Us={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vs(){return{controller:new Ls,data:new Map,refCount:0}}function zs(e){e.refCount--,0===e.refCount&&Ms(Fs,function(){e.controller.abort()})}var Bs=null,qs=0,Gs=0,Hs=null;function Ws(){if(0===--qs&&null!==Bs){null!==Hs&&(Hs.status="fulfilled");var e=Bs;Bs=null,Gs=0,Hs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ks=D.S;D.S=function(e,t){Dc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bs){var n=Bs=[];qs=0,Gs=qu(),Hs={status:"pending",value:void 0,then:function(e){n.push(e)}}}qs++,t.then(Ws,Ws)}(0,t),null!==Ks&&Ks(e,t)};var Js=U(null);function Qs(){var e=Js.current;return null!==e?e:mc.pooledCache}function Ys(e,t){z(Js,null===t?Js.current:t.pool)}function $s(){var e=Qs();return null===e?null:{parent:Us._currentValue,pool:e}}var Xs=Error(a(460)),Zs=Error(a(474)),ei=Error(a(542)),ti={then:function(){}};function ni(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ri(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Pt,Pt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw oi(e=t.reason),e;default:if("string"===typeof t.status)t.then(Pt,Pt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oi(e=t.reason),e}throw ii=t,Xs}}function si(e){try{return(0,e._init)(e._payload)}catch(_s){if(null!==_s&&"object"===typeof _s&&"function"===typeof _s.then)throw ii=_s,Xs;throw _s}}var ii=null;function ai(){if(null===ii)throw Error(a(459));var e=ii;return ii=null,e}function oi(e){if(e===Xs||e===ei)throw Error(a(483))}var li=null,ci=0;function ui(e){var t=ci;return ci+=1,null===li&&(li=[]),ri(li,e,t)}function di(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hi(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Vr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gr(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===C&&si(i)===t.type)?(di(t=s(t,n.props),n),t.return=e,t):(di(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=qr(n,e.mode,r,i)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Gr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return di(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Wr(t,e.mode,n)).return=e,t;case C:return h(e,t=si(t),n)}if(R(t)||I(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ui(t),n);if(t.$$typeof===x)return h(e,Ds(e,t),n);hi(e,t)}return null}function p(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===s?c(e,t,n,r):null;case g:return n.key===s?u(e,t,n,r):null;case C:return p(e,t,n=si(n),r)}if(R(n)||I(n))return null!==s?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,ui(n),r);if(n.$$typeof===x)return p(e,t,Ds(e,n),r);hi(e,n)}return null}function f(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,s);case C:return f(e,t,n,r=si(r),s)}if(R(r)||I(r))return d(t,e=e.get(n)||null,r,s,null);if("function"===typeof r.then)return f(e,t,n,ui(r),s);if(r.$$typeof===x)return f(e,t,n,Ds(t,r),s);hi(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=s(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&si(b)===c.type){n(l,c.sibling),di(d=s(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=qr(u.props.children,l.mode,d,u.key)).return=l,l=d):(di(d=Br(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=s(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Wr(u,l.mode,d)).return=l,l=d}return o(l);case C:return y(l,c,u=si(u),d)}if(R(u))return function(s,a,o,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(s,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(s,d),a=i(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(s,d),ds&&ss(s,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(s,o[m],l))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return ds&&ss(s,m),c}for(d=r(d);m<o.length;m++)null!==(g=f(d,s,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(s,e)}),ds&&ss(s,m),c}(l,c,u,d);if(I(u)){if("function"!==typeof(b=I(u)))throw Error(a(150));return function(s,o,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(s,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(s,m),o=i(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(s,m),ds&&ss(s,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(s,y.value,c))&&(o=i(y,o,g),null===d?u=y:d.sibling=y,d=y);return ds&&ss(s,g),u}for(m=r(m);!y.done;g++,y=l.next())null!==(y=f(m,s,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=i(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(s,e)}),ds&&ss(s,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,ui(u),d);if(u.$$typeof===x)return y(l,c,Ds(l,u),d);hi(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=s(c,u)).return=l,l=d):(n(l,c),(d=Gr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{ci=0;var s=y(e,t,n,r);return li=null,s}catch(_s){if(_s===Xs||_s===ei)throw _s;var i=Fr(29,_s,null,e.mode);return i.lanes=r,i.return=e,i}}}var fi=pi(!0),mi=pi(!1),gi=!1;function vi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,t=Or(e),Dr(e,null,n),t}return Ar(e,r,t,n),Or(e)}function xi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function Si(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?s=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?s=i=t:i=i.next=t}else s=i=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ei=!1;function Ni(){if(Ei){if(null!==Hs)throw Hs}}function ki(e,t,n,r){Ei=!1;var s=e.updateQueue;gi=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=s.baseState;for(a=0,u=c=l=null,o=i;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(vc&h)===h:(r&h)===h){0!==h&&h===Gs&&(Ei=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=p({},d,h);break e;case 2:gi=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=s.callbacks)?s.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(f=o).next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}null===u&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null===i&&(s.shared.lanes=0),kc|=a,e.lanes=a,e.memoizedState=d}}function Ci(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function ji(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ci(n[e],t)}var _i=U(null),Ti=U(0);function Ii(e,t){z(Ti,e=Ec),z(_i,t),Ec=e|t.baseLanes}function Ai(){z(Ti,Ec),z(_i,_i.current)}function Pi(){Ec=Ti.current,V(_i),V(Ti)}var Ri=U(null),Di=null;function Oi(e){var t=e.alternate;z(Vi,1&Vi.current),z(Ri,e),null===Di&&(null===t||null!==_i.current||null!==t.memoizedState)&&(Di=e)}function Li(e){z(Vi,Vi.current),z(Ri,e),null===Di&&(Di=e)}function Mi(e){22===e.tag?(z(Vi,Vi.current),z(Ri,e),null===Di&&(Di=e)):Fi()}function Fi(){z(Vi,Vi.current),z(Ri,Ri.current)}function Ui(e){V(Ri),Di===e&&(Di=null),V(Vi)}var Vi=U(0);function zi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Pd(n)||Rd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bi=0,qi=null,Gi=null,Hi=null,Wi=!1,Ki=!1,Ji=!1,Qi=0,Yi=0,$i=null,Xi=0;function Zi(){throw Error(a(321))}function ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function ta(e,t,n,r,s,i){return Bi=i,qi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?vo:yo,Ji=!1,i=n(r,s),Ji=!1,Ki&&(i=ra(t,n,r,s)),na(e),i}function na(e){D.H=go;var t=null!==Gi&&null!==Gi.next;if(Bi=0,Hi=Gi=qi=null,Wi=!1,Yi=0,$i=null,t)throw Error(a(300));null===e||Do||null!==(e=e.dependencies)&&As(e)&&(Do=!0)}function ra(e,t,n,r){qi=e;var s=0;do{if(Ki&&($i=null),Yi=0,Ki=!1,25<=s)throw Error(a(301));if(s+=1,Hi=Gi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}D.H=bo,i=t(n,r)}while(Ki);return i}function sa(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?ua(t):t,e=e.useState()[0],(null!==Gi?Gi.memoizedState:null)!==e&&(qi.flags|=1024),t}function ia(){var e=0!==Qi;return Qi=0,e}function aa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oa(e){if(Wi){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Wi=!1}Bi=0,Hi=Gi=qi=null,Ki=!1,Yi=Qi=0,$i=null}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Hi?qi.memoizedState=Hi=e:Hi=Hi.next=e,Hi}function ca(){if(null===Gi){var e=qi.alternate;e=null!==e?e.memoizedState:null}else e=Gi.next;var t=null===Hi?qi.memoizedState:Hi.next;if(null!==t)Hi=t,Gi=e;else{if(null===e){if(null===qi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Gi=e).memoizedState,baseState:Gi.baseState,baseQueue:Gi.baseQueue,queue:Gi.queue,next:null},null===Hi?qi.memoizedState=Hi=e:Hi=Hi.next=e}return Hi}function ua(e){var t=Yi;return Yi+=1,null===$i&&($i=[]),e=ri($i,e,t),t=qi,null===(null===Hi?t.memoizedState:Hi.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?vo:yo),e}function da(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ua(e);if(e.$$typeof===x)return Rs(e)}throw Error(a(438,String(e)))}function ha(e){var t=null,n=qi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=_;return t.index++,n}function pa(e,t){return"function"===typeof t?t(e):t}function fa(e){return ma(ca(),Gi,e)}function ma(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var s=e.baseQueue,i=r.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}t.baseQueue=s=i,r.pending=null}if(i=e.baseState,null===s)e.memoizedState=i;else{var l=o=null,c=null,u=t=s.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(vc&h)===h:(Bi&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Gs&&(d=!0);else{if((Bi&p)===p){u=u.next,p===Gs&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,qi.lanes|=p,kc|=p}h=u.action,Ji&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else p={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,o=i):c=c.next=p,qi.lanes|=h,kc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=i:c.next=l,!Xn(i,e.memoizedState)&&(Do=!0,d&&null!==(n=Hs)))throw n;e.memoizedState=i,e.baseState=o,e.baseQueue=c,r.lastRenderedState=i}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ga(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);Xn(i,t.memoizedState)||(Do=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function va(e,t,n){var r=qi,s=ca(),i=ds;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Xn((Gi||s).memoizedState,n);if(o&&(s.memoizedState=n,Do=!0),s=s.queue,Ba(wa.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||null!==Hi&&1&Hi.memoizedState.tag){if(r.flags|=2048,Ma(9,{destroy:void 0},ba.bind(null,r,s,n,t),null),null===mc)throw Error(a(349));i||0!==(127&Bi)||ya(r,t,n)}return n}function ya(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ba(e,t,n,r){t.value=n,t.getSnapshot=r,xa(t)&&Sa(e)}function wa(e,t,n){return n(function(){xa(t)&&Sa(e)})}function xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function Sa(e){var t=Rr(e,2);null!==t&&Qc(t,e,2)}function Ea(e){var t=la();if("function"===typeof e){var n=e;if(e=n(),Ji){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t}function Na(e,t,n,r){return e.baseState=n,ma(e,Gi,"function"===typeof r?r:pa)}function ka(e,t,n,r,s){if(po(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==D.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,Ca(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Ca(e,t){var n=t.action,r=t.payload,s=e.state;if(t.isTransition){var i=D.T,a={};D.T=a;try{var o=n(s,r),l=D.S;null!==l&&l(a,o),ja(e,t,o)}catch(c){Ta(e,t,c)}finally{null!==i&&null!==a.types&&(i.types=a.types),D.T=i}}else try{ja(e,t,i=n(s,r))}catch(u){Ta(e,t,u)}}function ja(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){_a(e,t,n)},function(n){return Ta(e,t,n)}):_a(e,t,n)}function _a(e,t,n){t.status="fulfilled",t.value=n,Ia(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ca(e,n)))}function Ta(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ia(t),t=t.next}while(t!==r)}e.action=null}function Ia(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Aa(e,t){return t}function Pa(e,t){if(ds){var n=mc.formState;if(null!==n){e:{var r=qi;if(ds){if(us){t:{for(var s=us,i=ps;8!==s.nodeType;){if(!i){s=null;break t}if(null===(s=Dd(s.nextSibling))){s=null;break t}}s="F!"===(i=s.data)||"F"===i?s:null}if(s){us=Dd(s.nextSibling),r="F!"===s.data;break e}}ms(r)}r=!1}r&&(t=n[0])}}return(n=la()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:t},n.queue=r,n=co.bind(null,qi,r),r.dispatch=n,r=Ea(!1),i=ho.bind(null,qi,!1,r.queue),s={state:t,dispatch:null,action:e,pending:null},(r=la()).queue=s,n=ka.bind(null,qi,s,i,n),s.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ra(e){return Da(ca(),Gi,e)}function Da(e,t,n){if(t=ma(e,t,Aa)[0],e=fa(pa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ua(t)}catch(_s){if(_s===Xs)throw ei;throw _s}else r=t;var s=(t=ca()).queue,i=s.dispatch;return n!==t.memoizedState&&(qi.flags|=2048,Ma(9,{destroy:void 0},Oa.bind(null,s,n),null)),[r,i,e]}function Oa(e,t){e.action=t}function La(e){var t=ca(),n=Gi;if(null!==n)return Da(t,n,e);ca(),t=t.memoizedState;var r=(n=ca()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ma(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return ca().memoizedState}function Ua(e,t,n,r){var s=la();qi.flags|=e,s.memoizedState=Ma(1|t,{destroy:void 0},n,void 0===r?null:r)}function Va(e,t,n,r){var s=ca();r=void 0===r?null:r;var i=s.memoizedState.inst;null!==Gi&&null!==r&&ea(r,Gi.memoizedState.deps)?s.memoizedState=Ma(t,i,n,r):(qi.flags|=e,s.memoizedState=Ma(1|t,i,n,r))}function za(e,t){Ua(8390656,8,e,t)}function Ba(e,t){Va(2048,8,e,t)}function qa(e){var t=ca().memoizedState;return function(e){qi.flags|=4;var t=qi.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qi.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Ga(e,t){return Va(4,2,e,t)}function Ha(e,t){return Va(4,4,e,t)}function Wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ka(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Wa.bind(null,t,e),n)}function Ja(){}function Qa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ea(t,r[1]))return r[0];if(r=e(),Ji){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function $a(e,t,n){return void 0===n||0!==(1073741824&Bi)&&0===(261930&vc)?e.memoizedState=t:(e.memoizedState=n,e=Jc(),qi.lanes|=e,kc|=e,n)}function Xa(e,t,n,r){return Xn(n,t)?n:null!==_i.current?(e=$a(e,n,r),Xn(e,t)||(Do=!0),e):0===(42&Bi)||0!==(1073741824&Bi)&&0===(261930&vc)?(Do=!0,e.memoizedState=n):(e=Jc(),qi.lanes|=e,kc|=e,t)}function Za(e,t,n,r,s){var i=O.p;O.p=0!==i&&8>i?i:8;var a=D.T,o={};D.T=o,ho(e,!1,t,n);try{var l=s(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Kc());else uo(e,t,r,Kc())}catch(u){uo(e,t,{then:function(){},status:"rejected",reason:u},Kc())}finally{O.p=i,null!==a&&null!==o.types&&(a.types=o.types),D.T=a}}function eo(){}function to(e,t,n,r){if(5!==e.tag)throw Error(a(476));var s=no(e).queue;Za(e,s,t,L,null===n?eo:function(){return ro(e),n(r)})}function no(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=no(e);null===t.next&&(t=e.alternate.memoizedState),uo(e,t.next.queue,{},Kc())}function so(){return Rs(dh)}function io(){return ca().memoizedState}function ao(){return ca().memoizedState}function oo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=wi(t,e=bi(n),n);return null!==r&&(Qc(r,t,n),xi(r,t,n)),t={cache:Vs()},void(e.payload=t)}t=t.return}}function lo(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},po(e)?fo(t,n):null!==(n=Pr(e,t,n,r))&&(Qc(n,e,r),mo(n,t,r))}function co(e,t,n){uo(e,t,n,Kc())}function uo(e,t,n,r){var s={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(po(e))fo(t,s);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,Xn(o,a))return Ar(e,t,s,0),null===mc&&Ir(),!1}catch(l){}if(null!==(n=Pr(e,t,s,r)))return Qc(n,e,r),mo(n,t,r),!0}return!1}function ho(e,t,n,r){if(r={lane:2,revertLane:qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},po(e)){if(t)throw Error(a(479))}else null!==(t=Pr(e,n,r,2))&&Qc(t,e,2)}function po(e){var t=e.alternate;return e===qi||null!==t&&t===qi}function fo(e,t){Ki=Wi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var go={readContext:Rs,use:da,useCallback:Zi,useContext:Zi,useEffect:Zi,useImperativeHandle:Zi,useLayoutEffect:Zi,useInsertionEffect:Zi,useMemo:Zi,useReducer:Zi,useRef:Zi,useState:Zi,useDebugValue:Zi,useDeferredValue:Zi,useTransition:Zi,useSyncExternalStore:Zi,useId:Zi,useHostTransitionStatus:Zi,useFormState:Zi,useActionState:Zi,useOptimistic:Zi,useMemoCache:Zi,useCacheRefresh:Zi};go.useEffectEvent=Zi;var vo={readContext:Rs,use:da,useCallback:function(e,t){return la().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:za,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){Ua(4,2,e,t)},useMemo:function(e,t){var n=la();t=void 0===t?null:t;var r=e();if(Ji){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=la();if(void 0!==n){var s=n(t);if(Ji){be(!0);try{n(t)}finally{be(!1)}}}else s=t;return r.memoizedState=r.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},r.queue=e,e=e.dispatch=lo.bind(null,qi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},la().memoizedState=e},useState:function(e){var t=(e=Ea(e)).queue,n=co.bind(null,qi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ja,useDeferredValue:function(e,t){return $a(la(),e,t)},useTransition:function(){var e=Ea(!1);return e=Za.bind(null,qi,e.queue,!0,!1),la().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qi,s=la();if(ds){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===mc)throw Error(a(349));0!==(127&vc)||ya(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,za(wa.bind(null,r,i,e),[e]),r.flags|=2048,Ma(9,{destroy:void 0},ba.bind(null,r,i,n,t),null),n},useId:function(){var e=la(),t=mc.identifierPrefix;if(ds){var n=rs;t="_"+t+"R_"+(n=(ns&~(1<<32-we(ns)-1)).toString(32)+n),0<(n=Qi++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xi++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:so,useFormState:Pa,useActionState:Pa,useOptimistic:function(e){var t=la();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ho.bind(null,qi,!0,n),n.dispatch=t,[e,t]},useMemoCache:ha,useCacheRefresh:function(){return la().memoizedState=oo.bind(null,qi)},useEffectEvent:function(e){var t=la(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(a(440));return n.impl.apply(void 0,arguments)}}},yo={readContext:Rs,use:da,useCallback:Qa,useContext:Rs,useEffect:Ba,useImperativeHandle:Ka,useInsertionEffect:Ga,useLayoutEffect:Ha,useMemo:Ya,useReducer:fa,useRef:Fa,useState:function(){return fa(pa)},useDebugValue:Ja,useDeferredValue:function(e,t){return Xa(ca(),Gi.memoizedState,e,t)},useTransition:function(){var e=fa(pa)[0],t=ca().memoizedState;return["boolean"===typeof e?e:ua(e),t]},useSyncExternalStore:va,useId:io,useHostTransitionStatus:so,useFormState:Ra,useActionState:Ra,useOptimistic:function(e,t){return Na(ca(),0,e,t)},useMemoCache:ha,useCacheRefresh:ao};yo.useEffectEvent=qa;var bo={readContext:Rs,use:da,useCallback:Qa,useContext:Rs,useEffect:Ba,useImperativeHandle:Ka,useInsertionEffect:Ga,useLayoutEffect:Ha,useMemo:Ya,useReducer:ga,useRef:Fa,useState:function(){return ga(pa)},useDebugValue:Ja,useDeferredValue:function(e,t){var n=ca();return null===Gi?$a(n,e,t):Xa(n,Gi.memoizedState,e,t)},useTransition:function(){var e=ga(pa)[0],t=ca().memoizedState;return["boolean"===typeof e?e:ua(e),t]},useSyncExternalStore:va,useId:io,useHostTransitionStatus:so,useFormState:La,useActionState:La,useOptimistic:function(e,t){var n=ca();return null!==Gi?Na(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ha,useCacheRefresh:ao};function wo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bo.useEffectEvent=qa;var xo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),s=bi(r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=wi(e,s,r))&&(Qc(t,e,r),xi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),s=bi(r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=wi(e,s,r))&&(Qc(t,e,r),xi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=bi(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=wi(e,r,n))&&(Qc(t,e,n),xi(t,e,n))}};function So(e,t,n,r,s,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(s,i))}function Eo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function No(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var s in n===t&&(n=p({},n)),e)void 0===n[s]&&(n[s]=e[s]);return n}function ko(e){Cr(e)}function Co(e){console.error(e)}function jo(e){Cr(e)}function _o(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function To(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Io(e,t,n){return(n=bi(n)).tag=3,n.payload={element:null},n.callback=function(){_o(e,t)},n}function Ao(e){return(e=bi(e)).tag=3,e}function Po(e,t,n,r){var s=n.type.getDerivedStateFromError;if("function"===typeof s){var i=r.value;e.payload=function(){return s(i)},e.callback=function(){To(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){To(t,n,r),"function"!==typeof s&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ro=Error(a(461)),Do=!1;function Oo(e,t,n,r){t.child=null===e?mi(t,null,n,r):fi(t,e.child,n,r)}function Lo(e,t,n,r,s){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Ps(t),r=ta(e,t,n,a,i,s),o=ia(),null===e||Do?(ds&&o&&as(t),t.flags|=1,Oo(e,t,r,s),t.child):(aa(e,t,s),il(e,t,s))}function Mo(e,t,n,r,s){if(null===e){var i=n.type;return"function"!==typeof i||Ur(i)||void 0!==i.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Fo(e,t,i,r,s))}if(i=e.child,!al(e,s)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(a,r)&&e.ref===t.ref)return il(e,t,s)}return t.flags|=1,(e=Vr(i,r)).ref=t.ref,e.return=t,t.child=e}function Fo(e,t,n,r,s){if(null!==e){var i=e.memoizedProps;if(Zn(i,r)&&e.ref===t.ref){if(Do=!1,t.pendingProps=r=i,!al(e,s))return t.lanes=e.lanes,il(e,t,s);0!==(131072&e.flags)&&(Do=!0)}}return Ho(e,t,n,r,s)}function Uo(e,t,n,r){var s=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,s=0;null!==r;)s=s|r.lanes|r.childLanes,r=r.sibling;r=s&~i}else r=0,t.child=null;return zo(e,t,i,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,zo(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ys(0,null!==i?i.cachePool:null),null!==i?Ii(t,i):Ai(),Mi(t)}else null!==i?(Ys(0,i.cachePool),Ii(t,i),Fi(),t.memoizedState=null):(null!==e&&Ys(0,null),Ai(),Fi());return Oo(e,t,s,n),t.child}function Vo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function zo(e,t,n,r,s){var i=Qs();return i=null===i?null:{parent:Us._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Ys(0,null),Ai(),Mi(t),null!==e&&Is(e,t,r,!0),t.childLanes=s,null}function Bo(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qo(e,t,n){return fi(t,e.child,null,n),(e=Bo(t,t.pendingProps)).flags|=2,Ui(t),t.memoizedState=null,e}function Go(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ho(e,t,n,r,s){return Ps(t),n=ta(e,t,n,r,void 0,s),r=ia(),null===e||Do?(ds&&r&&as(t),t.flags|=1,Oo(e,t,n,s),t.child):(aa(e,t,s),il(e,t,s))}function Wo(e,t,n,r,s,i){return Ps(t),t.updateQueue=null,n=ra(t,r,n,s),na(e),r=ia(),null===e||Do?(ds&&r&&as(t),t.flags|=1,Oo(e,t,n,i),t.child):(aa(e,t,i),il(e,t,i))}function Ko(e,t,n,r,s){if(Ps(t),null===t.stateNode){var i=Lr,a=n.contextType;"object"===typeof a&&null!==a&&(i=Rs(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=xo,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},vi(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Rs(a):Lr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(wo(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&xo.enqueueReplaceState(i,i.state,null),ki(t,r,i,s),Ni(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var o=t.memoizedProps,l=No(n,o);i.props=l;var c=i.context,u=n.contextType;a=Lr,"object"===typeof u&&null!==u&&(a=Rs(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o||c!==a)&&Eo(t,i,r,a),gi=!1;var h=t.memoizedState;i.state=h,ki(t,r,i,s),Ni(),c=t.memoizedState,o||h!==c||gi?("function"===typeof d&&(wo(t,n,d,r),c=t.memoizedState),(l=gi||So(t,n,l,r,h,c,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,yi(e,t),u=No(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,h=i.context,c=n.contextType,l=Lr,"object"===typeof c&&null!==c&&(l=Rs(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||h!==l)&&Eo(t,i,r,l),gi=!1,h=t.memoizedState,i.state=h,ki(t,r,i,s),Ni();var p=t.memoizedState;a!==d||h!==p||gi||null!==e&&null!==e.dependencies&&As(e.dependencies)?("function"===typeof o&&(wo(t,n,o,r),p=t.memoizedState),(u=gi||So(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&As(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,p,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),i.props=r,i.state=p,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Go(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=fi(t,e.child,null,s),t.child=fi(t,null,n,s)):Oo(e,t,n,s),t.memoizedState=i.state,e=t.child):e=il(e,t,s),e}function Jo(e,t,n,r){return bs(),t.flags|=256,Oo(e,t,n,r),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:$s()}}function $o(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=_c),e}function Xo(e,t,n){var r,s=t.pendingProps,i=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Vi.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ds){if(i?Oi(t):Fi(),(e=us)?null!==(e=null!==(e=Ad(e,ps))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ts?{id:ns,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,cs=t,us=null):e=null,null===e)throw ms(t);return Rd(e)?t.lanes=32:t.lanes=536870912,null}var l=s.children;return s=s.fallback,i?(Fi(),l=el({mode:"hidden",children:l},i=t.mode),s=qr(s,i,n,null),l.return=t,s.return=t,l.sibling=s,t.child=l,(s=t.child).memoizedState=Yo(n),s.childLanes=$o(e,r,n),t.memoizedState=Qo,Vo(null,s)):(Oi(t),Zo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Oi(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(Fi(),t.child=e.child,t.flags|=128,t=null):(Fi(),l=s.fallback,i=t.mode,s=el({mode:"visible",children:s.children},i),(l=qr(l,i,n,null)).flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,fi(t,e.child,null,n),(s=t.child).memoizedState=Yo(n),s.childLanes=$o(e,r,n),t.memoizedState=Qo,t=Vo(null,s));else if(Oi(t),Rd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(s=Error(a(419))).stack="",s.digest=r,xs({value:s,source:null,stack:null}),t=tl(e,t,n)}else if(Do||Is(e,t,n,!1),r=0!==(n&e.childLanes),Do||r){if(null!==(r=mc)&&(0!==(s=Oe(r,n))&&s!==c.retryLane))throw c.retryLane=s,Rr(e,s),Qc(r,e,s),Ro;Pd(l)||ou(),t=tl(e,t,n)}else Pd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,us=Dd(l.nextSibling),cs=t,ds=!0,hs=null,ps=!1,null!==e&&ls(t,e),(t=Zo(t,s.children)).flags|=4096);return t}return i?(Fi(),l=s.fallback,i=t.mode,u=(c=e.child).sibling,(s=Vr(c,{mode:"hidden",children:s.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Vr(u,l):(l=qr(l,i,n,null)).flags|=2,l.return=t,s.return=t,s.sibling=l,t.child=s,Vo(null,s),s=t.child,null===(l=e.child.memoizedState)?l=Yo(n):(null!==(i=l.cachePool)?(c=Us._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=$s(),l={baseLanes:l.baseLanes|n,cachePool:i}),s.memoizedState=l,s.childLanes=$o(e,r,n),t.memoizedState=Qo,Vo(e.child,s)):(Oi(t),e=(n=e.child).sibling,(n=Vr(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zo(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return fi(t,e.child,null,n),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),js(e.return,t,n)}function rl(e,t,n,r,s,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s,treeForkCount:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s,a.treeForkCount=i)}function sl(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;r=r.children;var a=Vi.current,o=0!==(2&a);if(o?(a=1&a|2,t.flags|=128):a&=1,z(Vi,a),Oo(e,t,r,n),r=ds?Xr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===zi(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),rl(t,!1,s,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===zi(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}rl(t,!0,n,null,i,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),kc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Is(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Vr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function al(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!As(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Do=!0;else{if(!al(e,n)&&0===(128&t.flags))return Do=!1,function(e,t,n){switch(t.tag){case 3:J(t,t.stateNode.containerInfo),ks(0,Us,e.memoizedState.cache),bs();break;case 27:case 5:Y(t);break;case 4:J(t,t.stateNode.containerInfo);break;case 10:ks(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Li(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Oi(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xo(e,t,n):(Oi(t),null!==(e=il(e,t,n))?e.sibling:null);Oi(t);break;case 19:var s=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Is(e,t,n,!1),r=0!==(n&t.childLanes)),s){if(r)return sl(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(Vi,Vi.current),r)break;return null;case 22:return t.lanes=0,Uo(e,t,n,t.pendingProps);case 24:ks(0,Us,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Do=0!==(131072&e.flags)}else Do=!1,ds&&0!==(1048576&t.flags)&&is(t,Xr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=si(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var s=e.$$typeof;if(s===S){t.tag=11,t=Lo(null,t,e,r,n);break e}if(s===k){t.tag=14,t=Mo(null,t,e,r,n);break e}}throw t=P(e)||e,Error(a(306,t,""))}Ur(e)?(r=No(e,r),t.tag=1,t=Ko(null,t,e,r,n)):(t.tag=0,t=Ho(null,t,e,r,n))}return t;case 0:return Ho(e,t,t.type,t.pendingProps,n);case 1:return Ko(e,t,r=t.type,s=No(r,t.pendingProps),n);case 3:e:{if(J(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;s=i.element,yi(e,t),ki(t,r,null,n);var o=t.memoizedState;if(r=o.cache,ks(0,Us,r),r!==i.cache&&Ts(t,[Us],n,!0),Ni(),r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Jo(e,t,r,n);break e}if(r!==s){xs(s=Jr(Error(a(424)),t)),t=Jo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(us=Dd(e.firstChild),cs=t,ds=!0,hs=null,ps=!0,n=mi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bs(),r===s){t=il(e,t,n);break e}Oo(e,t,r,n)}t=t.child}return t;case 26:return Go(e,t),null===e?(n=Wd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ds||(n=t.type,e=t.pendingProps,(r=vd(W.current).createElement(n))[ze]=t,r[Be]=e,pd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Wd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&ds&&(r=t.stateNode=Fd(t.type,t.pendingProps,W.current),cs=t,ps=!0,s=us,jd(t.type)?(Od=s,us=Dd(r.firstChild)):us=s),Oo(e,t,t.pendingProps.children,n),Go(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ds&&((s=r=us)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Je])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===i)return e}if(null===(e=Dd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ps))?(t.stateNode=r,cs=t,us=Dd(r.firstChild),ps=!1,s=!0):s=!1),s||ms(t)),Y(t),s=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,r=i.children,wd(s,i)?r=null:null!==o&&wd(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=ta(e,t,sa,null,null,n),dh._currentValue=s),Go(e,t),Oo(e,t,r,n),t.child;case 6:return null===e&&ds&&((e=n=us)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}(n,t.pendingProps,ps))?(t.stateNode=n,cs=t,us=null,e=!0):e=!1),e||ms(t)),null;case 13:return Xo(e,t,n);case 4:return J(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fi(t,null,r,n):Oo(e,t,r,n),t.child;case 11:return Lo(e,t,t.type,t.pendingProps,n);case 7:return Oo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,ks(0,t.type,r.value),Oo(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Ps(t),r=r(s=Rs(s)),t.flags|=1,Oo(e,t,r,n),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,n);case 15:return Fo(e,t,t.type,t.pendingProps,n);case 19:return sl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,s=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ds){if("hidden"===r.mode)return e=Bo(t,r),t.lanes=536870912,Vo(null,e);if(Li(t),(e=us)?null!==(e=null!==(e=Ad(e,ps))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ts?{id:ns,overflow:rs}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,cs=t,us=null):e=null,null===e)throw ms(t);return t.lanes=536870912,null}return Bo(t,r)}var i=e.memoizedState;if(null!==i){var o=i.dehydrated;if(Li(t),s)if(256&t.flags)t.flags&=-257,t=qo(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Do||Is(e,t,n,!1),s=0!==(n&e.childLanes),Do||s){if(null!==(r=mc)&&0!==(o=Oe(r,n))&&o!==i.retryLane)throw i.retryLane=o,Rr(e,o),Qc(r,e,o),Ro;ou(),t=qo(e,t,n)}else e=i.treeContext,us=Dd(o.nextSibling),cs=t,ds=!0,hs=null,ps=!1,null!==e&&ls(t,e),(t=Bo(t,r)).flags|=4096;return t}return(e=Vr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Uo(e,t,n,t.pendingProps);case 24:return Ps(t),r=Rs(Us),null===e?(null===(s=Qs())&&(s=mc,i=Vs(),s.pooledCache=i,i.refCount++,null!==i&&(s.pooledCacheLanes|=n),s=i),t.memoizedState={parent:r,cache:s},vi(t),ks(0,Us,s)):(0!==(e.lanes&n)&&(yi(e,t),ki(t,null,null,n),Ni()),s=e.memoizedState,i=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),ks(0,Us,r)):(r=i.cache,ks(0,Us,r),r!==s.cache&&Ts(t,[Us],n,!0))),Oo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,s){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&s)===s)if(e.stateNode.complete)e.flags|=8192;else{if(!su())throw ii=ti,Zs;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ih(t)){if(!su())throw ii=ti,Zs;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ie():536870912,e.lanes|=t,Tc|=t)}function hl(e,t){if(!ds)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=65011712&s.subtreeFlags,r|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(os(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Cs(Us),Q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ys(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,ws())),pl(t),null;case 26:var s=t.type,i=t.memoizedState;return null===e?(ll(t),null!==i?(pl(t),ul(t,i)):(pl(t),cl(t,s,0,0,n))):i?i!==e.memoizedState?(ll(t),pl(t),ul(t,i)):(pl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),pl(t),cl(t,s,0,0,n)),null;case 27:if($(t),n=W.current,s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pl(t),null}e=G.current,ys(t)?gs(t):(e=Fd(s,r,n),t.stateNode=e,ll(t))}return pl(t),null;case 5:if($(t),s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pl(t),null}if(i=G.current,ys(t))gs(t);else{var o=vd(W.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":(i=o.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i="string"===typeof r.is?o.createElement(s,{is:r.is}):o.createElement(s)}}i[ze]=t,i[Be]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)i.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(pd(i,s,r),s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return pl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=W.current,ys(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=cs))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||ms(t,!0)}else(e=vd(e).createTextNode(r))[ze]=t,t.stateNode=e}return pl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=ys(t),null!==n){if(null===e){if(!r)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[ze]=t}else bs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),e=!1}else n=ws(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ui(t),t):(Ui(t),null);if(0!==(128&t.flags))throw Error(a(558))}return pl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=ys(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(a(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(a(317));s[ze]=t}else bs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),s=!1}else s=ws(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(Ui(t),t):(Ui(t),null)}return Ui(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool),i=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==s&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),pl(t),null);case 4:return Q(),null===e&&ed(t.stateNode.containerInfo),pl(t),null;case 10:return Cs(t.type),pl(t),null;case 19:if(V(Vi),null===(r=t.memoizedState))return pl(t),null;if(s=0!==(128&t.flags),null===(i=r.rendering))if(s)hl(r,!1);else{if(0!==Nc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=zi(e))){for(t.flags|=128,hl(r,!1),e=i.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return z(Vi,1&Vi.current|2),ds&&ss(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Oc&&(t.flags|=128,s=!0,hl(r,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=zi(i))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!ds)return pl(t),null}else 2*le()-r.renderingStartTime>Oc&&536870912!==n&&(t.flags|=128,s=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Vi.current,z(Vi,s?1&n|2:1&n),ds&&ss(t,r.treeForkCount),e):(pl(t),null);case 22:case 23:return Ui(t),Pi(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(pl(t),6&t.subtreeFlags&&(t.flags|=8192)):pl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(Js),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Cs(Us),pl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ml(e,t){switch(os(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Cs(Us),Q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(Ui(t),null===t.alternate)throw Error(a(340));bs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ui(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));bs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(Vi),null;case 4:return Q(),null;case 10:return Cs(t.type),null;case 22:case 23:return Ui(t),Pi(),null!==e&&V(Js),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Cs(Us),null;default:return null}}function gl(e,t){switch(os(t),t.tag){case 3:Cs(Us),Q();break;case 26:case 27:case 5:$(t);break;case 4:Q();break;case 31:null!==t.memoizedState&&Ui(t);break;case 13:Ui(t);break;case 19:V(Vi);break;case 10:Cs(t.type);break;case 22:case 23:Ui(t),Pi(),null!==e&&V(Js);break;case 24:Cs(Us)}}function vl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var s=r.next;n=s;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==s)}}catch(o){Nu(t,t.return,o)}}function yl(e,t,n){try{var r=t.updateQueue,s=null!==r?r.lastEffect:null;if(null!==s){var i=s.next;r=i;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,s=t;var l=n,c=o;try{c()}catch(u){Nu(s,l,u)}}}r=r.next}while(r!==i)}}catch(u){Nu(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ji(t,n)}catch(r){Nu(e,e.return,r)}}}function wl(e,t,n){n.props=No(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Nu(e,t,r)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(s){Nu(e,t,s)}}function Sl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(s){Nu(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(i){Nu(e,t,i)}else n.current=null}function El(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(s){Nu(e,e.return,s)}}function Nl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,o=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||dd(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":i=f;break;case"name":s=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:f!==h&&dd(e,t,p,f,r,h)}}return void yt(e,o,l,c,u,d,i,s);case"select":for(i in f=o=l=p=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(i)||dd(e,t,i,null,r,c)}for(s in r)if(i=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=i||null!=c))switch(s){case"value":p=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&dd(e,t,s,i,r,c)}return t=l,n=o,r=f,void(null!=p?xt(e,!!n,p,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,s)}for(o in r)if(s=r[o],i=n[o],r.hasOwnProperty(o)&&(null!=s||null!=i))switch(o){case"value":p=s;break;case"defaultValue":f=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(a(91));break;default:s!==i&&dd(e,t,o,s,r,i)}return void St(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else dd(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:dd(e,t,u,p,r,f)}return;default:if(_t(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&hd(e,t,v,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||hd(e,t,d,p,r,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&dd(e,t,y,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||dd(e,t,h,p,r,f)}(r,e.type,n,t),r[Be]=t}catch(s){Nu(e,e.return,s)}}function kl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&jd(e.type)||4===e.tag}function Cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||kl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&jd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function jl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Pt));else if(4!==r&&(27===r&&jd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(jl(e,t,n),e=e.sibling;null!==e;)jl(e,t,n),e=e.sibling}function _l(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&jd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(_l(e,t,n),e=e.sibling;null!==e;)_l(e,t,n),e=e.sibling}function Tl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);pd(t,r,n),t[ze]=e,t[Be]=n}catch(i){Nu(e,e.return,i)}}var Il=!1,Al=!1,Pl=!1,Rl="function"===typeof WeakSet?WeakSet:Set,Dl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ql(e,n),4&r&&vl(5,n);break;case 1:if(Ql(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){Nu(n,n.return,a)}else{var s=No(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Nu(n,n.return,o)}}64&r&&bl(n),512&r&&xl(n,n.return);break;case 3:if(Ql(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ji(e,t)}catch(a){Nu(n,n.return,a)}}break;case 27:null===t&&4&r&&Tl(n);case 26:case 5:Ql(e,n),null===t&&4&r&&El(n),512&r&&xl(n,n.return);break;case 12:Ql(e,n);break;case 31:Ql(e,n),4&r&&zl(e,n);break;case 13:Ql(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=_u.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Il)){t=null!==t&&null!==t.memoizedState||Al,s=Il;var i=Al;Il=r,(Al=t)&&!i?$l(e,n,0!==(8772&n.subtreeFlags)):Ql(e,n),Il=s,Al=i}break;case 30:break;default:Ql(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Qe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Fl=!1;function Ul(e,t,n){for(n=n.child;null!==n;)Vl(e,t,n),n=n.sibling}function Vl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(i){}switch(n.tag){case 26:Al||Sl(n,t),Ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Al||Sl(n,t);var r=Ml,s=Fl;jd(n.type)&&(Ml=n.stateNode,Fl=!1),Ul(e,t,n),Ud(n.stateNode),Ml=r,Fl=s;break;case 5:Al||Sl(n,t);case 6:if(r=Ml,s=Fl,Ml=null,Ul(e,t,n),Fl=s,null!==(Ml=r))if(Fl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(a){Nu(n,t,a)}else try{Ml.removeChild(n.stateNode)}catch(a){Nu(n,t,a)}break;case 18:null!==Ml&&(Fl?(_d(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Hh(e)):_d(Ml,n.stateNode));break;case 4:r=Ml,s=Fl,Ml=n.stateNode.containerInfo,Fl=!0,Ul(e,t,n),Ml=r,Fl=s;break;case 0:case 11:case 14:case 15:yl(2,n,t),Al||yl(4,n,t),Ul(e,t,n);break;case 1:Al||(Sl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),Ul(e,t,n);break;case 21:Ul(e,t,n);break;case 22:Al=(r=Al)||null!==n.memoizedState,Ul(e,t,n),Al=r;break;default:Ul(e,t,n)}}function zl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Hh(e)}catch(n){Nu(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Hh(e)}catch(n){Nu(t,t.return,n)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Tu.bind(null,e,t);t.then(r,r)}})}function Gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(jd(l.type)){Ml=l.stateNode,Fl=!1;break e}break;case 5:Ml=l.stateNode,Fl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Ml)throw Error(a(160));Vl(i,o,s),Ml=null,Fl=!1,null!==(i=s.alternate)&&(i.return=null),s.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wl(t,e),t=t.sibling}var Hl=null;function Wl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Gl(t,e),Kl(e),4&r&&(yl(3,e,e.return),vl(3,e),yl(5,e,e.return));break;case 1:Gl(t,e),Kl(e),512&r&&(Al||null===n||Sl(n,n.return)),64&r&&Il&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=Hl;if(Gl(t,e),Kl(e),512&r&&(Al||null===n||Sl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(i=s.getElementsByTagName("title")[0])||i[Je]||i[ze]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=s.createElement(r),s.head.insertBefore(i,s.querySelector("head > title"))),pd(i,r,n),i[ze]=e,et(i),r=i;break e;case"link":var o=rh("link","href",s).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}pd(i=s.createElement(r),r,n),s.head.appendChild(i);break;case"meta":if(o=rh("meta","content",s).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}pd(i=s.createElement(r),r,n),s.head.appendChild(i);break;default:throw Error(a(468,r))}i[ze]=e,et(i),r=i}e.stateNode=r}else sh(s,e.type,e.stateNode);else e.stateNode=Xd(s,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?sh(s,e.type,e.stateNode):Xd(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Nl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Gl(t,e),Kl(e),512&r&&(Al||null===n||Sl(n,n.return)),null!==n&&4&r&&Nl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Gl(t,e),Kl(e),512&r&&(Al||null===n||Sl(n,n.return)),32&e.flags){s=e.stateNode;try{Nt(s,"")}catch(m){Nu(e,e.return,m)}}4&r&&null!=e.stateNode&&Nl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(Pl=!0);break;case 6:if(Gl(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Nu(e,e.return,m)}}break;case 3:if(nh=null,s=Hl,Hl=Bd(t.containerInfo),Gl(t,e),Hl=s,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Hh(t.containerInfo)}catch(m){Nu(e,e.return,m)}Pl&&(Pl=!1,Jl(e));break;case 4:r=Hl,Hl=Bd(e.stateNode.containerInfo),Gl(t,e),Kl(e),Hl=r;break;case 12:default:Gl(t,e),Kl(e);break;case 31:case 19:Gl(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Gl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Rc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Il,d=Al;if(Il=u||s,Al=d||c,Gl(t,e),Al=d,Il=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||Il||Al||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,s)"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){Nu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(m){Nu(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var f=c.stateNode;s?Td(f,!0):Td(c.stateNode,!1)}catch(m){Nu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(kl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var s=n.stateNode;_l(e,Cl(e),s);break;case 5:var i=n.stateNode;32&n.flags&&(Nt(i,""),n.flags&=-33),_l(e,Cl(e),i);break;case 3:case 4:var o=n.stateNode.containerInfo;jl(e,Cl(e),o);break;default:throw Error(a(161))}}catch(l){Nu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ql(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Yl(t);break;case 1:Sl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),Yl(t);break;case 27:Ud(t.stateNode);case 26:case 5:Sl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,s=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:$l(s,i,n),vl(4,i);break;case 1:if($l(s,i,n),"function"===typeof(s=(r=i).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){Nu(r,r.return,c)}if(null!==(s=(r=i).updateQueue)){var o=r.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)Ci(l[s],o)}catch(c){Nu(r,r.return,c)}}n&&64&a&&bl(i),xl(i,i.return);break;case 27:Tl(i);case 26:case 5:$l(s,i,n),n&&null===r&&4&a&&El(i),xl(i,i.return);break;case 12:$l(s,i,n);break;case 31:$l(s,i,n),n&&4&a&&zl(s,i);break;case 13:$l(s,i,n),n&&4&a&&Bl(s,i);break;case 22:null===i.memoizedState&&$l(s,i,n),xl(i,i.return);break;case 30:break;default:$l(s,i,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&zs(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zs(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var s=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&s&&vl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&zs(e)));break;case 12:if(2048&s){ec(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,o=i.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Nu(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?ec(e,t,n,r):rc(e,t):2&i._visibility?ec(e,t,n,r):(i._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&s&&Xl(a,t);break;case 24:ec(e,t,n,r),2048&s&&Zl(t.alternate,t)}}function nc(e,t,n,r,s){for(s=s&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:nc(i,a,o,l,s),vl(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?nc(i,a,o,l,s):rc(i,a):(u._visibility|=2,nc(i,a,o,l,s)),s&&2048&c&&Xl(a.alternate,a);break;case 24:nc(i,a,o,l,s),s&&2048&c&&Zl(a.alternate,a);break;default:nc(i,a,o,l,s)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,s=r.flags;switch(r.tag){case 22:rc(n,r),2048&s&&Xl(r.alternate,r);break;case 24:rc(n,r),2048&s&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var sc=8192;function ic(e,t,n){if(e.subtreeFlags&sc)for(e=e.child;null!==e;)ac(e,t,n),e=e.sibling}function ac(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&sc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var s=Kd(r.href),i=t.querySelector(Jd(s));if(i)return null!==(t=i._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void et(i);i=t.ownerDocument||t,r=Qd(r),(s=Vd.get(s))&&eh(r,s),et(i=i.createElement("link"));var a=i;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),pd(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Hl,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=Hl;Hl=Bd(e.stateNode.containerInfo),ic(e,t,n),Hl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=sc,sc=16777216,ic(e,t,n),sc=r):ic(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,dc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,dc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Dl;){var n=Dl;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:zs(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Dl=r;else e:for(n=e;null!==Dl;){var s=(r=Dl).sibling,i=r.return;if(Ll(r),r===n){Dl=null;break e}if(null!==s){s.return=i,Dl=s;break e}Dl=i}}}var hc={getCacheForType:function(e){var t=Rs(Us),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Rs(Us).controller.signal}},pc="function"===typeof WeakMap?WeakMap:Map,fc=0,mc=null,gc=null,vc=0,yc=0,bc=null,wc=!1,xc=!1,Sc=!1,Ec=0,Nc=0,kc=0,Cc=0,jc=0,_c=0,Tc=0,Ic=null,Ac=null,Pc=!1,Rc=0,Dc=0,Oc=1/0,Lc=null,Mc=null,Fc=0,Uc=null,Vc=null,zc=0,Bc=0,qc=null,Gc=null,Hc=0,Wc=null;function Kc(){return 0!==(2&fc)&&0!==vc?vc&-vc:null!==D.T?qu():Fe()}function Jc(){if(0===_c)if(0===(536870912&vc)||ds){var e=Ne;0===(3932160&(Ne<<=1))&&(Ne=262144),_c=e}else _c=536870912;return null!==(e=Ri.current)&&(e.flags|=32),_c}function Qc(e,t,n){(e!==mc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,vc,_c,!1)),Pe(e,n),0!==(2&fc)&&e===mc||(e===mc&&(0===(2&fc)&&(Cc|=n),4===Nc&&Zc(e,vc,_c,!1)),Lu(e))}function Yc(e,t,n){if(0!==(6&fc))throw Error(a(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||_e(e,t),s=r?function(e,t){var n=fc;fc|=2;var r=iu(),s=au();mc!==e||vc!==t?(Lc=null,Oc=le()+500,nu(e,t)):xc=_e(e,t);e:for(;;)try{if(0!==yc&&null!==gc){t=gc;var i=bc;t:switch(yc){case 1:yc=0,bc=null,pu(e,t,i,1);break;case 2:case 9:if(ni(i)){yc=0,bc=null,hu(t);break}t=function(){2!==yc&&9!==yc||mc!==e||(yc=7),Lu(e)},i.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:ni(i)?(yc=0,bc=null,hu(t)):(yc=0,bc=null,pu(e,t,i,7));break;case 5:var o=null;switch(gc.tag){case 26:o=gc.memoizedState;case 5:case 27:var l=gc;if(o?ih(o):l.stateNode.complete){yc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,fu(u)):gc=null}break t}}yc=0,bc=null,pu(e,t,i,5);break;case 6:yc=0,bc=null,pu(e,t,i,6);break;case 8:tu(),Nc=6;break e;default:throw Error(a(462))}}uu();break}catch(d){ru(e,d)}return Ns=Es=null,D.H=r,D.A=s,fc=n,null!==gc?0:(mc=null,vc=0,Ir(),Nc)}(e,t):lu(e,t,!0),i=r;;){if(0===s){xc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!i||Xc(n)){if(2===s){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=Ic;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,o).flags|=256),2!==(o=lu(l,o,!1))){if(Sc&&!c){l.errorRecoveryDisabledLanes|=i,Cc|=i,s=4;break e}i=Ac,Ac=s,null!==i&&(null===Ac?Ac=i:Ac.push.apply(Ac,i))}s=o}if(i=!1,2!==s)continue}}if(1===s){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,i=s){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,_c,!wc);break e;case 2:Ac=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(s=Rc+300-le())){if(Zc(r,t,_c,!wc),0!==je(r,0,!0))break e;zc=t,r.timeoutHandle=Sd($c.bind(null,r,n,Ac,Lc,Pc,t,_c,Cc,Tc,wc,i,"Throttled",-0,0),s)}else $c(r,n,Ac,Lc,Pc,t,_c,Cc,Tc,wc,i,null,-0,0)}break}s=lu(e,t,!1),i=!1}Lu(e)}function $c(e,t,n,r,s,i,a,o,l,c,u,d,h,p){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ac(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pt});var f=(62914560&i)===i?Rc-le():(4194048&i)===i?Dc-le():0;if(f=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ah&&(ah=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var s=n[r],i=s.transferSize,a=s.initiatorType,o=s.duration;if(i&&o&&fd(a)){for(a=0,o=s.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(a+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(i+a)/(s.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var s=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ah?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(s)}}:null}(d,f),null!==f)return zc=i,e.cancelPendingCommit=f(gu.bind(null,e,t,i,n,r,s,a,o,l,u,d,null,h,p)),void Zc(e,i,a,!c)}gu(e,t,i,n,r,s,a,o,l)}function Xc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Xn(i(),s))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~jc,t&=~Cc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var s=t;0<s;){var i=31-we(s),a=1<<i;r[i]=-1,s&=~a}0!==n&&Re(e,n,t)}function eu(){return 0!==(6&fc)||(Mu(0,!1),!1)}function tu(){if(null!==gc){if(0===yc)var e=gc.return;else Ns=Es=null,oa(e=gc),li=null,ci=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Ed(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc=0,tu(),mc=e,gc=n=Vr(e.current,null),vc=t,yc=0,bc=null,wc=!1,xc=_e(e,t),Sc=!1,Tc=_c=jc=Cc=kc=Nc=0,Ac=Ic=null,Pc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var s=31-we(r),i=1<<s;t|=e[s],r&=~i}return Ec=t,Ir(),n}function ru(e,t){qi=null,D.H=go,t===Xs||t===ei?(t=ai(),yc=3):t===Zs?(t=ai(),yc=4):yc=t===Ro?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(Nc=1,_o(e,Jr(t,e.current)))}function su(){var e=Ri.current;return null===e||((4194048&vc)===vc?null===Di:((62914560&vc)===vc||0!==(536870912&vc))&&e===Di)}function iu(){var e=D.H;return D.H=go,null===e?go:e}function au(){var e=D.A;return D.A=hc,e}function ou(){Nc=4,wc||(4194048&vc)!==vc&&null!==Ri.current||(xc=!0),0===(134217727&kc)&&0===(134217727&Cc)||null===mc||Zc(mc,vc,_c,!1)}function lu(e,t,n){var r=fc;fc|=2;var s=iu(),i=au();mc===e&&vc===t||(Lc=null,nu(e,t)),t=!1;var a=Nc;e:for(;;)try{if(0!==yc&&null!==gc){var o=gc,l=bc;switch(yc){case 8:tu(),a=6;break e;case 3:case 2:case 9:case 6:null===Ri.current&&(t=!0);var c=yc;if(yc=0,bc=null,pu(e,o,l,c),n&&xc){a=0;break e}break;default:c=yc,yc=0,bc=null,pu(e,o,l,c)}}cu(),a=Nc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Ns=Es=null,fc=r,D.H=s,D.A=i,null===gc&&(mc=null,vc=0,Ir()),a}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!ae();)du(gc)}function du(e){var t=ol(e.alternate,e,Ec);e.memoizedProps=e.pendingProps,null===t?fu(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wo(n,t,t.pendingProps,t.type,void 0,vc);break;case 11:t=Wo(n,t,t.pendingProps,t.type.render,t.ref,vc);break;case 5:oa(t);default:gl(n,t),t=ol(n,t=gc=zr(t,Ec),Ec)}e.memoizedProps=e.pendingProps,null===t?fu(e):gc=t}function pu(e,t,n,r){Ns=Es=null,oa(t),li=null,ci=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Is(t,n,s,!0),null!==(n=Ri.current)){switch(n.tag){case 31:case 13:return null===Di?ou():null===n.alternate&&0===Nc&&(Nc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),ku(e,r,s)),!1;case 22:return n.flags|=65536,r===ti?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),ku(e,r,s)),!1}throw Error(a(435,n.tag))}return ku(e,r,s),ou(),!1}if(ds)return null!==(t=Ri.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==fs&&xs(Jr(e=Error(a(422),{cause:r}),n))):(r!==fs&&xs(Jr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Jr(r,n),Si(e,s=Io(e.stateNode,r,s)),4!==Nc&&(Nc=2)),!1;var i=Error(a(520),{cause:r});if(i=Jr(i,n),null===Ic?Ic=[i]:Ic.push(i),4!==Nc&&(Nc=2),null===t)return!0;r=Jr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,Si(n,e=Io(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Mc||!Mc.has(i))))return n.flags|=65536,s&=-s,n.lanes|=s,Po(s=Ao(s),e,n,r),Si(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,vc))return Nc=1,_o(e,Jr(n,e.current)),void(gc=null)}catch(i){if(null!==s)throw gc=s,i;return Nc=1,_o(e,Jr(n,e.current)),void(gc=null)}32768&t.flags?(ds||1===r?e=!0:xc||0!==(536870912&vc)?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ri.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,wc);e=t.return;var n=fl(t.alternate,t,Ec);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Nc&&(Nc=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Nc=6,gc=null}function gu(e,t,n,r,s,i,o,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==Fc);if(0!==(6&fc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,s,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-we(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&Re(e,r,0),0!==i&&0===s&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=Tr,o,l,c),e===mc&&(gc=mc=null,vc=0),Vc=t,Uc=e,zc=n,Bc=i,qc=s,Gc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,se(he,function(){return Su(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,s=O.p,O.p=2,o=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,md=wh,sr(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===s&&(l=o),p===i&&++d===r&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},wh=!1,Dl=t;null!==Dl;)if(e=(t=Dl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Dl=e;else for(;null!==Dl;){switch(i=(t=Dl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(s=e[n]).ref.impl=s.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,s=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=No(n.type,s);e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){Nu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Id(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Dl=e;break}Dl=t.return}}(e,t)}finally{fc=o,O.p=s,D.T=r}}Fc=1,vu(),yu(),bu()}}function vu(){if(1===Fc){Fc=0;var e=Uc,t=Vc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var s=fc;fc|=4;try{Wl(t,e);var i=gd,a=rr(e.containerInfo),o=i.focusedElem,l=i.selectionRange;if(a!==o&&o&&o.ownerDocument&&nr(o.ownerDocument.documentElement,o)){if(null!==l&&sr(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=o.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(a=g,g=m,m=a);var v=tr(o,m),y=tr(o,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(d=[],p=o;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wh=!!md,gd=md=null}finally{fc=s,O.p=r,D.T=n}}e.current=t,Fc=2}}function yu(){if(2===Fc){Fc=0;var e=Uc,t=Vc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var s=fc;fc|=4;try{Ol(e,t.alternate,t)}finally{fc=s,O.p=r,D.T=n}}Fc=3}}function bu(){if(4===Fc||3===Fc){Fc=0,oe();var e=Uc,t=Vc,n=zc,r=Gc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,Vc=Uc=null,wu(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Mc=null),Me(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,s=O.p,O.p=2,D.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];i(o.value,{componentStack:o.stack})}}finally{D.T=t,O.p=s}}0!==(3&zc)&&xu(),Lu(e),s=e.pendingLanes,0!==(261930&n)&&0!==(42&s)?e===Wc?Hc++:(Hc=0,Wc=e):Hc=0,Mu(0,!1)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,zs(t)))}function xu(){return vu(),yu(),bu(),Su()}function Su(){if(5!==Fc)return!1;var e=Uc,t=Bc;Bc=0;var n=Me(zc),r=D.T,s=O.p;try{O.p=32>n?32:n,D.T=null,n=qc,qc=null;var i=Uc,o=zc;if(Fc=0,Vc=Uc=null,zc=0,0!==(6&fc))throw Error(a(331));var l=fc;if(fc|=4,cc(i.current),tc(i,i.current,o,n),fc=l,Mu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,i)}catch(c){}return!0}finally{O.p=s,D.T=r,wu(e,t)}}function Eu(e,t,n){t=Jr(n,t),null!==(e=wi(e,t=Io(e.stateNode,t,2),2))&&(Pe(e,2),Lu(e))}function Nu(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Jr(n,e),null!==(r=wi(t,n=Ao(2),2))&&(Po(n,r,t,e),Pe(r,2),Lu(r));break}}t=t.return}}function ku(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pc;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(Sc=!0,s.add(n),e=Cu.bind(null,e,t,n),t.then(e,e))}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(vc&n)===n&&(4===Nc||3===Nc&&(62914560&vc)===vc&&300>le()-Rc?0===(2&fc)&&nu(e,0):jc|=n,Tc===vc&&(Tc=0)),Lu(e)}function ju(e,t){0===t&&(t=Ie()),null!==(e=Rr(e,t))&&(Pe(e,t),Lu(e))}function _u(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ju(e,n)}function Tu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),ju(e,n)}var Iu=null,Au=null,Pu=!1,Ru=!1,Du=!1,Ou=0;function Lu(e){e!==Au&&null===e.next&&(null===Au?Iu=Au=e:Au=Au.next=e),Ru=!0,Pu||(Pu=!0,kd(function(){0!==(6&fc)?se(ue,Fu):Uu()}))}function Mu(e,t){if(!Du&&Ru){Du=!0;do{for(var n=!1,r=Iu;null!==r;){if(!t)if(0!==e){var s=r.pendingLanes;if(0===s)var i=0;else{var a=r.suspendedLanes,o=r.pingedLanes;i=(1<<31-we(42|e)+1)-1,i=201326741&(i&=s&~(a&~o))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Bu(r,i))}else i=vc,0===(3&(i=je(r,r===mc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||_e(r,i)||(n=!0,Bu(r,i));r=r.next}}while(n);Du=!1}}function Fu(){Uu()}function Uu(){Ru=Pu=!1;var e=0;0!==Ou&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Ou);for(var t=le(),n=null,r=Iu;null!==r;){var s=r.next,i=Vu(r,t);0===i?(r.next=null,null===n?Iu=s:n.next=s,null===s&&(Au=n)):(n=r,(0!==e||0!==(3&i))&&(Ru=!0)),r=s}0!==Fc&&5!==Fc||Mu(e,!1),0!==Ou&&(Ou=0)}function Vu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-we(i),o=1<<a,l=s[a];-1===l?0!==(o&n)&&0===(o&r)||(s[a]=Te(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}if(n=vc,n=je(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||_e(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Me(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=fe}return r=zu.bind(null,e),n=se(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function zu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=vc;return 0===(r=je(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),Vu(e,le()),null!=e.callbackNode&&e.callbackNode===n?zu.bind(null,e):null)}function Bu(e,t){if(xu())return null;Yc(e,t,!0)}function qu(){if(0===Ou){var e=Gs;0===e&&(e=Ee,0===(261888&(Ee<<=1))&&(Ee=256)),Ou=e}return Ou}function Gu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Hu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wu=0;Wu<Nr.length;Wu++){var Ku=Nr[Wu];kr(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}kr(gr,"onAnimationEnd"),kr(vr,"onAnimationIteration"),kr(yr,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(br,"onTransitionRun"),kr(wr,"onTransitionStart"),kr(xr,"onTransitionCancel"),kr(Sr,"onTransitionEnd"),st("onMouseEnter",["mouseout","mouseover"]),st("onMouseLeave",["mouseout","mouseover"]),st("onPointerEnter",["pointerout","pointerover"]),st("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){Cr(u)}s.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;i=o,s.currentTarget=c;try{i(s)}catch(u){Cr(u)}s.currentTarget=null,i=l}}}}function $u(e,t){var n=t[Ge];void 0===n&&(n=t[Ge]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Xu(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Qu.has(t)||Xu(t,!1,e),Xu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Xu("selectionchange",!1,t))}}function td(e,t,n,r){switch(jh(t)){case 2:var s=xh;break;case 8:s=Sh;break;default:s=Eh}n=s.bind(null,t,n,e),s=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,s){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===s)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===s)return;a=a.return}for(;null!==o;){if(null===(a=Ye(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=i=a;continue e}o=o.parentNode}}r=r.return}Ut(function(){var r=i,s=Dt(n),a=[];e:{var o=Er.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case gr:case vr:case yr:c=un;break;case Sr:c=xn;break;case"scroll":case"scrollend":c=sn;break;case"wheel":c=Sn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=En}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==o?o+"Capture":null:o;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Vt(m,p))&&d.push(rd(m,g,f)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,s),a.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[qe])&&(c||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=on,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?o:Xe(c),f=null==u?o:Xe(u),(o=new d(g,m+"leave",c,n,s)).target=h,o.relatedTarget=f,g=null,Ye(s)===r&&((d=new d(p,m+"enter",u,n,s)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=id,m=u,f=0,g=p=c;g;g=d(g))f++;g=0;for(var v=m;v;v=d(v))g++;for(;0<f-g;)p=d(p),f--;for(;0<g-f;)m=d(m),g--;for(;f--;){if(p===m||null!==m&&p===m.alternate){d=p;break e}p=d(p),m=d(m)}d=null}else d=null;null!==c&&ad(a,o,c,d,!1),null!==u&&null!==h&&ad(a,h,u,d,!0)}if("select"===(c=(o=r?Xe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=zn;else if(On(o))if(Bn)y=$n;else{y=Qn;var b=Jn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&_t(r.elementType)&&(y=zn):y=Yn;switch(y&&(y=y(e,r))?Ln(a,y,n,s):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&wt(o,"number",o.value)),b=r?Xe(r):window,e){case"focusin":(On(b)||"true"===b.contentEditable)&&(ar=b,or=r,lr=null);break;case"focusout":lr=or=ar=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(a,n,s);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":ur(a,n,s)}var w;if(kn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Rn?An(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(_n&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Rn&&(w=Kt()):(Ht="value"in(Gt=s)?Gt.value:Gt.textContent,Rn=!0)),0<(b=sd(r,x)).length&&(x=new hn(x,e,null,n,s),a.push({event:x,listeners:b}),w?x.data=w:null!==(w=Pn(n))&&(x.data=w))),(w=jn?function(e,t){switch(e){case"compositionend":return Pn(t);case"keypress":return 32!==t.which?null:(In=!0,Tn);case"textInput":return(e=t.data)===Tn&&In?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!kn&&An(e,t)?(e=Kt(),Wt=Ht=Gt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _n&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=sd(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,s),a.push({event:b,listeners:x}),b.data=w)),function(e,t,n,r,s){if("submit"===t&&n&&n.stateNode===s){var i=Gu((s[Be]||null).action),a=r.submitter;a&&null!==(t=(t=a[Be]||null)?Gu(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var o=new nn("action","action",null,r,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ou){var e=a?Hu(s,a):new FormData(s);to(n,{pending:!0,data:e,method:s.method,action:i},null,e)}}else"function"===typeof i&&(o.preventDefault(),e=a?Hu(s,a):new FormData(s),to(n,{pending:!0,data:e,method:s.method,action:i},i,e))},currentTarget:s}]})}}(a,e,r,n,s)}Yu(a,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sd(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,i=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===i||(null!=(s=Vt(e,n))&&r.unshift(rd(e,s,i)),null!=(s=Vt(e,t))&&r.push(rd(e,s,i))),3===e.tag)return r;e=e.return}return[]}function id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ad(e,t,n,r,s){for(var i=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=Vt(n,i))&&a.unshift(rd(n,c,l)):s||null!=(c=Vt(n,i))&&a.push(rd(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var od=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(od,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,s,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Nt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Nt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":jt(e,r,i);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&dd(e,t,"name",s.name,s,null),dd(e,t,"formEncType",s.formEncType,s,null),dd(e,t,"formMethod",s.formMethod,s,null),dd(e,t,"formTarget",s.formTarget,s,null)):(dd(e,t,"encType",s.encType,s,null),dd(e,t,"method",s.method,s,null),dd(e,t,"target",s.target,s,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":$u("beforetoggle",e),$u("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Tt.get(n)||n,r)}}function hd(e,t,n,r,s,i){switch(n){case"style":jt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Nt(e,r):("number"===typeof r||"bigint"===typeof r)&&Nt(e,""+r);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Pt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Be]||null)?i[n]:null)&&e.removeEventListener(t,i,s),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function pd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$u("error",e),$u("load",e);var r,s=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:dd(e,t,r,o,n,null)}}return i&&dd(e,t,"srcSet",n.srcSet,n,null),void(s&&dd(e,t,"src",n.src,n,null));case"input":$u("invalid",e);var l=r=o=i=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":i=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:dd(e,t,s,d,n,null)}}return void bt(e,r,l,c,u,o,i,!1);case"select":for(i in $u("invalid",e),s=o=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:dd(e,t,i,l,n,null)}return t=r,n=o,e.multiple=!!s,void(null!=t?xt(e,!!s,t,!1):null!=n&&xt(e,!!s,n,!0));case"textarea":for(o in $u("invalid",e),r=i=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:dd(e,t,o,l,n,null)}return void Et(e,s,i,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!==typeof s&&"symbol"!==typeof s;else dd(e,t,c,s,n,null);return;case"dialog":$u("beforetoggle",e),$u("toggle",e),$u("cancel",e),$u("close",e);break;case"iframe":case"object":$u("load",e);break;case"video":case"audio":for(s=0;s<Ju.length;s++)$u(Ju[s],e);break;case"image":$u("error",e),$u("load",e);break;case"details":$u("toggle",e);break;case"embed":case"source":case"link":$u("error",e),$u("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:dd(e,t,u,s,n,null)}return;default:if(_t(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&hd(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&dd(e,t,l,s,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function vd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var Sd="function"===typeof setTimeout?setTimeout:void 0,Ed="function"===typeof clearTimeout?clearTimeout:void 0,Nd="function"===typeof Promise?Promise:void 0,kd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Nd?function(e){return Nd.resolve(null).then(e).catch(Cd)}:Sd;function Cd(e){setTimeout(function(){throw e})}function jd(e){return"head"===e}function _d(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)||"/&"===n){if(0===r)return e.removeChild(s),void Hh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Ud(e.ownerDocument.documentElement);else if("head"===n){Ud(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var a=i.nextSibling,o=i.nodeName;i[Je]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=a}}else"body"===n&&Ud(e.ownerDocument.body);n=s}while(n);Hh(t)}function Td(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Id(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Id(n),Qe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ad(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}function Pd(e){return"$?"===e.data||"$~"===e.data}function Rd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Od=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Dd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=vd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Ud(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Qe(e)}var Vd=new Map,zd=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qd=O.d;O.d={f:function(){var e=qd.f(),t=eu();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):qd.r(e)},D:function(e){qd.D(e),Hd("dns-prefetch",e,null)},C:function(e,t){qd.C(e,t),Hd("preconnect",e,t)},L:function(e,t,n){qd.L(e,t,n);var r=Gd;if(r&&e&&t){var s='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(s+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(s+='[imagesizes="'+vt(n.imageSizes)+'"]')):s+='[href="'+vt(e)+'"]';var i=s;switch(t){case"style":i=Kd(e);break;case"script":i=Yd(e)}Vd.has(i)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Vd.set(i,e),null!==r.querySelector(s)||"style"===t&&r.querySelector(Jd(i))||"script"===t&&r.querySelector($d(i))||(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qd.m(e,t);var n=Gd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',i=s;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Yd(e)}if(!Vd.has(i)&&(e=p({rel:"modulepreload",href:e},t),Vd.set(i,e),null===n.querySelector(s))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($d(i)))return}pd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qd.X(e,t);var n=Gd;if(n&&e){var r=Ze(n).hoistableScripts,s=Yd(e),i=r.get(s);i||((i=n.querySelector($d(s)))||(e=p({src:e,async:!0},t),(t=Vd.get(s))&&th(e,t),et(i=n.createElement("script")),pd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}},S:function(e,t,n){qd.S(e,t,n);var r=Gd;if(r&&e){var s=Ze(r).hoistableStyles,i=Kd(e);t=t||"default";var a=s.get(i);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Jd(i)))o.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Vd.get(i))&&eh(e,n);var l=a=r.createElement("link");et(l),pd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},s.set(i,a)}}},M:function(e,t){qd.M(e,t);var n=Gd;if(n&&e){var r=Ze(n).hoistableScripts,s=Yd(e),i=r.get(s);i||((i=n.querySelector($d(s)))||(e=p({src:e,async:!0,type:"module"},t),(t=Vd.get(s))&&th(e,t),et(i=n.createElement("script")),pd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(s,i))}}};var Gd="undefined"===typeof document?null:document;function Hd(e,t,n){var r=Gd;if(r&&"string"===typeof t&&t){var s=vt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"===typeof n&&(s+='[crossorigin="'+n+'"]'),zd.has(s)||(zd.add(s),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(s)&&(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Wd(e,t,n,r){var s,i,o,l,c=(c=W.current)?Bd(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Jd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Vd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Vd.set(e,n),u||(s=c,i=e,o=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=s.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),pd(i,"link",o),et(i),s.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Kd(e){return'href="'+vt(e)+'"'}function Jd(e){return'link[rel="stylesheet"]['+e+"]"}function Qd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e){return'[src="'+vt(e)+'"]'}function $d(e){return"script[async]"+e}function Xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var s=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),pd(r,"style",s),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":s=Kd(n.href);var i=e.querySelector(Jd(s));if(i)return t.state.loading|=4,t.instance=i,et(i),i;r=Qd(n),(s=Vd.get(s))&&eh(r,s),et(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),pd(i,"link",r),t.state.loading|=4,Zd(i,n.precedence,e),t.instance=i;case"script":return i=Yd(n.src),(s=e.querySelector($d(i)))?(t.instance=s,et(s),s):(r=n,(s=Vd.get(i))&&th(r=p({},n),s),et(s=(e=e.ownerDocument||e).createElement("script")),pd(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=r.length?r[r.length-1]:null,i=s,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)i=o;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,s=nh=new Map;s.set(n,r)}else(r=(s=nh).get(n))||(r=new Map,s.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var i=n[s];if(!(i[Je]||i[ze]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(i):r.set(a,[i])}}return r}function sh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ih(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ah=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,oh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var a=s[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(s=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,s),n.set(a,s),this.count++,r=oh.bind(this),s.addEventListener("load",r),s.addEventListener("error",r),i?i.parentNode.insertBefore(s,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var dh={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function hh(e,t,n,r,s,i,a,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function ph(e,t,n,r,s,i,a,o,l,c,u,d){return e=new hh(e,t,n,a,l,c,u,d,o),t=1,!0===i&&(t|=24),i=Fr(3,null,null,t),e.current=i,i.stateNode=e,(t=Vs()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},vi(i),e}function fh(e){return e?e=Lr:Lr}function mh(e,t,n,r,s,i){s=fh(s),null===r.context?r.context=s:r.pendingContext=s,(r=bi(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=wi(e,r,t))&&(Qc(n,0,t),xi(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function yh(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Qc(t,0,67108864),vh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Rr(e,t=Le(t));null!==n&&Qc(n,0,t),vh(e,t)}}var wh=!0;function xh(e,t,n,r){var s=D.T;D.T=null;var i=O.p;try{O.p=2,Eh(e,t,n,r)}finally{O.p=i,D.T=s}}function Sh(e,t,n,r){var s=D.T;D.T=null;var i=O.p;try{O.p=8,Eh(e,t,n,r)}finally{O.p=i,D.T=s}}function Eh(e,t,n,r){if(wh){var s=Nh(r);if(null===s)nd(e,t,r,kh,n),Lh(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return Th=Mh(Th,e,t,n,r,s),!0;case"dragenter":return Ih=Mh(Ih,e,t,n,r,s),!0;case"mouseover":return Ah=Mh(Ah,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ph.set(i,Mh(Ph.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rh.set(i,Mh(Rh.get(i)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Lh(e,r),4&t&&-1<Oh.indexOf(e)){for(;null!==s;){var i=$e(s);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=Ce(i.pendingLanes);if(0!==a){var o=i;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-we(a);o.entanglements[1]|=l,a&=~l}Lu(i),0===(6&fc)&&(Oc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(o=Rr(i,2))&&Qc(o,0,2),eu(),vh(i,2)}if(null===(i=Nh(r))&&nd(e,t,r,kh,n),i===s)break;s=i}null!==s&&r.stopPropagation()}else nd(e,t,r,null,n)}}function Nh(e){return Ch(e=Dt(e))}var kh=null;function Ch(e){if(kh=null,null!==(e=Ye(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return kh=e,null}function jh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case pe:return 32;case fe:return 268435456;default:return 32}default:return 32}}var _h=!1,Th=null,Ih=null,Ah=null,Ph=new Map,Rh=new Map,Dh=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Th=null;break;case"dragenter":case"dragleave":Ih=null;break;case"mouseover":case"mouseout":Ah=null;break;case"pointerover":case"pointerout":Ph.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rh.delete(t.pointerId)}}function Mh(e,t,n,r,s,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},null!==t&&(null!==(t=$e(t))&&yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Fh(e){var t=Ye(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Ue(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Uh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nh(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&yh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Vh(e,t,n){Uh(e)&&n.delete(t)}function zh(){_h=!1,null!==Th&&Uh(Th)&&(Th=null),null!==Ih&&Uh(Ih)&&(Ih=null),null!==Ah&&Uh(Ah)&&(Ah=null),Ph.forEach(Vh),Rh.forEach(Vh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,_h||(_h=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zh)))}var qh=null;function Gh(e){qh!==e&&(qh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],s=e[t+2];if("function"!==typeof r){if(null===Ch(r||n))continue;break}var i=$e(n);null!==i&&(e.splice(t,3),t-=3,to(i,{pending:!0,data:s,method:n.method,action:r},r,s))}}))}function Hh(e){function t(t){return Bh(t,e)}null!==Th&&Bh(Th,e),null!==Ih&&Bh(Ih,e),null!==Ah&&Bh(Ah,e),Ph.forEach(t),Rh.forEach(t);for(var n=0;n<Dh.length;n++){var r=Dh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Dh.length&&null===(n=Dh[0]).blockedOn;)Fh(n),null===n.blockedOn&&Dh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var s=n[r],i=n[r+1],a=s[Be]||null;if("function"===typeof i)a||Gh(n);else if(a){var o=null;if(i&&i.hasAttribute("formAction")){if(s=i,a=i[Be]||null)o=a.formAction;else if(null!==Ch(s))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Gh(n)}}}function Wh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return s=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==s&&(s(),s=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==s&&(s(),s=null)}}}function Kh(e){this._internalRoot=e}function Jh(e){this._internalRoot=e}Jh.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));mh(t.current,Kc(),e,t,null,null)},Jh.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),eu(),t[qe]=null}},Jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dh.length&&0!==t&&t<Dh[n].priority;n++);Dh.splice(n,0,e),0===n&&Fh(e)}};var Qh=s.version;if("19.2.3"!==Qh)throw Error(a(527,Qh,"19.2.3"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return d(s),e;if(i===r)return d(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o){for(c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Yh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{ve=$h.inject(Yh),ye=$h}catch(Zh){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",s=ko,i=Co,l=jo;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(s=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=ph(e,1,!1,null,0,n,r,null,s,i,l,Wh),e[qe]=t.current,ed(e),new Kh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,s="",i=ko,l=Co,c=jo,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=ph(e,1,!0,t,0,r,s,u,i,l,c,Wh)).context=fh(null),n=t.current,(s=bi(r=Le(r=Kc()))).callback=null,wi(n,s,r),n=r,t.current.lanes=n,Pe(t,n),Lu(t),e[qe]=t.current,ed(e),new Jh(t)},t.version="19.2.3"},43(e,t,n){e.exports=n(288)},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=w.prototype=new b;x.constructor=w,g(x,y.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function E(){}var N={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function C(e,t,r){var s=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==s?s:null,props:r}}function j(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var _=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,s,i,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return I((u=e._init)(e._payload),t,s,i,a)}}if(u)return a=a(e),u=""===i?"."+T(e,0):i,S(a)?(s="",null!=u&&(s=u.replace(_,"$&/")+"/"),I(a,t,s,"",function(e){return e})):null!=a&&(j(a)&&(l=a,c=s+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(_,"$&/")+"/")+u,a=C(l.type,c,l.props)),t.push(a)),1;u=0;var d,p=""===i?".":i+":";if(S(e))for(var m=0;m<e.length;m++)u+=I(i=e[m],t,s,o=p+T(i,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=I(i=i.value,t,s,o=p+T(i,m++),a);else if("object"===o){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,s,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],s=0;return I(e,r,"","",function(e){return t.call(n,e,s++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!j(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=D,t.Component=y,t.Fragment=s,t.Profiler=a,t.PureComponent=w,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return N.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),s=e.key;if(null!=t)for(i in void 0!==t.key&&(s=""+t.key),t)!k.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),o=0;o<i;o++)a[o]=arguments[o+2];r.children=a}return C(e.type,s,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,s={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)k.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(s[r]=t[r]);var a=arguments.length-2;if(1===a)s.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];s.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===s[r]&&(s[r]=a[r]);return C(e,i,s)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=j,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.T,n={};N.T=n;try{var r=e(),s=N.S;null!==s&&s(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(E,R)}catch(i){R(i)}finally{null!==t&&null!==n.types&&(t.types=n.types),N.T=t}},t.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},t.use=function(e){return N.H.use(e)},t.useActionState=function(e,t,n){return N.H.useActionState(e,t,n)},t.useCallback=function(e,t){return N.H.useCallback(e,t)},t.useContext=function(e){return N.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return N.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return N.H.useEffect(e,t)},t.useEffectEvent=function(e){return N.H.useEffectEvent(e)},t.useId=function(){return N.H.useId()},t.useImperativeHandle=function(e,t,n){return N.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.H.useMemo(e,t)},t.useOptimistic=function(e,t){return N.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return N.H.useReducer(e,t,n)},t.useRef=function(e){return N.H.useRef(e)},t.useState=function(e){return N.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.H.useTransition()},t.version="19.2.3"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579(e,t,n){e.exports=n(799)},672(e,t,n){var r=n(43);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(s(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(s(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),s="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:s,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function s(e,t,r){var s=null;if(void 0!==r&&(s=""+r),void 0!==t.key&&(s=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:s,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=s,t.jsxs=s},853(e,t,n){e.exports=n(896)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>i(l,n))c<s&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)s(u);else{if(!(t.startTime<=e))break;s(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,N||(N=!0,E());else{var t=r(u);null!==t&&P(S,t.startTime-e)}}var E,N=!1,k=-1,C=5,j=-1;function _(){return!!v||!(t.unstable_now()-j<C)}function T(){if(v=!1,N){var e=t.unstable_now();j=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(k),k=-1),f=!0;var i=p;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&_());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var o=a(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,x(e),n=!0;break t}h===r(c)&&s(c),x(e)}else s(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&P(S,l.startTime-e),n=!1}}break e}finally{h=null,p=i,f=!1}n=void 0}}finally{n?E():N=!1}}}if("function"===typeof w)E=function(){w(T)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,A=I.port2;I.port1.onmessage=T,E=function(){A.postMessage(null)}}else E=function(){y(T,0)};function P(e,n){k=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,s,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:i,expirationTime:o=i+o,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(b(k),k=-1):g=!0,P(S,i-a))):(e.sortIndex=o,n(c,e),m||f||(m=!0,N||(N=!0,E()))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>a[e]=()=>r[e]);return a.default=()=>r,n.d(i,a),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".cebfac77.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="christ-soldiers-talent-test-manager:";n.l=(r,s,i,a)=>{if(e[r])e[r].push(s);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+i),o.src=r),e[r]=[s];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var s=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/christ-soldiers-talent-test/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var i=new Promise((n,r)=>s=e[t]=[n,r]);r.push(s[2]=i);var a=n.p+n.u(t),o=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var i=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,s[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var s,i,[a,o,l]=r,c=0;if(a.some(t=>0!==e[t])){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(t&&t(r);c<a.length;c++)i=a[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkchrist_soldiers_talent_test_manager=self.webpackChunkchrist_soldiers_talent_test_manager||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),s=n.t(r,2),i=n(391);function a(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function l(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const h=["sri"],p=["page"],f=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var y="popstate";function b(){return C(function(e,t){let{pathname:n="/",search:r="",hash:s=""}=k(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),E("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"===typeof t?t:N(t))},function(e,t){x("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push(".concat(JSON.stringify(t),")"))},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function w(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function S(e,t){return{usr:e.state,key:e.key,idx:t}}function E(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return d(d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?k(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function N(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function k(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function C(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:i=!1}=r,a=s.history,o="POP",l=null,c=u();function u(){return(a.state||{idx:null}).idx}function h(){o="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}function p(e){return j(e)}null==c&&(c=0,a.replaceState(d(d({},a.state),{},{idx:c}),""));let f={get action(){return o},get location(){return e(s,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(y,h),l=e,()=>{s.removeEventListener(y,h),l=null}},createHref:e=>t(s,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=E(f.location,e,t);n&&n(r,e),c=u()+1;let d=S(r,c),h=f.createHref(r);try{a.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;s.location.assign(h)}i&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o="REPLACE";let r=E(f.location,e,t);n&&n(r,e),c=u();let s=S(r,c),d=f.createHref(r);a.replaceState(s,"",d),i&&l&&l({action:o,location:f.location,delta:0})},go:e=>a.go(e)};return f}function j(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),w(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:N(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function _(e,t){return T(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function T(e,t,n,r){let s=G(("string"===typeof t?k(t):t).pathname||"/",n);if(null==s)return null;let i=I(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(i);let a=null;for(let o=0;null==a&&o<i.length;++o){let e=q(s);a=V(i[o],e,r)}return a}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=function(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&a)return;w(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=X([r,l.relativePath]),u=n.concat(l);e.children&&e.children.length>0&&(w(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),I(e.children,t,u,c,a)),(null!=e.path||e.index)&&t.push({path:c,score:U(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))i(e,t,!0,r);else i(e,t)}),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return s?[i,""]:[i];let a=A(r.join("/")),o=[];return o.push(...a.map(e=>""===e?i:[i,e].join("/"))),s&&o.push(...a),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var P=/^:[\w-]+$/,R=3,D=2,O=1,L=10,M=-2,F=e=>"*"===e;function U(e,t){let n=e.split("/"),r=n.length;return n.some(F)&&(r+=M),t&&(r+=D),n.filter(e=>!F(e)).reduce((e,t)=>e+(P.test(t)?R:""===t?O:L),r)}function V(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,s={},i="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===i?t:t.slice(i.length)||"/",u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=z({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(s,u.params),a.push({params:s,pathname:X([i,u.pathname]),pathnameBase:Z(X([i,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(i=X([i,u.pathnameBase]))}return a}function z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=B(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";a=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:i,pathnameBase:a,pattern:e}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function q(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return x(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function G(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var H=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W=e=>H.test(e);function K(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function J(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function Q(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Y(e){let t=Q(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function $(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=k(e):(r=d({},e),w(!r.pathname||!r.pathname.includes("?"),J("?","pathname","search",r)),w(!r.pathname||!r.pathname.includes("#"),J("#","pathname","hash",r)),w(!r.search||!r.search.includes("#"),J("#","search","hash",r)));let i,a=""===e||""===r.pathname,o=a?"/":r.pathname;if(null==o)i=n;else{let e=t.length-1;if(!s&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:s="",hash:i=""}="string"===typeof e?k(e):e;if(r)if(W(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),x(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?K(r.substring(1),"/"):K(r,n)}else t=n;return{pathname:t,search:ee(s),hash:te(i)}}(r,i),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var X=e=>e.join("/").replace(/\/\/+/g,"/"),Z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ee=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",te=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ne=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function se(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ie="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function ae(e,t){let n=e;if("string"!==typeof n||!H.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,s=!1;if(ie)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=G(r.pathname,t);r.origin===e.origin&&null!=i?n=i+r.search+r.hash:s=!0}catch(i){x(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:r,isExternal:s,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var oe=["POST","PUT","PATCH","DELETE"],le=(new Set(oe),["GET",...oe]);new Set(le),Symbol("ResetLoaderData");var ce=r.createContext(null);ce.displayName="DataRouter";var ue=r.createContext(null);ue.displayName="DataRouterState";var de=r.createContext(!1);function he(){return r.useContext(de)}var pe=r.createContext({isTransitioning:!1});pe.displayName="ViewTransition";var fe=r.createContext(new Map);fe.displayName="Fetchers";var me=r.createContext(null);me.displayName="Await";var ge=r.createContext(null);ge.displayName="Navigation";var ve=r.createContext(null);ve.displayName="Location";var ye=r.createContext({outlet:null,matches:[],isDataRoute:!1});ye.displayName="Route";var be=r.createContext(null);be.displayName="RouteError";var we="REACT_ROUTER_ERROR";function xe(){return null!=r.useContext(ve)}function Se(){return w(xe(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ve).location}var Ee="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ne(e){r.useContext(ge).static||r.useLayoutEffect(e)}function ke(){let{isDataRoute:e}=r.useContext(ye);return e?function(){let{router:e}=Le("useNavigate"),t=Fe("useNavigate"),n=r.useRef(!1);Ne(()=>{n.current=!0});let s=r.useCallback(async function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(n.current,Ee),n.current&&("number"===typeof r?await e.navigate(r):await e.navigate(r,d({fromRouteId:t},s)))},[e,t]);return s}():function(){w(xe(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(ce),{basename:t,navigator:n}=r.useContext(ge),{matches:s}=r.useContext(ye),{pathname:i}=Se(),a=JSON.stringify(Y(s)),o=r.useRef(!1);Ne(()=>{o.current=!0});let l=r.useCallback(function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(o.current,Ee),!o.current)return;if("number"===typeof r)return void n.go(r);let l=$(r,JSON.parse(a),i,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:X([t,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)},[t,n,a,i,e]);return l}()}r.createContext(null);function Ce(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(ye),{pathname:s}=Se(),i=JSON.stringify(Y(n));return r.useMemo(()=>$(e,JSON.parse(i),s,"path"===t),[e,i,s,t])}function je(e,t,n,s,i){w(xe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=r.useContext(ge),{matches:o}=r.useContext(ye),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let e=p&&p.path||"";ze(u,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=Se();if(t){var g;let e="string"===typeof t?k(t):t;w("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=_(e,{pathname:y});x(p||null!=b,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),x(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let S=De(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:X([h,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:X([h,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,n,s,i);return t&&S?r.createElement(ve.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},S):S}function _e(){let e=Ue(),t=re(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:a},"ErrorBoundary")," or"," ",r.createElement("code",{style:a},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:i},n):null,o)}var Te=r.createElement(_e,null),Ie=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(we,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new ne(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let t=void 0!==e?r.createElement(ye.Provider,{value:this.props.routeContext},r.createElement(be.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?r.createElement(Pe,{error:e},t):t}};Ie.contextType=de;var Ae=new WeakMap;function Pe(e){let{children:t,error:n}=e,{basename:s}=r.useContext(ge);if("object"===typeof n&&n&&"digest"in n&&"string"===typeof n.digest){let e=function(e){if(e.startsWith("".concat(we,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(n.digest);if(e){let t=Ae.get(n);if(t)throw t;let i=ae(e.location,s);if(ie&&!Ae.get(n)){if(!i.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw Ae.set(n,t),t}window.location.href=i.absoluteURL||i.to}return r.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(i.absoluteURL||i.to)})}}return t}function Re(e){let{routeContext:t,match:n,children:s}=e,i=r.useContext(ce);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ye.Provider,{value:t},s)}function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,a=null===n||void 0===n?void 0:n.errors;if(null!=a){let e=i.findIndex(e=>e.route.id&&void 0!==(null===a||void 0===a?void 0:a[e.route.id]));w(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(a).join(","))),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,l=-1;if(n)for(let r=0;r<i.length;r++){let e=i[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||s){o=!0,i=l>=0?i.slice(0,l+1):[i[0]];break}}}let c=n&&s?(e,t)=>{var r,i;s(e,{location:n.location,params:null!==(r=null===(i=n.matches)||void 0===i||null===(i=i[0])||void 0===i?void 0:i.params)&&void 0!==r?r:{},unstable_pattern:se(n.matches),errorInfo:t})}:void 0;return i.reduceRight((e,s,u)=>{let d,h=!1,p=null,f=null;n&&(d=a&&s.route.id?a[s.route.id]:void 0,p=s.route.errorElement||Te,o&&(l<0&&0===u?(ze("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===u&&(h=!0,f=s.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,u+1)),g=()=>{let t;return t=d?p:h?f:s.route.Component?r.createElement(s.route.Component,null):s.route.element?s.route.element:e,r.createElement(Re,{match:s,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===u)?r.createElement(Ie,{location:n.location,revalidation:n.revalidation,component:p,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):g()},null)}function Oe(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Le(e){let t=r.useContext(ce);return w(t,Oe(e)),t}function Me(e){let t=r.useContext(ue);return w(t,Oe(e)),t}function Fe(e){let t=function(e){let t=r.useContext(ye);return w(t,Oe(e)),t}(e),n=t.matches[t.matches.length-1];return w(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ue(){var e;let t=r.useContext(be),n=Me("useRouteError"),s=Fe("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[s]}var Ve={};function ze(e,t,n){t||Ve[e]||(Ve[e]=!0,x(!1,n))}var Be={};function qe(e,t){e||Be[t]||(Be[t]=!0,console.warn(t))}s.useOptimistic;r.memo(function(e){let{routes:t,future:n,state:r,onError:s}=e;return je(t,void 0,r,s,n)});function Ge(e){let{to:t,replace:n,state:s,relative:i}=e;w(xe(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=r.useContext(ge);x(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=r.useContext(ye),{pathname:l}=Se(),c=ke(),u=$(t,Y(o),l,"path"===i),d=JSON.stringify(u);return r.useEffect(()=>{c(JSON.parse(d),{replace:n,state:s,relative:i})},[c,d,i,n,s]),null}function He(e){w(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function We(e){let{basename:t="/",children:n=null,location:s,navigationType:i="POP",navigator:a,static:o=!1,unstable_useTransitions:l}=e;w(!xe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=r.useMemo(()=>({basename:c,navigator:a,static:o,unstable_useTransitions:l,future:{}}),[c,a,o,l]);"string"===typeof s&&(s=k(s));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:m="default"}=s,g=r.useMemo(()=>{let e=G(d,c);return null==e?null:{location:{pathname:e,search:h,hash:p,state:f,key:m},navigationType:i}},[c,d,h,p,f,m,i]);return x(null!=g,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(d).concat(h).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:r.createElement(ge.Provider,{value:u},r.createElement(ve.Provider,{children:n,value:g}))}function Ke(e){let{children:t,location:n}=e;return je(Je(t),n)}r.Component;function Je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,s)=>{if(!r.isValidElement(e))return;let i=[...t,s];if(e.type===r.Fragment)return void n.push.apply(n,Je(e.props.children,i));w(e.type===He,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),w(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Je(e.props.children,i)),n.push(a)}),n}var Qe="get",Ye="application/x-www-form-urlencoded";function $e(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var Xe=null;var Ze=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function et(e){return null==e||Ze.has(e)?e:(x(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Ye,'"')),null)}function tt(e,t){let n,r,s,i,a;if($e(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?G(a,t):null,n=e.getAttribute("method")||Qe,s=et(e.getAttribute("enctype"))||Ye,i=new FormData(e)}else if(function(e){return $e(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return $e(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?G(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Qe,s=et(e.getAttribute("formenctype"))||et(a.getAttribute("enctype"))||Ye,i=new FormData(a,e),!function(){if(null===Xe)try{new FormData(document.createElement("form"),0),Xe=!1}catch(e){Xe=!0}return Xe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if($e(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qe,r=null,s=Ye,a=e}var o;return i&&"text/plain"===s&&(a=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function nt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function rt(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===G(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function st(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function it(e){return null!=e&&"string"===typeof e.page}function at(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function ot(e,t,n,r,s,i){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter((e,t)=>a(e,t)||o(e,t)):"data"===i?t.filter((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,i)||o(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function lt(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1),[...new Set(r)];var r}function ct(e,t){let n=new Set,r=new Set(t);return e.reduce((e,s)=>{if(t&&!it(s)&&"script"===s.as&&s.href&&r.has(s.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(s));return n.has(i)||(n.add(i),e.push({key:i,link:s})),e},[])}function ut(e,t){return"lazy"===e.mode&&!0===t}function dt(){let e=r.useContext(ce);return nt(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ht(){let e=r.useContext(ue);return nt(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var pt=r.createContext(void 0);function ft(){let e=r.useContext(pt);return nt(e,"You must render this element inside a <HydratedRouter> element"),e}function mt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function gt(e,t,n){if(n&&!wt)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}pt.displayName="FrameworkContext";function vt(e){let{page:t}=e,n=a(e,p),{router:s}=dt(),i=r.useMemo(()=>_(s.routes,t,s.basename),[s.routes,t,s.basename]);return i?r.createElement(bt,d({page:t,matches:i},n)):null}function yt(e){let{manifest:t,routeModules:n}=ft(),[s,i]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return ct((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await st(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(at).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?d(d({},e),{},{rel:"prefetch",as:"style"}):d(d({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),s}function bt(e){let{page:t,matches:n}=e,s=a(e,f),i=Se(),{manifest:o,routeModules:l}=ft(),{basename:c}=dt(),{loaderData:u,matches:h}=ht(),p=r.useMemo(()=>ot(t,n,h,o,i,"data"),[t,n,h,o,i]),m=r.useMemo(()=>ot(t,n,h,o,i,"assets"),[t,n,h,o,i]),g=r.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let s=o.routes[t.route.id];s&&s.hasLoader&&(!p.some(e=>e.route.id===t.route.id)&&t.route.id in u&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||s.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let s=rt(t,c,"data");return r&&e.size>0&&s.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[s.pathname+s.search]},[c,u,i,o,p,n,t,l]),v=r.useMemo(()=>lt(m,o),[m,o]),y=yt(m);return r.createElement(r.Fragment,null,g.map(e=>r.createElement("link",d({key:e,rel:"prefetch",as:"fetch",href:e},s))),v.map(e=>r.createElement("link",d({key:e,rel:"modulepreload",href:e},s))),y.map(e=>{let{key:t,link:n}=e;return r.createElement("link",d({key:t,nonce:s.nonce},n))}))}var wt=!1;function xt(e){let{manifest:t,serverHandoffString:n,isSpaMode:s,renderMeta:i,routeDiscovery:o,ssr:l}=ft(),{router:c,static:u,staticContext:p}=dt(),{matches:f}=ht(),m=he(),g=ut(o,l);i&&(i.didRenderScripts=!0);let v=gt(f,null,s);r.useEffect(()=>{wt=!0},[]);let y=r.useMemo(()=>{var s;if(m)return null;let i=p?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=u?"".concat(null!==(s=t.hmr)&&void 0!==s&&s.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(v.map((e,n)=>{let r="route".concat(n),s=t.routes[e.route.id];nt(s,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:a,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=s,u=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...a?[{module:a,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===u.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=a(e,h),s=new Set(t.state.matches.map(e=>e.route.id)),i=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(i.pop();i.length>0;)o.push("/".concat(i.join("/"))),i.pop();o.forEach(e=>{let n=_(t.routes,e,t.basename);n&&n.forEach(e=>s.add(e.route.id))});let l=[...s].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return d(d({},r),{},{routes:l,sri:!!n||void 0})}(t,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:void 0})),r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:"module",async:!0})))},[]),b=wt||m?[]:(w=t.entry.imports.concat(lt(v,t,{includeHydrateFallback:!0})),[...new Set(w)]);var w;let x="object"===typeof t.sri?t.sri:{};return qe(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),wt||m?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,g?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:x[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:x[t.entry.module],suppressHydrationWarning:!0}),b.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:x[t],suppressHydrationWarning:!0})),y)}function St(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function Et(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let s,i=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(re(t))return r.createElement(Nt,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),i);if(t instanceof Error)s=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);s=new Error(e)}return r.createElement(Nt,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},s.stack),i)}function Nt(e){var t;let{title:n,renderScripts:s,isOutsideRemixApp:i,children:a}=e,{routeModules:o}=ft();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!i?a:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,s?r.createElement(xt,null):null)))}var kt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{kt&&(window.__reactRouterVersion="7.11.0")}catch(qv){}function Ct(e){let{basename:t,children:n,unstable_useTransitions:s,window:i}=e,a=r.useRef();null==a.current&&(a.current=b({window:i,v5Compat:!0}));let o=a.current,[l,c]=r.useState({action:o.action,location:o.location}),u=r.useCallback(e=>{!1===s?c(e):r.startTransition(()=>c(e))},[s]);return r.useLayoutEffect(()=>o.listen(u),[o,u]),r.createElement(We,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:s})}var jt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_t=r.forwardRef(function(e,t){let{onClick:n,discover:s="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:u,target:h,to:p,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:v}=e,y=a(e,m),{basename:b,unstable_useTransitions:x}=r.useContext(ge),S="string"===typeof p&&jt.test(p),E=ae(p,b);p=E.to;let k=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(xe(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=r.useContext(ge),{hash:i,pathname:a,search:o}=Ce(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:X([n,a])),s.createHref({pathname:l,search:o,hash:i})}(p,{relative:o}),[C,j,_]=function(e,t){let n=r.useContext(pt),[s,i]=r.useState(!1),[a,o]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=t,p=r.useRef(null);r.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(s){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[s]);let f=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?"intent"!==e?[a,p,{}]:[a,p,{onFocus:mt(l,f),onBlur:mt(c,m),onMouseEnter:mt(u,f),onMouseLeave:mt(d,m),onTouchStart:mt(h,f)}]:[!1,p,{}]}(i,y),T=function(e){let{target:t,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=ke(),d=Se(),h=Ce(e,{relative:a});return r.useCallback(p=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(p,t)){p.preventDefault();let t=void 0!==n?n:N(d)===N(h),f=()=>u(e,{replace:t,state:s,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:l});c?r.startTransition(()=>f()):f()}},[d,u,h,n,s,t,e,i,a,o,l,c])}(p,{replace:c,state:u,target:h,preventScrollReset:f,relative:o,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:x});let I=r.createElement("a",d(d(d({},y),_),{},{href:E.absoluteURL||k,onClick:E.isExternal||l?n:function(e){n&&n(e),e.defaultPrevented||T(e)},ref:St(t,j),target:h,"data-discover":S||"render"!==s?void 0:"true"}));return C&&!S?r.createElement(r.Fragment,null,I,r.createElement(vt,{page:k})):I});_t.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:h}=e,p=a(e,g),f=Ce(c,{relative:p.relative}),m=Se(),v=r.useContext(ue),{navigator:y,basename:b}=r.useContext(ge),x=null!=v&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(pe);w(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=At("useViewTransitionState"),i=Ce(e,{relative:t});if(!n.isTransitioning)return!1;let a=G(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=G(n.nextLocation.pathname,s)||n.nextLocation.pathname;return null!=z(i.pathname,o)||null!=z(i.pathname,a)}(f)&&!0===u,S=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,E=m.pathname,N=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(E=E.toLowerCase(),N=N?N.toLowerCase():null,S=S.toLowerCase()),N&&b&&(N=G(N,b)||N);const k="/"!==S&&S.endsWith("/")?S.length-1:S.length;let C,j=E===S||!o&&E.startsWith(S)&&"/"===E.charAt(k),_=null!=N&&(N===S||!o&&N.startsWith(S)&&"/"===N.charAt(S.length)),T={isActive:j,isPending:_,isTransitioning:x},I=j?n:void 0;C="function"===typeof i?i(T):[i,j?"active":null,_?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(T):l;return r.createElement(_t,d(d({},p),{},{"aria-current":I,className:C,ref:t,style:A,to:c,viewTransition:u}),"function"===typeof h?h(T):h)}).displayName="NavLink";var Tt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:s,navigate:i,reloadDocument:o,replace:l,state:c,method:u=Qe,action:h,onSubmit:p,relative:f,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y}=e,b=a(e,v),{unstable_useTransitions:x}=r.useContext(ge),S=Dt(),E=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(ge),s=r.useContext(ye);w(s,"useFormAction must be used inside a RouteContext");let[i]=s.matches.slice(-1),a=d({},Ce(e||".",{relative:t})),o=Se();if(null==e){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!i.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:X([n,a.pathname]));return N(a)}(h,{relative:f}),k="get"===u.toLowerCase()?"get":"post",C="string"===typeof h&&jt.test(h);return r.createElement("form",d(d({ref:t,method:k,action:E,onSubmit:o?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u,a=()=>S(t||e.currentTarget,{fetcherKey:s,method:n,navigate:i,replace:l,state:c,relative:f,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:y});x&&!1!==i?r.startTransition(()=>a()):a()}},b),{},{"data-discover":C||"render"!==n?void 0:"true"}))});function It(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function At(e){let t=r.useContext(ce);return w(t,It(e)),t}Tt.displayName="Form";var Pt=0,Rt=()=>"__".concat(String(++Pt),"__");function Dt(){let{router:e}=At("useSubmit"),{basename:t}=r.useContext(ge),n=Fe("useRouteId"),s=e.fetch,i=e.navigate;return r.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:o,encType:l,formData:c,body:u}=tt(e,t);if(!1===r.navigate){let e=r.fetcherKey||Rt();await s(e,n,r.action||a,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,flushSync:r.flushSync})}else await i(r.action||a,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:u,formMethod:r.method||o,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[s,i,t,n])}const Ot=new class{constructor(){this.storageKey="christSoldiersData",this.initializeStorage()}initializeStorage(){const e=localStorage.getItem(this.storageKey);if(e){const t=JSON.parse(e);let n=!1;t.sections||(t.sections=[{id:1,name:"Pathanapuram",churches:["Bethel Gospel Assembly Church - Pathanapuram","Grace Gospel Church - Pathanapuram","Zion Assembly - Pathanapuram","Faith Gospel Church - Pathanapuram"]},{id:2,name:"Kollam",churches:["Bethel Gospel Assembly Church - Kollam","Living Word Church - Kollam","New Life Assembly - Kollam","Calvary Church - Kollam","Victory Gospel Church - Kollam"]},{id:3,name:"Alappuzha",churches:["Bethel Gospel Assembly Church - Alappuzha","Gospel Light Church - Alappuzha","Pentecostal Assembly - Alappuzha","Emmanuel Gospel Church - Alappuzha","Believers Church - Alappuzha"]},{id:4,name:"Kottayam",churches:["Bethel Gospel Assembly Church - Kottayam","Word of Life Church - Kottayam","Gospel Faith Assembly - Kottayam","Holy Spirit Church - Kottayam","Trinity Gospel Church - Kottayam","Covenant Church - Kottayam"]}],n=!0),t.sectionCredentials||(t.sectionCredentials=[{username:"pathanapuram",password:"pathanapuram123",section:"Pathanapuram"},{username:"kollam",password:"kollam123",section:"Kollam"},{username:"alappuzha",password:"alappuzha123",section:"Alappuzha"},{username:"kottayam",password:"kottayam123",section:"Kottayam"}],n=!0),t.groupTeams||(t.groupTeams=this.generateMockGroupTeams(),n=!0),t.groupEventLocks||(t.groupEventLocks=this.generateMockGroupEventLocks(),n=!0),t.pointsConfig||(t.pointsConfig={individual:{first:5,second:3,third:1},group:{first:10,second:5,third:3}},n=!0),n&&localStorage.setItem(this.storageKey,JSON.stringify(t))}else{const e={participants:this.generateMockParticipants(),events:[{id:1,name:"Solo Music (Male)",description:"Individual singing performance for male participants",ageGroups:["Junior","Intermediate","Senior","Super Senior"],scoringType:"all-judges"},{id:2,name:"Solo Music (Female)",description:"Individual singing performance for female participants",ageGroups:["Junior","Intermediate","Senior","Super Senior"],scoringType:"all-judges"},{id:3,name:"Story Writing",description:"Creative story writing competition",ageGroups:["Junior","Intermediate","Senior","Super Senior"],scoringType:"single-judge"},{id:4,name:"Poem Writing",description:"Poetry composition competition",ageGroups:["Junior","Intermediate","Senior","Super Senior"],scoringType:"single-judge"},{id:5,name:"Bible Verse Competition",description:"Scripture memorization and recitation",ageGroups:["Junior","Intermediate","Senior","Super Senior"],scoringType:"all-judges"}],groupEvents:[{id:1,name:"Group Song",description:"Team singing performance - one team per section",maxParticipants:10,scoringType:"judge"},{id:2,name:"Group Bible Quiz",description:"Team Bible quiz competition - one team per section",maxParticipants:5,scoringType:"quiz",questionsCount:50}],groupTeams:[],sections:[{id:1,name:"Pathanapuram",churches:["Bethel Gospel Assembly Church - Pathanapuram","Grace Gospel Church - Pathanapuram","Zion Assembly - Pathanapuram","Faith Gospel Church - Pathanapuram"]},{id:2,name:"Kollam",churches:["Bethel Gospel Assembly Church - Kollam","Living Word Church - Kollam","New Life Assembly - Kollam","Calvary Church - Kollam","Victory Gospel Church - Kollam"]},{id:3,name:"Alappuzha",churches:["Bethel Gospel Assembly Church - Alappuzha","Gospel Light Church - Alappuzha","Pentecostal Assembly - Alappuzha","Emmanuel Gospel Church - Alappuzha","Believers Church - Alappuzha"]},{id:4,name:"Kottayam",churches:["Bethel Gospel Assembly Church - Kottayam","Word of Life Church - Kottayam","Gospel Faith Assembly - Kottayam","Holy Spirit Church - Kottayam","Trinity Gospel Church - Kottayam","Covenant Church - Kottayam"]}],scores:this.generateMockScores(),judgeLocks:this.generateMockJudgeLocks(),adminCredentials:{username:"admin",password:"admin123"},judgeCredentials:[{username:"judge1",password:"judge123"},{username:"judge2",password:"judge123"},{username:"judge3",password:"judge123"}],sectionCredentials:[{username:"pathanapuram",password:"pathanapuram123",section:"Pathanapuram"},{username:"kollam",password:"kollam123",section:"Kollam"},{username:"alappuzha",password:"alappuzha123",section:"Alappuzha"},{username:"kottayam",password:"kottayam123",section:"Kottayam"}],groupTeams:this.generateMockGroupTeams(),groupEventLocks:this.generateMockGroupEventLocks(),pointsConfig:{individual:{first:5,second:3,third:1},group:{first:10,second:5,third:3}},declaredResults:[]};e.scores=this.generateScoresForParticipants(e.participants),localStorage.setItem(this.storageKey,JSON.stringify(e))}}generateMockScores(){return[]}generateScoresForParticipants(e){const t=[],n=["judge1","judge2","judge3"];return e.forEach(e=>{(e.eventIds||[]).forEach(r=>{n.forEach(s=>{const i=Math.floor(4*Math.random())+7,a=Math.floor(4*Math.random())+7,o=Math.floor(4*Math.random())+7,l=Math.floor(4*Math.random())+7,c=Math.floor(4*Math.random())+7,u=i+a+o+l+c;t.push({id:"".concat(e.id,"-").concat(r,"-").concat(s),participantId:e.id,eventId:r,judgeName:s,criteria1:i,criteria2:a,criteria3:o,criteria4:l,criteria5:c,totalScore:u,comments:"",submittedAt:new Date(2026,0,11+n.indexOf(s)).toISOString()})})})}),t}generateMockJudgeLocks(){const e=[],t=[1,2,3,4,5],n=["Junior","Intermediate","Senior","Super Senior"];return["judge1","judge2","judge3"].forEach(r=>{t.forEach(t=>{n.forEach(n=>{e.push({judgeName:r,eventId:t,category:n,locked:!0,lockedDate:new Date(2026,0,12).toISOString()})})})}),e}generateMockGroupEventLocks(){const e=[],t=[1,2];return["judge1","judge2","judge3"].forEach(n=>{t.forEach(t=>{e.push({judgeName:n,groupEventId:t,locked:!0,lockedDate:new Date(2026,0,12).toISOString()})})}),e}generateMockGroupTeams(){const e=[],t=[{id:1,name:"Pathanapuram"},{id:2,name:"Kollam"},{id:3,name:"Alappuzha"},{id:4,name:"Kottayam"}],n=["judge1","judge2","judge3"],r={1:["Aarav David","Ananya Grace","Vivaan Joseph","Diya Mary","Aditya James","Saanvi Elizabeth","Arjun Peter","Navya Joy"],2:["Aiden Kumar","Emma Sharma","Ethan Raj","Olivia Patel","Noah Sharma","Sophia Singh","Lucas Patel","Ava Verma"],3:["Liam George","Charlotte Philip","Benjamin Matthew","Amelia Abraham","William Isaac","Isabella Daniel","James Thomas","Mia Joseph"],4:["Michael Peter","Emily Grace","Daniel Samuel","Abigail Ruth","Matthew Luke","Elizabeth Mary","Joseph Mark","Sarah Faith"]},s={1:{song:"GS001",quiz:"GQ001"},2:{song:"GS002",quiz:"GQ002"},3:{song:"GS003",quiz:"GQ003"},4:{song:"GS004",quiz:"GQ004"}};t.forEach(t=>{const i={id:t.id,groupEventId:1,sectionId:t.id,teamName:"".concat(t.name," Harmony"),chestNumber:s[t.id].song,participants:r[t.id],scores:[]};n.forEach(e=>{i.scores.push({judgeName:e,score:Math.floor(11*Math.random())+40,comments:"Excellent harmony and stage presence",timestamp:new Date(2026,0,12).toISOString()})}),e.push(i)});const i={1:["Reyansh Thomas","Pari Faith","Krishna Paul","Kiara Hope","Shivansh George"],2:["Mason Singh","Harper Nair","Logan Varma","Evelyn Reddy","Jayden Nair"],3:["Oliver James","Ella Stephen","Elijah Simon","Scarlett Timothy","Lucas Peter"],4:["Alexander David","Grace Elizabeth","Henry Thomas","Chloe Anna","Sebastian Joseph"]};return t.forEach(t=>{const r={id:t.id+4,groupEventId:2,sectionId:t.id,teamName:"".concat(t.name," Bible Warriors"),chestNumber:s[t.id].quiz,participants:i[t.id],scores:[]};n.forEach(e=>{r.scores.push({judgeName:e,score:Math.floor(11*Math.random())+40,comments:"Great biblical knowledge",timestamp:new Date(2026,0,12).toISOString()})}),e.push(r)}),e}generateMockParticipants(){const e={Junior:{male:["Aarav David","Reyansh Thomas","Vivaan Joseph","Aditya James","Arjun Peter","Sai Samuel","Arnav Luke","Dhruv Mark","Krishna Paul","Advait John","Vihaan Simon","Atharv Philip","Aryan Stephen","Kabir Timothy","Shivansh George","Rudra Michael","Yuvraj Matthew","Ayaan Abraham","Vedant Isaac","Pranav Daniel"],female:["Aadhya Grace","Ananya Ruth","Diya Mary","Saanvi Elizabeth","Navya Joy","Pari Faith","Kiara Hope","Isha Anna","Avni Rose","Sara Love","Myra Grace","Anika Faith","Riya Peace","Tara Hope","Shanaya Joy","Zara Grace","Kavya Love","Dia Rose","Ira Faith","Nisha Hope"]},Intermediate:{male:["Aiden Kumar","Ethan Raj","Noah Sharma","Lucas Patel","Mason Singh","Logan Varma","Jayden Nair","Levi Reddy","Carter Joshi","Owen Menon","Jackson Iyer","Wyatt Pillai","Grayson Das","Asher Roy","Leo Gupta","Hudson Desai","Mateo Mehta","Ezra Kapoor","Eli Verma","Axel Khan"],female:["Sophia Rose","Emma Grace","Olivia Faith","Ava Hope","Isabella Joy","Mia Love","Charlotte Peace","Amelia Grace","Harper Faith","Evelyn Joy","Abigail Hope","Emily Love","Ella Grace","Scarlett Faith","Madison Joy","Luna Hope","Chloe Grace","Layla Love","Penelope Faith","Riley Joy"]},Senior:{male:["John David","Samuel Thomas","Joshua Abraham","Daniel Joseph","Matthew James","Benjamin Peter","Jacob Philip","Andrew Simon","Caleb Stephen","Nathan Luke","Ethan Mark","Isaac Paul","Ryan Timothy","Aaron George","Joel Michael","Elijah Matthew","James Jonathan","Alexander David","Michael John","William Samuel"],female:["Sarah Grace","Hannah Ruth","Esther Mary","Rachel Elizabeth","Rebecca Joy","Miriam Faith","Abigail Hope","Deborah Anna","Lydia Rose","Martha Joy","Naomi Grace","Priscilla Faith","Tabitha Love","Rhoda Peace","Eunice Hope","Phoebe Grace","Dorcas Joy","Mary Ann","Elizabeth Sarah","Ruth Hannah"]},"Super Senior":{male:["Christopher Emmanuel","Jonathan David","Nicholas Peter","Timothy Paul","Stephen Mark","Philip Andrew","Thomas Matthew","Paul Simon","Peter John","James Philip","Mark Timothy","Luke Samuel","Simon Peter","Barnabas Joseph","Silas James","Titus Thomas","Timothy Luke","Matthias John","Judas Matthew","Thaddeus Mark"],female:["Elizabeth Grace","Catherine Joy","Victoria Faith","Alexandra Hope","Stephanie Love","Michelle Grace","Jennifer Faith","Jessica Hope","Amanda Joy","Melissa Love","Rachel Grace","Rebecca Faith","Sarah Hope","Hannah Joy","Leah Love","Ruth Grace","Esther Faith","Deborah Hope","Miriam Joy","Mary Love"]}},t=["Pathanapuram","Kollam","Alappuzha","Kottayam"],n={Pathanapuram:["Bethel Gospel Assembly Church - Pathanapuram","Grace Gospel Church - Pathanapuram","Zion Assembly - Pathanapuram","Faith Gospel Church - Pathanapuram"],Kollam:["Bethel Gospel Assembly Church - Kollam","Living Word Church - Kollam","New Life Assembly - Kollam","Calvary Church - Kollam","Victory Gospel Church - Kollam"],Alappuzha:["Bethel Gospel Assembly Church - Alappuzha","Gospel Light Church - Alappuzha","Pentecostal Assembly - Alappuzha","Emmanuel Gospel Church - Alappuzha","Believers Church - Alappuzha"],Kottayam:["Bethel Gospel Assembly Church - Kottayam","Word of Life Church - Kottayam","Gospel Faith Assembly - Kottayam","Holy Spirit Church - Kottayam","Trinity Gospel Church - Kottayam","Covenant Church - Kottayam"]},r=[];let s=1e3;return[{name:"Junior",ageRange:[6,10]},{name:"Intermediate",ageRange:[11,15]},{name:"Senior",ageRange:[16,20]},{name:"Super Senior",ageRange:[21,25]}].forEach(i=>{const a=e[i.name].male,o=e[i.name].female;let l=0,c=0;for(let e=0;e<20;e++){const u=e%2===0?"Male":"Female",d="Male"===u?a[l++]:o[c++],h=i.ageRange[0]+Math.floor(Math.random()*(i.ageRange[1]-i.ageRange[0]+1)),p=t[Math.floor(Math.random()*t.length)],f=n[p],m=f[Math.floor(Math.random()*f.length)],g=Math.floor(3*Math.random())+1,v=[],y="Male"===u?[1,3,4,5]:[2,3,4,5];for(let e=0;e<g;e++){const e=y[Math.floor(Math.random()*y.length)];v.includes(e)||v.push(e)}r.push({id:s++,name:d,age:h,ageCategory:i.name,gender:u,email:"".concat(d.toLowerCase().replace(" ","."),"@example.com"),phone:"+91 ".concat(9e4+Math.floor(1e4*Math.random())," ").concat(1e4+Math.floor(9e4*Math.random())),eventIds:v,section:p,churchName:m,registrationDate:new Date(2026,0,Math.floor(12*Math.random())+1).toISOString(),chestNumber:null})}}),r}getData(){return JSON.parse(localStorage.getItem(this.storageKey))}saveData(e){localStorage.setItem(this.storageKey,JSON.stringify(e))}getParticipants(){return this.getData().participants}generateChestNumber(e){const t=this.getParticipants(),n={Junior:"J",Intermediate:"I",Senior:"S","Super Senior":"SS"}[e];if(!n)return null;const r=t.filter(e=>e.chestNumber&&e.chestNumber.startsWith(n+"-")).map(e=>{const t=e.chestNumber.match(new RegExp("^".concat(n,"-(\\d+)$")));return t?parseInt(t[1]):0}),s=r.length>0?Math.max(...r)+1:1;return"".concat(n,"-").concat(String(s).padStart(3,"0"))}addParticipant(e){const t=this.getData(),n=d(d({},e),{},{id:Date.now(),registrationDate:(new Date).toISOString(),chestNumber:e.chestNumber||null});return t.participants.push(n),this.saveData(t),n}updateParticipant(e,t){const n=this.getData(),r=n.participants.findIndex(t=>t.id===e);return-1!==r?(n.participants[r]=d(d({},n.participants[r]),t),this.saveData(n),n.participants[r]):null}deleteParticipant(e){const t=this.getData();t.participants=t.participants.filter(t=>t.id!==e),this.saveData(t)}assignChestNumber(e){const t=this.getData(),n=t.participants.find(t=>t.id===e);if(!n)return null;if(n.chestNumber)return n.chestNumber;const r=this.generateChestNumber(n.ageCategory);return n.chestNumber=r,this.saveData(t),r}removeChestNumber(e){const t=this.getData(),n=t.participants.find(t=>t.id===e);return!!n&&(n.chestNumber=null,this.saveData(t),!0)}assignAllChestNumbers(){const e=this.getData(),t={Junior:"J",Intermediate:"I",Senior:"S","Super Senior":"SS"};let n=0;return["Junior","Intermediate","Senior","Super Senior"].forEach(r=>{const s=e.participants.filter(e=>e.ageCategory===r&&!e.chestNumber);if(0===s.length)return;const i=t[r],a=e.participants.filter(e=>e.chestNumber&&e.chestNumber.startsWith(i+"-")).map(e=>{const t=e.chestNumber.match(new RegExp("^".concat(i,"-(\\\\d+)$")));return t?parseInt(t[1]):0});let o=a.length>0?Math.max(...a)+1:1;s.forEach(e=>{e.chestNumber="".concat(i,"-").concat(String(o).padStart(3,"0")),o++,n++})}),this.saveData(e),n}getEvents(){return this.getData().events}getSections(){return this.getData().sections||[]}getChurchesBySection(e){const t=this.getSections().find(t=>t.name===e);return t?t.churches:[]}getScores(){return this.getData().scores}addScore(e){const t=this.getData(),n=d(d({},e),{},{id:Date.now(),submittedDate:(new Date).toISOString()});return t.scores.push(n),this.saveData(t),n}updateScore(e,t,n,r){const s=this.getData(),i=s.scores.findIndex(r=>r.participantId===e&&r.eventId===t&&r.judgeName===n);return-1!==i?(s.scores[i]=d(d(d({},s.scores[i]),r),{},{updatedDate:(new Date).toISOString()}),this.saveData(s),s.scores[i]):this.addScore(r)}getScoresByParticipant(e){return this.getData().scores.filter(t=>t.participantId===e)}getScoresByEvent(e){return this.getData().scores.filter(t=>t.eventId===e)}getScoresByJudge(e){return this.getData().scores.filter(t=>t.judgeName===e)}getScoresByParticipantAndEvent(e,t){return this.getData().scores.filter(n=>n.participantId===e&&n.eventId===t)}lockScores(e,t,n){const r=this.getData();r.judgeLocks||(r.judgeLocks=[]);const s=r.judgeLocks.findIndex(r=>r.judgeName===e&&r.eventId===t&&r.category===n);-1!==s?(r.judgeLocks[s].locked=!0,r.judgeLocks[s].lockedDate=(new Date).toISOString()):r.judgeLocks.push({judgeName:e,eventId:t,category:n,locked:!0,lockedDate:(new Date).toISOString()}),this.saveData(r)}unlockScores(e,t,n){const r=this.getData();r.judgeLocks||(r.judgeLocks=[]);const s=r.judgeLocks.findIndex(r=>r.judgeName===e&&r.eventId===t&&r.category===n);-1!==s&&(r.judgeLocks[s].locked=!1),this.saveData(r)}isScoreLocked(e,t,n){const r=this.getData();if(!r.judgeLocks)return!1;const s=r.judgeLocks.find(r=>r.judgeName===e&&r.eventId===t&&r.category===n);return!!s&&s.locked}areAllJudgesLocked(e,t){const n=this.getData();if(!n.judgeLocks)return!1;const r=n.events.find(t=>t.id===e);if(r&&"single-judge"===r.scoringType){return n.judgeLocks.filter(n=>n.eventId===e&&n.category===t&&n.locked).length>0}const s=n.judgeCredentials.length;return n.judgeLocks.filter(n=>n.eventId===e&&n.category===t&&n.locked).length===s}getJudgeLocks(){return this.getData().judgeLocks||[]}validateAdmin(e,t){const n=this.getData();return n.adminCredentials.username===e&&n.adminCredentials.password===t}validateJudge(e,t){return this.getData().judgeCredentials.some(n=>n.username===e&&n.password===t)}validateSection(e,t){const n=(this.getData().sectionCredentials||[]).find(n=>n.username===e&&n.password===t);return n?{valid:!0,section:n.section}:{valid:!1}}getParticipantsBySection(e){return this.getData().participants.filter(t=>t.section===e)}getAgeCategory(e){return e>=6&&e<=10?"Junior":e>=11&&e<=15?"Intermediate":e>=16&&e<=20?"Senior":e>=21&&e<=25?"Super Senior":null}calculateAverageScore(e){const t=this.getScoresByParticipant(e);if(0===t.length)return 0;const n=t.reduce((e,t)=>e+t.totalScore,0);return(n/t.length).toFixed(2)}declareResult(e,t){const n=this.getData(),r=n.declaredResults||[];return-1===r.findIndex(n=>n.eventId===e&&n.category===t)?(r.push({eventId:e,category:t,declaredAt:(new Date).toISOString(),declaredBy:"admin"}),n.declaredResults=r,this.saveData(n),{success:!0,message:"Result declared successfully"}):{success:!1,message:"Result already declared"}}declareGroupResult(e){const t=this.getData(),n=t.declaredResults||[];return-1===n.findIndex(t=>t.groupEventId===e)?(n.push({groupEventId:e,declaredAt:(new Date).toISOString(),declaredBy:"admin"}),t.declaredResults=n,this.saveData(t),{success:!0,message:"Group result declared successfully"}):{success:!1,message:"Group result already declared"}}declareAllResults(){const e=this.getData(),t=e.declaredResults||[],n=this.getEvents(),r=["Junior","Intermediate","Senior","Super Senior"];let s=0,i=0;return n.forEach(e=>{r.forEach(n=>{if(this.areAllJudgesLocked(e.id,n)){t.some(t=>t.eventId===e.id&&t.category===n)?i++:(t.push({eventId:e.id,category:n,declaredAt:(new Date).toISOString(),declaredBy:"admin"}),s++)}})}),s>0?(e.declaredResults=t,this.saveData(e),{success:!0,message:"Successfully declared ".concat(s," result(s). ").concat(i," already declared."),declaredCount:s,alreadyDeclaredCount:i}):{success:!1,message:i>0?"All locked results (".concat(i,") are already declared."):"No locked results available to declare.",declaredCount:0,alreadyDeclaredCount:i}}revertAllDeclarations(){const e=this.getData(),t=(e.declaredResults||[]).filter(e=>e.eventId).length;return t>0?(e.declaredResults=(e.declaredResults||[]).filter(e=>e.groupEventId),this.saveData(e),{success:!0,message:"Successfully reverted ".concat(t," declaration(s)."),revertedCount:t}):{success:!1,message:"No declared results to revert.",revertedCount:0}}revertDeclaration(e,t){const n=this.getData(),r=n.declaredResults||[],s=r.findIndex(n=>n.eventId===e&&n.category===t);return-1!==s?(r.splice(s,1),n.declaredResults=r,this.saveData(n),{success:!0,message:"Declaration reverted successfully"}):{success:!1,message:"Result not declared"}}revertGroupDeclaration(e){const t=this.getData(),n=t.declaredResults||[],r=n.findIndex(t=>t.groupEventId===e);return-1!==r?(n.splice(r,1),t.declaredResults=n,this.saveData(t),{success:!0,message:"Group declaration reverted successfully"}):{success:!1,message:"Group result not declared"}}isResultDeclared(e,t){return(this.getData().declaredResults||[]).some(n=>n.eventId===e&&n.category===t)}isGroupResultDeclared(e){return(this.getData().declaredResults||[]).some(t=>t.groupEventId===e)}getDeclaredResults(){return this.getData().declaredResults||[]}getDeclaredIndividualEvents(){return this.getDeclaredResults().filter(e=>void 0!==e.eventId)}getDeclaredGroupEvents(){return this.getDeclaredResults().filter(e=>void 0!==e.groupEventId)}};var Lt=n(579);const Mt=(0,r.createContext)(),Ft=()=>{const e=(0,r.useContext)(Mt);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Ut=e=>{let{children:t}=e;const[n,s]=(0,r.useState)(null);r.useEffect(()=>{(()=>{const e=localStorage.getItem("currentUser");!!e&&s(JSON.parse(e))})()},[]);const i={user:n,loginAdmin:(e,t)=>{if(Ot.validateAdmin(e,t)){const t={username:e,role:"admin"};return s(t),localStorage.setItem("currentUser",JSON.stringify(t)),{success:!0}}return{success:!1,error:"Invalid credentials"}},loginJudge:(e,t)=>{if(Ot.validateJudge(e,t)){const t={username:e,role:"judge"};return s(t),localStorage.setItem("currentUser",JSON.stringify(t)),{success:!0}}return{success:!1,error:"Invalid credentials"}},loginSection:(e,t)=>{const n=Ot.validateSection(e,t);if(n.valid){const t={username:e,role:"section",section:n.section};return s(t),localStorage.setItem("currentUser",JSON.stringify(t)),{success:!0}}return{success:!1,error:"Invalid credentials"}},logout:()=>{s(null),localStorage.removeItem("currentUser")},isAuthenticated:!!n,isAdmin:"admin"===(null===n||void 0===n?void 0:n.role),isJudge:"judge"===(null===n||void 0===n?void 0:n.role),isSection:"section"===(null===n||void 0===n?void 0:n.role)};return(0,Lt.jsx)(Mt.Provider,{value:i,children:t})},Vt=()=>{const[e,t]=(0,r.useState)(!1),n=Se(),s=()=>{t(!1)},i=e=>n.pathname===e?"active":"";return(0,Lt.jsx)("nav",{className:"navbar",children:(0,Lt.jsxs)("div",{className:"navbar-container",children:[(0,Lt.jsx)(_t,{to:"/",className:"navbar-logo",onClick:s,children:(0,Lt.jsx)("h2",{children:"Christ Soldiers"})}),(0,Lt.jsx)("div",{className:"menu-icon",onClick:()=>{t(!e)},children:(0,Lt.jsxs)("div",{className:e?"hamburger open":"hamburger",children:[(0,Lt.jsx)("span",{}),(0,Lt.jsx)("span",{}),(0,Lt.jsx)("span",{})]})}),(0,Lt.jsxs)("ul",{className:e?"nav-menu active":"nav-menu",children:[(0,Lt.jsx)("li",{className:"nav-item",children:(0,Lt.jsx)(_t,{to:"/",className:"nav-link ".concat(i("/")),onClick:s,children:"Home"})}),(0,Lt.jsx)("li",{className:"nav-item",children:(0,Lt.jsx)(_t,{to:"/about",className:"nav-link ".concat(i("/about")),onClick:s,children:"About Us"})}),(0,Lt.jsx)("li",{className:"nav-item",children:(0,Lt.jsx)(_t,{to:"/events",className:"nav-link ".concat(i("/events")),onClick:s,children:"Events"})}),(0,Lt.jsx)("li",{className:"nav-item",children:(0,Lt.jsx)(_t,{to:"/gallery",className:"nav-link ".concat(i("/gallery")),onClick:s,children:"Gallery"})}),(0,Lt.jsx)("li",{className:"nav-item",children:(0,Lt.jsx)(_t,{to:"/contact",className:"nav-link ".concat(i("/contact")),onClick:s,children:"Contact Us"})}),(0,Lt.jsx)("li",{className:"nav-item",children:(0,Lt.jsx)(_t,{to:"/admin/login",className:"nav-link admin-link ".concat(i("/admin/login")),onClick:s,children:"Admin Portal"})})]})]})})},zt=()=>{const[e,t]=(0,r.useState)({sectionChampions:[],churchChampions:[],individualChampions:[]}),[n,s]=(0,r.useState)(!1),[i,a]=(0,r.useState)(null),[o,l]=(0,r.useState)(!1);(0,r.useEffect)(()=>{u(),c()},[]);const c=()=>{const e=Ot.getData();e.championsDeclared&&e.finalChampions&&(l(!0),a(e.finalChampions))},u=()=>{const e=Ot.getParticipants(),n=Ot.getScores(),r=Ot.getSections(),i=Ot.getDeclaredResults(),a=Ot.getData(),o=a.pointsConfig||{individual:{first:5,second:3,third:1},group:{first:10,second:5,third:3}},l={};e.forEach(t=>{(t.eventIds||(t.eventId?[parseInt(t.eventId)]:[])).forEach(r=>{const s=t.ageCategory;if(!i.some(e=>e.eventId===r&&e.category===s))return;if(!Ot.areAllJudgesLocked(r,s))return;const a=e.filter(e=>(e.eventIds||(e.eventId?[parseInt(e.eventId)]:[])).includes(r)&&e.ageCategory===s).map(e=>{const t=n.filter(t=>t.participantId===e.id&&t.eventId===r).map(e=>e.totalScore),s=t.reduce((e,t)=>e+t,0),i=t.length>0?s/t.length:0;return{participantId:e.id,averageScore:i}});a.sort((e,t)=>t.averageScore-e.averageScore),a.forEach((e,n)=>{if(e.participantId===t.id){const e=n+1;let r=0;1===e?r=o.individual.first:2===e?r=o.individual.second:3===e&&(r=o.individual.third),l[t.id]||(l[t.id]={participant:t,totalPoints:0}),l[t.id].totalPoints+=r}})})});const c={};r.forEach(e=>{c[e.name]={section:e.name,totalPoints:0}}),Object.values(l).forEach(e=>{let{participant:t,totalPoints:n}=e;t.section&&c[t.section]&&(c[t.section].totalPoints+=n)});const u=a.groupTeams||[],d=a.groupEvents||[],h=a.groupEventLocks||[];d.forEach(e=>{if(!i.some(t=>t.groupEventId===e.id))return;if(!(a.judgeCredentials||[]).every(t=>h.some(n=>n.judgeName===t.username&&n.groupEventId===e.id&&n.locked)))return;const t=u.filter(t=>t.groupEventId===e.id).map(t=>{const n=t.scores||[];let r=0,s=0;if("quiz"===e.scoringType){const e=n.find(e=>void 0!==e.score);r=e?parseFloat(e.score):0,s=e?1:0}else n.forEach(e=>{r+=parseFloat(e.score),s++});const i=s>0?"quiz"===e.scoringType?r:r/s:0;return{teamId:t.id,sectionId:t.sectionId,averageScore:i}});t.sort((e,t)=>t.averageScore-e.averageScore),t.forEach((e,t)=>{const n=t+1;let s=0;1===n?s=o.group.first:2===n?s=o.group.second:3===n&&(s=o.group.third);const i=r.find(t=>t.id===e.sectionId);i&&c[i.name]&&(c[i.name].totalPoints+=s)})});const p=Object.values(c).filter(e=>e.totalPoints>0).sort((e,t)=>t.totalPoints-e.totalPoints).slice(0,3),f={};Object.values(l).forEach(e=>{let{participant:t,totalPoints:n}=e;t.churchName&&(f[t.churchName]||(f[t.churchName]={church:t.churchName,section:t.section,totalPoints:0}),f[t.churchName].totalPoints+=n)});const m=Object.values(f).sort((e,t)=>t.totalPoints-e.totalPoints).slice(0,3),g=Object.values(l).sort((e,t)=>t.totalPoints-e.totalPoints).slice(0,3);t({sectionChampions:p,churchChampions:m,individualChampions:g}),s(p.length>0||m.length>0||g.length>0)},d=e=>0===e?"\ud83e\udd47":1===e?"\ud83e\udd48":2===e?"\ud83e\udd49":"";return(0,Lt.jsxs)("div",{className:"home-page",children:[o&&i&&(0,Lt.jsx)("div",{className:"championship-banner",children:(0,Lt.jsxs)("div",{className:"championship-card",children:[(0,Lt.jsx)("div",{className:"trophy-animation",children:"\ud83c\udfc6"}),(0,Lt.jsx)("h2",{className:"championship-title",children:"Christ Soldiers Talent Test 2026"}),(0,Lt.jsx)("h3",{className:"championship-subtitle",children:"Official Champions"}),(0,Lt.jsxs)("div",{className:"champions-podium",children:[(0,Lt.jsxs)("div",{className:"podium-item second-place",children:[(0,Lt.jsx)("div",{className:"medal-icon",children:"\ud83e\udd48"}),(0,Lt.jsx)("div",{className:"podium-rank",children:"Runner-up"}),(0,Lt.jsx)("div",{className:"podium-section",children:i.runnerUp.section}),(0,Lt.jsxs)("div",{className:"podium-points",children:[i.runnerUp.totalPoints," pts"]})]}),(0,Lt.jsxs)("div",{className:"podium-item first-place",children:[(0,Lt.jsx)("div",{className:"medal-icon",children:"\ud83e\udd47"}),(0,Lt.jsx)("div",{className:"podium-rank",children:"Champion"}),(0,Lt.jsx)("div",{className:"podium-section",children:i.champion.section}),(0,Lt.jsxs)("div",{className:"podium-points",children:[i.champion.totalPoints," pts"]})]}),(0,Lt.jsxs)("div",{className:"podium-item third-place",children:[(0,Lt.jsx)("div",{className:"medal-icon",children:"\ud83e\udd49"}),(0,Lt.jsx)("div",{className:"podium-rank",children:"2nd Runner-up"}),(0,Lt.jsx)("div",{className:"podium-section",children:i.secondRunnerUp.section}),(0,Lt.jsxs)("div",{className:"podium-points",children:[i.secondRunnerUp.totalPoints," pts"]})]})]}),(0,Lt.jsx)("div",{className:"championship-footer",children:(0,Lt.jsx)("p",{children:"\ud83c\udf89 Congratulations to all participants! \ud83c\udf89"})})]})}),n&&(0,Lt.jsx)("div",{className:"results-marquee-container",children:(0,Lt.jsx)("div",{className:"results-marquee",children:(0,Lt.jsxs)("div",{className:"marquee-content",children:[(0,Lt.jsx)("span",{className:"marquee-header",children:"\u2b50 CHRIST SOLDIERS TALENT TEST RESULTS \u2b50"}),(0,Lt.jsx)("span",{className:"marquee-separator",children:"\u2022"}),e.sectionChampions.length>0&&(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("span",{className:"marquee-title",children:"\ud83c\udfc6 SECTION LEADERBOARD:"}),e.sectionChampions.map((e,t)=>(0,Lt.jsxs)("span",{className:"marquee-item",children:[d(t)," ",e.section," - ",e.totalPoints," pts"]},"section-".concat(t))),(0,Lt.jsx)("span",{className:"marquee-separator",children:"\u2022"})]}),e.churchChampions.length>0&&(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("span",{className:"marquee-title",children:"\u26ea CHURCH LEADERBOARD:"}),e.churchChampions.map((e,t)=>(0,Lt.jsxs)("span",{className:"marquee-item",children:[d(t)," ",e.church," - ",e.totalPoints," pts"]},"church-".concat(t))),(0,Lt.jsx)("span",{className:"marquee-separator",children:"\u2022"})]}),e.individualChampions.length>0&&(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("span",{className:"marquee-title",children:"\ud83d\udc64 INDIVIDUAL LEADERBOARD:"}),e.individualChampions.map((e,t)=>(0,Lt.jsxs)("span",{className:"marquee-item",children:[d(t)," ",e.participant.name," (",e.participant.section,") - ",e.totalPoints," pts"]},"individual-".concat(t))),(0,Lt.jsx)("span",{className:"marquee-separator",children:"\u2022"})]}),e.sectionChampions.length>0&&(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("span",{className:"marquee-title",children:"\ud83c\udfc6 SECTION LEADERBOARD:"}),e.sectionChampions.map((e,t)=>(0,Lt.jsxs)("span",{className:"marquee-item",children:[d(t)," ",e.section," - ",e.totalPoints," pts"]},"section-repeat-".concat(t))),(0,Lt.jsx)("span",{className:"marquee-separator",children:"\u2022"})]}),e.churchChampions.length>0&&(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("span",{className:"marquee-title",children:"\u26ea CHURCH LEADERBOARD:"}),e.churchChampions.map((e,t)=>(0,Lt.jsxs)("span",{className:"marquee-item",children:[d(t)," ",e.church," - ",e.totalPoints," pts"]},"church-repeat-".concat(t))),(0,Lt.jsx)("span",{className:"marquee-separator",children:"\u2022"})]}),e.individualChampions.length>0&&(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("span",{className:"marquee-title",children:"\ud83d\udc64 INDIVIDUAL LEADERBOARD:"}),e.individualChampions.map((e,t)=>(0,Lt.jsxs)("span",{className:"marquee-item",children:[d(t)," ",e.participant.name," (",e.participant.section,") - ",e.totalPoints," pts"]},"individual-repeat-".concat(t)))]})]})})}),(0,Lt.jsx)("section",{className:"hero-section",children:(0,Lt.jsxs)("div",{className:"hero-content",children:[(0,Lt.jsx)("h1",{children:"Welcome to Christ Soldiers"}),(0,Lt.jsx)("p",{className:"hero-subtitle",children:"Youth Wing of Bethel Gospel Assembly Church"}),(0,Lt.jsx)("p",{className:"hero-description",children:"Empowering young believers to serve Christ with passion and purpose"})]})}),(0,Lt.jsx)("section",{className:"info-section",children:(0,Lt.jsxs)("div",{className:"info-grid",children:[(0,Lt.jsxs)("div",{className:"info-card",children:[(0,Lt.jsx)("h3",{children:"Our Mission"}),(0,Lt.jsx)("p",{children:"To nurture and equip young people to become passionate followers of Christ, dedicated to serving God and their community."})]}),(0,Lt.jsxs)("div",{className:"info-card",children:[(0,Lt.jsx)("h3",{children:"Our Vision"}),(0,Lt.jsx)("p",{children:"To raise a generation of Christ-centered youth who will impact the world through faith, love, and service."})]}),(0,Lt.jsxs)("div",{className:"info-card",children:[(0,Lt.jsx)("h3",{children:"Get Involved"}),(0,Lt.jsx)("p",{children:"Join us in our various programs, events, and activities designed to strengthen your faith and develop your talents."})]})]})}),(0,Lt.jsxs)("section",{className:"upcoming-events",children:[(0,Lt.jsx)("h2",{children:"Upcoming Events"}),(0,Lt.jsxs)("div",{className:"events-grid",children:[(0,Lt.jsxs)("div",{className:"event-card",children:[(0,Lt.jsxs)("div",{className:"event-date",children:[(0,Lt.jsx)("span",{className:"day",children:"15"}),(0,Lt.jsx)("span",{className:"month",children:"JAN"})]}),(0,Lt.jsxs)("div",{className:"event-details",children:[(0,Lt.jsx)("h4",{children:"Annual Talent Test"}),(0,Lt.jsx)("p",{children:"Showcase your God-given talents in music, writing, and more!"}),(0,Lt.jsx)("span",{className:"event-time",children:"10:00 AM - 5:00 PM"})]})]}),(0,Lt.jsxs)("div",{className:"event-card",children:[(0,Lt.jsxs)("div",{className:"event-date",children:[(0,Lt.jsx)("span",{className:"day",children:"22"}),(0,Lt.jsx)("span",{className:"month",children:"JAN"})]}),(0,Lt.jsxs)("div",{className:"event-details",children:[(0,Lt.jsx)("h4",{children:"Youth Retreat"}),(0,Lt.jsx)("p",{children:"A weekend of worship, fellowship, and spiritual growth"}),(0,Lt.jsx)("span",{className:"event-time",children:"Friday - Sunday"})]})]}),(0,Lt.jsxs)("div",{className:"event-card",children:[(0,Lt.jsxs)("div",{className:"event-date",children:[(0,Lt.jsx)("span",{className:"day",children:"05"}),(0,Lt.jsx)("span",{className:"month",children:"FEB"})]}),(0,Lt.jsxs)("div",{className:"event-details",children:[(0,Lt.jsx)("h4",{children:"Community Outreach"}),(0,Lt.jsx)("p",{children:"Serve our community with love and compassion"}),(0,Lt.jsx)("span",{className:"event-time",children:"2:00 PM - 6:00 PM"})]})]})]})]}),(0,Lt.jsxs)("section",{className:"news-section",children:[(0,Lt.jsx)("h2",{children:"Recent News"}),(0,Lt.jsxs)("div",{className:"news-grid",children:[(0,Lt.jsxs)("article",{className:"news-item",children:[(0,Lt.jsx)("h4",{children:"Registration Open for Talent Test 2025"}),(0,Lt.jsx)("p",{className:"news-date",children:"December 20, 2025"}),(0,Lt.jsx)("p",{children:"We're excited to announce that registration is now open for our Annual Talent Test. Participants can register through our admin portal."})]}),(0,Lt.jsxs)("article",{className:"news-item",children:[(0,Lt.jsx)("h4",{children:"Successful Christmas Celebration"}),(0,Lt.jsx)("p",{className:"news-date",children:"December 25, 2025"}),(0,Lt.jsx)("p",{children:"Our Christmas celebration was a tremendous blessing with over 200 youth in attendance. Thank you to everyone who participated!"})]})]})]})]})},Bt=()=>(0,Lt.jsxs)("div",{className:"about-page",children:[(0,Lt.jsxs)("div",{className:"about-header",children:[(0,Lt.jsx)("h1",{children:"About Christ Soldiers"}),(0,Lt.jsx)("p",{children:"Youth Wing of Bethel Gospel Assembly Church"})]}),(0,Lt.jsx)("section",{className:"about-section",children:(0,Lt.jsxs)("div",{className:"about-content",children:[(0,Lt.jsxs)("div",{className:"about-card",children:[(0,Lt.jsx)("h2",{children:"Our Mission"}),(0,Lt.jsx)("p",{children:"Christ Soldiers is dedicated to nurturing and equipping young believers to become passionate followers of Christ. We strive to create an environment where youth can grow spiritually, develop their God-given talents, and learn to serve Christ with dedication and purpose."}),(0,Lt.jsx)("p",{children:"Through various programs, events, and activities, we aim to empower the next generation to impact their communities and the world with the Gospel of Jesus Christ."})]}),(0,Lt.jsxs)("div",{className:"about-card",children:[(0,Lt.jsx)("h2",{children:"Our Vision"}),(0,Lt.jsx)("p",{children:"We envision a generation of Christ-centered youth who are:"}),(0,Lt.jsxs)("ul",{children:[(0,Lt.jsx)("li",{children:"Firmly rooted in their faith and Biblical knowledge"}),(0,Lt.jsx)("li",{children:"Passionate about worship and prayer"}),(0,Lt.jsx)("li",{children:"Committed to serving God and their community"}),(0,Lt.jsx)("li",{children:"Equipped with skills and talents for Kingdom work"}),(0,Lt.jsx)("li",{children:"Leaders who will transform their world through Christ's love"})]})]}),(0,Lt.jsxs)("div",{className:"about-card",children:[(0,Lt.jsx)("h2",{children:"Our History"}),(0,Lt.jsx)("p",{children:"Christ Soldiers was established as the youth wing of Bethel Gospel Assembly Church with the purpose of bringing together young people from different backgrounds to worship, learn, and grow together in Christ."}),(0,Lt.jsx)("p",{children:"Over the years, we have witnessed countless young lives transformed by the power of God's Word and the fellowship of believers. Our ministry has grown to include various programs such as:"}),(0,Lt.jsxs)("ul",{children:[(0,Lt.jsx)("li",{children:"Weekly youth meetings and Bible studies"}),(0,Lt.jsx)("li",{children:"Annual talent competitions and cultural events"}),(0,Lt.jsx)("li",{children:"Community outreach and service projects"}),(0,Lt.jsx)("li",{children:"Leadership training and mentorship programs"}),(0,Lt.jsx)("li",{children:"Worship nights and prayer gatherings"})]})]}),(0,Lt.jsxs)("div",{className:"about-card",children:[(0,Lt.jsx)("h2",{children:"What We Believe"}),(0,Lt.jsxs)("ul",{children:[(0,Lt.jsx)("li",{children:"The Bible is the inspired and infallible Word of God"}),(0,Lt.jsx)("li",{children:"Jesus Christ is the Son of God and the only way to salvation"}),(0,Lt.jsx)("li",{children:"The Holy Spirit empowers believers for service and witness"}),(0,Lt.jsx)("li",{children:"Every believer is called to be a disciple and make disciples"}),(0,Lt.jsx)("li",{children:"The Church is the body of Christ, united in love and purpose"})]})]}),(0,Lt.jsxs)("div",{className:"about-card",children:[(0,Lt.jsx)("h2",{children:"Age Categories"}),(0,Lt.jsx)("p",{children:"We organize our participants into age-appropriate groups to ensure relevant and engaging activities:"}),(0,Lt.jsxs)("div",{className:"categories-grid",children:[(0,Lt.jsxs)("div",{className:"category-item",children:[(0,Lt.jsx)("h3",{children:"Junior"}),(0,Lt.jsx)("p",{children:"6-10 years"})]}),(0,Lt.jsxs)("div",{className:"category-item",children:[(0,Lt.jsx)("h3",{children:"Intermediate"}),(0,Lt.jsx)("p",{children:"11-15 years"})]}),(0,Lt.jsxs)("div",{className:"category-item",children:[(0,Lt.jsx)("h3",{children:"Senior"}),(0,Lt.jsx)("p",{children:"16-20 years"})]}),(0,Lt.jsxs)("div",{className:"category-item",children:[(0,Lt.jsx)("h3",{children:"Super Senior"}),(0,Lt.jsx)("p",{children:"21-25 years"})]})]})]}),(0,Lt.jsxs)("div",{className:"about-card",children:[(0,Lt.jsx)("h2",{children:"Join Us"}),(0,Lt.jsx)("p",{children:"We invite all young people to join us in this exciting journey of faith, fellowship, and service. Whether you're looking to grow spiritually, develop your talents, or make a difference in your community, Christ Soldiers is the place for you!"}),(0,Lt.jsx)("p",{children:"Contact us today to learn more about our programs and how you can get involved."})]})]})})]}),qt=()=>(0,Lt.jsxs)("div",{className:"events-page",children:[(0,Lt.jsxs)("div",{className:"events-header",children:[(0,Lt.jsx)("h1",{children:"Events"}),(0,Lt.jsx)("p",{children:"Join us in our exciting programs and activities"})]}),(0,Lt.jsxs)("section",{className:"events-section",children:[(0,Lt.jsx)("h2",{children:"Upcoming Events"}),(0,Lt.jsx)("div",{className:"events-list",children:[{id:1,title:"Annual Talent Test 2025",date:"January 15, 2025",time:"10:00 AM - 5:00 PM",location:"Bethel Gospel Assembly Church",description:"Showcase your God-given talents in various categories including Solo Music, Story Writing, Poem Writing, and Bible Verse Competition.",categories:["Solo Music (Male)","Solo Music (Female)","Story Writing","Poem Writing","Bible Verse Competition"],status:"Registration Open"},{id:2,title:"Youth Retreat 2025",date:"January 22-24, 2025",time:"Friday - Sunday",location:"Mountain View Retreat Center",description:"A weekend filled with worship, teaching, fellowship, and outdoor activities designed to deepen your relationship with God.",categories:["Worship Sessions","Workshops","Team Building","Prayer Meetings"],status:"Coming Soon"},{id:3,title:"Community Outreach Day",date:"February 5, 2025",time:"2:00 PM - 6:00 PM",location:"Local Community Center",description:"Join us as we serve our community through various outreach activities, food distribution, and sharing the love of Christ.",categories:["Food Distribution","Medical Camp","Children's Program","Prayer Ministry"],status:"Planning Stage"},{id:4,title:"Worship Night",date:"February 12, 2025",time:"6:00 PM - 9:00 PM",location:"Bethel Gospel Assembly Church",description:"An evening dedicated to worship, praise, and experiencing God's presence through music and prayer.",categories:["Live Worship","Prayer & Intercession","Testimonies"],status:"Coming Soon"},{id:5,title:"Leadership Training Workshop",date:"February 19, 2025",time:"9:00 AM - 4:00 PM",location:"Church Hall",description:"Equip yourself with essential leadership skills and biblical principles for effective ministry and service.",categories:["Leadership Principles","Team Management","Conflict Resolution","Vision Casting"],status:"Registration Opens Soon"}].map(e=>(0,Lt.jsxs)("div",{className:"event-item",children:[(0,Lt.jsx)("div",{className:"event-status-badge","data-status":e.status,children:e.status}),(0,Lt.jsx)("h3",{children:e.title}),(0,Lt.jsxs)("div",{className:"event-info",children:[(0,Lt.jsxs)("div",{className:"event-info-item",children:[(0,Lt.jsx)("span",{className:"icon",children:"\ud83d\udcc5"}),(0,Lt.jsx)("span",{children:e.date})]}),(0,Lt.jsxs)("div",{className:"event-info-item",children:[(0,Lt.jsx)("span",{className:"icon",children:"\u23f0"}),(0,Lt.jsx)("span",{children:e.time})]}),(0,Lt.jsxs)("div",{className:"event-info-item",children:[(0,Lt.jsx)("span",{className:"icon",children:"\ud83d\udccd"}),(0,Lt.jsx)("span",{children:e.location})]})]}),(0,Lt.jsx)("p",{className:"event-description",children:e.description}),(0,Lt.jsx)("div",{className:"event-categories",children:e.categories.map((e,t)=>(0,Lt.jsx)("span",{className:"category-badge",children:e},t))})]},e.id))})]}),(0,Lt.jsxs)("section",{className:"talent-test-section",children:[(0,Lt.jsx)("h2",{children:"Talent Test Event Categories"}),(0,Lt.jsx)("p",{className:"section-description",children:"Our annual talent test features the following categories across all age groups:"}),(0,Lt.jsx)("div",{className:"talent-test-grid",children:[{name:"Solo Music (Male)",description:"Individual singing performance for male participants",ageGroups:["Junior","Intermediate","Senior","Super Senior"]},{name:"Solo Music (Female)",description:"Individual singing performance for female participants",ageGroups:["Junior","Intermediate","Senior","Super Senior"]},{name:"Story Writing",description:"Creative story writing competition based on biblical themes",ageGroups:["Junior","Intermediate","Senior","Super Senior"]},{name:"Poem Writing",description:"Poetry composition on faith, hope, and Christian values",ageGroups:["Junior","Intermediate","Senior","Super Senior"]},{name:"Bible Verse Competition",description:"Scripture memorization and recitation competition",ageGroups:["Junior","Intermediate","Senior","Super Senior"]}].map((e,t)=>(0,Lt.jsxs)("div",{className:"talent-event-card",children:[(0,Lt.jsx)("h4",{children:e.name}),(0,Lt.jsx)("p",{children:e.description}),(0,Lt.jsxs)("div",{className:"age-groups",children:[(0,Lt.jsx)("strong",{children:"Age Groups:"}),(0,Lt.jsx)("div",{className:"age-badges",children:e.ageGroups.map((e,t)=>(0,Lt.jsx)("span",{className:"age-badge",children:e},t))})]})]},t))})]}),(0,Lt.jsx)("section",{className:"info-section",children:(0,Lt.jsxs)("div",{className:"info-box",children:[(0,Lt.jsx)("h3",{children:"Want to Participate?"}),(0,Lt.jsx)("p",{children:"Registration for our events is managed through our admin portal. Contact your group leader or church administrator to register for upcoming events."})]})})]}),Gt=()=>{const e=[{id:1,title:"Christmas Celebration 2024",description:"Youth gathering for Christmas celebration with worship and fellowship",category:"Events"},{id:2,title:"Talent Test 2024",description:"Participants showcasing their talents in music and writing",category:"Talent Test"},{id:3,title:"Youth Retreat",description:"Mountain retreat with worship, teaching, and outdoor activities",category:"Retreat"},{id:4,title:"Community Outreach",description:"Serving the community with love and compassion",category:"Outreach"},{id:5,title:"Worship Night",description:"Evening of praise and worship with live music",category:"Worship"},{id:6,title:"Bible Study Session",description:"Youth gathering for in-depth Bible study and discussion",category:"Bible Study"},{id:7,title:"Solo Music Performance",description:"Participants performing in the solo music category",category:"Talent Test"},{id:8,title:"Award Ceremony",description:"Recognizing and celebrating talented youth",category:"Events"},{id:9,title:"Prayer Meeting",description:"Youth united in prayer and intercession",category:"Prayer"}],[t,n]=r.useState("All"),s="All"===t?e:e.filter(e=>e.category===t);return(0,Lt.jsxs)("div",{className:"gallery-page",children:[(0,Lt.jsxs)("div",{className:"gallery-header",children:[(0,Lt.jsx)("h1",{children:"Gallery"}),(0,Lt.jsx)("p",{children:"Memories from our events and activities"})]}),(0,Lt.jsxs)("section",{className:"gallery-section",children:[(0,Lt.jsxs)("div",{className:"filter-section",children:[(0,Lt.jsx)("h3",{children:"Filter by Category:"}),(0,Lt.jsx)("div",{className:"filter-buttons",children:["All","Events","Talent Test","Retreat","Outreach","Worship","Bible Study","Prayer"].map(e=>(0,Lt.jsx)("button",{className:"filter-btn ".concat(t===e?"active":""),onClick:()=>n(e),children:e},e))})]}),(0,Lt.jsx)("div",{className:"gallery-grid",children:s.map(e=>(0,Lt.jsx)("div",{className:"gallery-item",children:(0,Lt.jsxs)("div",{className:"image-placeholder",children:[(0,Lt.jsx)("span",{className:"placeholder-icon",children:"\ud83d\uddbc\ufe0f"}),(0,Lt.jsxs)("div",{className:"image-overlay",children:[(0,Lt.jsx)("h4",{children:e.title}),(0,Lt.jsx)("p",{children:e.description}),(0,Lt.jsx)("span",{className:"image-category",children:e.category})]})]})},e.id))}),0===s.length&&(0,Lt.jsx)("div",{className:"no-results",children:(0,Lt.jsx)("p",{children:"No images found in this category."})})]}),(0,Lt.jsx)("section",{className:"upload-info",children:(0,Lt.jsxs)("div",{className:"info-card",children:[(0,Lt.jsx)("h3",{children:"Want to Share Your Photos?"}),(0,Lt.jsx)("p",{children:"If you have photos from our events that you'd like to share, please contact our admin team. We'd love to feature them in our gallery!"})]})})]})},Ht=()=>{const[e,t]=(0,r.useState)({name:"",email:"",phone:"",subject:"",message:""}),[n,s]=(0,r.useState)(!1),i=n=>{t(d(d({},e),{},{[n.target.name]:n.target.value}))};return(0,Lt.jsxs)("div",{className:"contact-page",children:[(0,Lt.jsxs)("div",{className:"contact-header",children:[(0,Lt.jsx)("h1",{children:"Contact Us"}),(0,Lt.jsx)("p",{children:"We'd love to hear from you"})]}),(0,Lt.jsx)("section",{className:"contact-section",children:(0,Lt.jsxs)("div",{className:"contact-container",children:[(0,Lt.jsxs)("div",{className:"contact-info",children:[(0,Lt.jsx)("h2",{children:"Get In Touch"}),(0,Lt.jsx)("p",{children:"Have questions or want to get involved? We're here to help! Reach out to us using the contact information below or fill out the form."}),(0,Lt.jsxs)("div",{className:"contact-details",children:[(0,Lt.jsxs)("div",{className:"contact-item",children:[(0,Lt.jsx)("div",{className:"contact-icon",children:"\ud83d\udccd"}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h4",{children:"Location"}),(0,Lt.jsxs)("p",{children:["Bethel Gospel Assembly Church",(0,Lt.jsx)("br",{}),"Main Street, City Name",(0,Lt.jsx)("br",{}),"State, ZIP Code"]})]})]}),(0,Lt.jsxs)("div",{className:"contact-item",children:[(0,Lt.jsx)("div",{className:"contact-icon",children:"\ud83d\udce7"}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h4",{children:"Email"}),(0,Lt.jsxs)("p",{children:["christsoldiers@bethelagc.org",(0,Lt.jsx)("br",{}),"info@christsoldiers.org"]})]})]}),(0,Lt.jsxs)("div",{className:"contact-item",children:[(0,Lt.jsx)("div",{className:"contact-icon",children:"\ud83d\udcde"}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h4",{children:"Phone"}),(0,Lt.jsxs)("p",{children:["+1 (555) 123-4567",(0,Lt.jsx)("br",{}),"+1 (555) 987-6543"]})]})]}),(0,Lt.jsxs)("div",{className:"contact-item",children:[(0,Lt.jsx)("div",{className:"contact-icon",children:"\u23f0"}),(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h4",{children:"Office Hours"}),(0,Lt.jsxs)("p",{children:["Monday - Friday: 9:00 AM - 5:00 PM",(0,Lt.jsx)("br",{}),"Saturday: 10:00 AM - 2:00 PM",(0,Lt.jsx)("br",{}),"Sunday: After service"]})]})]})]}),(0,Lt.jsxs)("div",{className:"social-media",children:[(0,Lt.jsx)("h4",{children:"Follow Us"}),(0,Lt.jsxs)("div",{className:"social-icons",children:[(0,Lt.jsx)("a",{href:"#facebook",className:"social-link",children:"Facebook"}),(0,Lt.jsx)("a",{href:"#instagram",className:"social-link",children:"Instagram"}),(0,Lt.jsx)("a",{href:"#twitter",className:"social-link",children:"Twitter"}),(0,Lt.jsx)("a",{href:"#youtube",className:"social-link",children:"YouTube"})]})]})]}),(0,Lt.jsxs)("div",{className:"contact-form-container",children:[(0,Lt.jsx)("h2",{children:"Send Us a Message"}),n&&(0,Lt.jsx)("div",{className:"success-message",children:"Thank you for your message! We'll get back to you soon."}),(0,Lt.jsxs)("form",{onSubmit:n=>{n.preventDefault(),console.log("Form submitted:",e),s(!0),setTimeout(()=>{t({name:"",email:"",phone:"",subject:"",message:""}),s(!1)},3e3)},className:"contact-form",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,Lt.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:i,required:!0,placeholder:"Enter your full name"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"email",children:"Email Address *"}),(0,Lt.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:i,required:!0,placeholder:"your.email@example.com"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"phone",children:"Phone Number"}),(0,Lt.jsx)("input",{type:"tel",id:"phone",name:"phone",value:e.phone,onChange:i,placeholder:"+1 (555) 123-4567"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"subject",children:"Subject *"}),(0,Lt.jsx)("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:i,required:!0,placeholder:"What is this regarding?"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"message",children:"Message *"}),(0,Lt.jsx)("textarea",{id:"message",name:"message",value:e.message,onChange:i,required:!0,rows:"6",placeholder:"Type your message here..."})]}),(0,Lt.jsx)("button",{type:"submit",className:"btn btn-primary submit-btn",children:"Send Message"})]})]})]})})]})},Wt=()=>{const[e,t]=(0,r.useState)({username:"",password:""}),[n,s]=(0,r.useState)(""),{loginAdmin:i}=Ft(),a=ke(),o=n=>{t(d(d({},e),{},{[n.target.name]:n.target.value}))};return(0,Lt.jsx)("div",{className:"login-page",children:(0,Lt.jsxs)("div",{className:"login-container",children:[(0,Lt.jsxs)("div",{className:"login-header",children:[(0,Lt.jsx)("h1",{children:"\ud83d\udd10 Admin Portal"}),(0,Lt.jsx)("p",{children:"Christ Soldiers Talent Test - Admin Login"})]}),(0,Lt.jsxs)("form",{onSubmit:t=>{t.preventDefault(),s("");const n=i(e.username,e.password);n.success?a("/admin/dashboard"):s(n.error)},className:"login-form",children:[n&&(0,Lt.jsx)("div",{className:"error-message",children:n}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"username",children:"Username"}),(0,Lt.jsx)("input",{type:"text",id:"username",name:"username",value:e.username,onChange:o,required:!0,placeholder:"Enter your username",autoFocus:!0})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Lt.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:o,required:!0,placeholder:"Enter your password"})]}),(0,Lt.jsx)("button",{type:"submit",className:"login-btn",children:"Login as Admin"}),(0,Lt.jsxs)("div",{className:"other-logins",children:[(0,Lt.jsx)("p",{children:"Other Portals:"}),(0,Lt.jsx)(_t,{to:"/judge/login",children:"Judge Login"}),(0,Lt.jsx)("span",{children:"\u2022"}),(0,Lt.jsx)(_t,{to:"/section/login",children:"Section Login"})]})]})]})})},Kt=()=>{const[e,t]=(0,r.useState)({username:"",password:""}),[n,s]=(0,r.useState)(""),{loginJudge:i}=Ft(),a=ke(),o=n=>{t(d(d({},e),{},{[n.target.name]:n.target.value}))};return(0,Lt.jsx)("div",{className:"login-page",children:(0,Lt.jsxs)("div",{className:"login-container",children:[(0,Lt.jsxs)("div",{className:"login-header",children:[(0,Lt.jsx)("h1",{children:"\ud83d\udc68\u200d\u2696\ufe0f Judge Portal"}),(0,Lt.jsx)("p",{children:"Christ Soldiers Talent Test - Judge Login"})]}),(0,Lt.jsxs)("form",{onSubmit:t=>{t.preventDefault(),s("");const n=i(e.username,e.password);n.success?a("/judge/dashboard"):s(n.error)},className:"login-form",children:[n&&(0,Lt.jsx)("div",{className:"error-message",children:n}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"username",children:"Username"}),(0,Lt.jsx)("input",{type:"text",id:"username",name:"username",value:e.username,onChange:o,required:!0,placeholder:"Enter your username",autoFocus:!0})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Lt.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:o,required:!0,placeholder:"Enter your password"})]}),(0,Lt.jsx)("button",{type:"submit",className:"login-btn",children:"Login as Judge"}),(0,Lt.jsxs)("div",{className:"other-logins",children:[(0,Lt.jsx)("p",{children:"Other Portals:"}),(0,Lt.jsx)(_t,{to:"/admin/login",children:"Admin Login"}),(0,Lt.jsx)("span",{children:"\u2022"}),(0,Lt.jsx)(_t,{to:"/section/login",children:"Section Login"})]})]})]})})},Jt=()=>{const[e,t]=(0,r.useState)({username:"",password:""}),[n,s]=(0,r.useState)(""),{loginSection:i}=Ft(),a=ke(),o=n=>{t(d(d({},e),{},{[n.target.name]:n.target.value}))};return(0,Lt.jsx)("div",{className:"login-page",children:(0,Lt.jsxs)("div",{className:"login-container",children:[(0,Lt.jsxs)("div",{className:"login-header",children:[(0,Lt.jsx)("h1",{children:"\ud83d\udccd Section Portal"}),(0,Lt.jsx)("p",{children:"Christ Soldiers Talent Test - Section Login"})]}),(0,Lt.jsxs)("form",{onSubmit:t=>{t.preventDefault(),s("");const n=i(e.username,e.password);n.success?a("/section/dashboard"):s(n.error)},className:"login-form",children:[n&&(0,Lt.jsx)("div",{className:"error-message",children:n}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"username",children:"Username"}),(0,Lt.jsx)("input",{type:"text",id:"username",name:"username",value:e.username,onChange:o,required:!0,placeholder:"Enter your username",autoFocus:!0})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"password",children:"Password"}),(0,Lt.jsx)("input",{type:"password",id:"password",name:"password",value:e.password,onChange:o,required:!0,placeholder:"Enter your password"})]}),(0,Lt.jsx)("button",{type:"submit",className:"login-btn",children:"Login as Section"}),(0,Lt.jsxs)("div",{className:"other-logins",children:[(0,Lt.jsx)("p",{children:"Other Portals:"}),(0,Lt.jsx)(_t,{to:"/admin/login",children:"Admin Login"}),(0,Lt.jsx)("span",{children:"\u2022"}),(0,Lt.jsx)(_t,{to:"/judge/login",children:"Judge Login"})]})]})]})})},Qt=()=>{var e;const[t,n]=(0,r.useState)([]),[s,i]=(0,r.useState)([]),[a,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(null),[u]=(0,r.useState)(Ot.getEvents()),{user:d,logout:h}=Ft(),p=ke();(0,r.useEffect)(()=>{d&&"admin"===d.role?f():p("/admin/login")},[d,p]);const f=()=>{const e=Ot.getParticipants();n(e),i([]),o(null),c(null)};(0,r.useEffect)(()=>{(()=>{let e=[...t];a||l?(a&&(e=e.filter(e=>e.ageCategory===a)),l&&(e=e.filter(e=>(e.eventIds||(e.eventId?[parseInt(e.eventId)]:[])).includes(parseInt(l)))),i(e)):i([])})()},[a,l]);const m=e=>{o(a===e?null:e)},g=()=>{o(null),c(null)},v=e=>(e.eventIds?e.eventIds:e.eventId?[parseInt(e.eventId)]:[]).map(e=>{const t=u.find(t=>t.id===e);return t?t.name:"Unknown"}).join(", "),y={total:t.length,junior:t.filter(e=>"Junior"===e.ageCategory).length,intermediate:t.filter(e=>"Intermediate"===e.ageCategory).length,senior:t.filter(e=>"Senior"===e.ageCategory).length,superSenior:t.filter(e=>"Super Senior"===e.ageCategory).length};return(0,Lt.jsxs)("div",{className:"admin-dashboard",children:[(0,Lt.jsxs)("div",{className:"dashboard-header",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h1",{children:"Admin Dashboard"}),(0,Lt.jsxs)("p",{children:["Welcome, ",null===d||void 0===d?void 0:d.username]})]}),(0,Lt.jsx)("div",{className:"header-actions",children:(0,Lt.jsx)("button",{onClick:()=>{h(),p("/admin/login")},className:"btn btn-secondary",children:"Logout"})})]}),(0,Lt.jsxs)("div",{className:"admin-menu-grid",children:[(0,Lt.jsxs)("button",{onClick:()=>p("/admin/participants"),className:"menu-card",children:[(0,Lt.jsx)("div",{className:"menu-icon",children:"\ud83d\udccd"}),(0,Lt.jsx)("div",{className:"menu-title",children:"Participants"}),(0,Lt.jsx)("div",{className:"menu-subtitle",children:"View by Location"})]}),(0,Lt.jsxs)("button",{onClick:()=>p("/admin/master-data"),className:"menu-card",children:[(0,Lt.jsx)("div",{className:"menu-icon",children:"\ud83d\uddc2\ufe0f"}),(0,Lt.jsx)("div",{className:"menu-title",children:"Master Data"}),(0,Lt.jsx)("div",{className:"menu-subtitle",children:"Manage Events & Sections"})]}),(0,Lt.jsxs)("button",{onClick:()=>p("/admin/group-teams"),className:"menu-card",children:[(0,Lt.jsx)("div",{className:"menu-icon",children:"\ud83d\udc65"}),(0,Lt.jsx)("div",{className:"menu-title",children:"Group Teams"}),(0,Lt.jsx)("div",{className:"menu-subtitle",children:"Manage Team Registration"})]}),(0,Lt.jsxs)("button",{onClick:()=>p("/admin/results"),className:"menu-card",children:[(0,Lt.jsx)("div",{className:"menu-icon",children:"\ud83d\udcca"}),(0,Lt.jsx)("div",{className:"menu-title",children:"View Results"}),(0,Lt.jsx)("div",{className:"menu-subtitle",children:"Individual Event Results"})]}),(0,Lt.jsxs)("button",{onClick:()=>p("/admin/group-results"),className:"menu-card",children:[(0,Lt.jsx)("div",{className:"menu-icon",children:"\ud83c\udfc5"}),(0,Lt.jsx)("div",{className:"menu-title",children:"Group Results"}),(0,Lt.jsx)("div",{className:"menu-subtitle",children:"Team Event Results"})]}),(0,Lt.jsxs)("button",{onClick:()=>p("/admin/leaderboard"),className:"menu-card",children:[(0,Lt.jsx)("div",{className:"menu-icon",children:"\ud83c\udfc6"}),(0,Lt.jsx)("div",{className:"menu-title",children:"Leaderboard"}),(0,Lt.jsx)("div",{className:"menu-subtitle",children:"Overall Rankings"})]}),(0,Lt.jsxs)("button",{onClick:()=>p("/admin/printable-results"),className:"menu-card",children:[(0,Lt.jsx)("div",{className:"menu-icon",children:"\ud83d\udda8\ufe0f"}),(0,Lt.jsx)("div",{className:"menu-title",children:"Print Results"}),(0,Lt.jsx)("div",{className:"menu-subtitle",children:"Printable Summary"})]}),(0,Lt.jsxs)("button",{onClick:()=>p("/admin/migration"),className:"menu-card",children:[(0,Lt.jsx)("div",{className:"menu-icon",children:"\ud83d\udd04"}),(0,Lt.jsx)("div",{className:"menu-title",children:"Firebase Migration"}),(0,Lt.jsx)("div",{className:"menu-subtitle",children:"Data Migration Utility"})]})]}),(0,Lt.jsxs)("div",{className:"stats-grid",children:[(0,Lt.jsxs)("div",{className:"stat-card ".concat(null===a&&null===l?"active":""),onClick:()=>{o(null),c(null)},style:{cursor:"pointer"},children:[(0,Lt.jsx)("h3",{children:"Total Participants"}),(0,Lt.jsx)("p",{className:"stat-number",children:y.total})]}),(0,Lt.jsxs)("div",{className:"stat-card ".concat("Junior"===a?"active":""),onClick:()=>m("Junior"),style:{cursor:"pointer"},children:[(0,Lt.jsx)("h3",{children:"Junior (6-10)"}),(0,Lt.jsx)("p",{className:"stat-number",children:y.junior})]}),(0,Lt.jsxs)("div",{className:"stat-card ".concat("Intermediate"===a?"active":""),onClick:()=>m("Intermediate"),style:{cursor:"pointer"},children:[(0,Lt.jsx)("h3",{children:"Intermediate (11-15)"}),(0,Lt.jsx)("p",{className:"stat-number",children:y.intermediate})]}),(0,Lt.jsxs)("div",{className:"stat-card ".concat("Senior"===a?"active":""),onClick:()=>m("Senior"),style:{cursor:"pointer"},children:[(0,Lt.jsx)("h3",{children:"Senior (16-20)"}),(0,Lt.jsx)("p",{className:"stat-number",children:y.senior})]}),(0,Lt.jsxs)("div",{className:"stat-card ".concat("Super Senior"===a?"active":""),onClick:()=>m("Super Senior"),style:{cursor:"pointer"},children:[(0,Lt.jsx)("h3",{children:"Super Senior (21-25)"}),(0,Lt.jsx)("p",{className:"stat-number",children:y.superSenior})]})]}),(0,Lt.jsxs)("div",{className:"card filter-card",children:[(0,Lt.jsx)("h3",{children:"Filter by Event"}),(0,Lt.jsxs)("div",{className:"event-filter-grid",children:[(0,Lt.jsx)("button",{onClick:g,className:"event-filter-btn ".concat(l||a?"":"active"),children:"All Events"}),u.map(e=>(0,Lt.jsx)("button",{onClick:()=>{return t=e.id,void c(l===t?null:t);var t},className:"event-filter-btn ".concat(l===e.id?"active":""),children:e.name},e.id))]})]}),(a||l)&&(0,Lt.jsx)("div",{className:"card",children:(0,Lt.jsxs)("div",{className:"active-filters",children:[(0,Lt.jsx)("span",{className:"filter-label",children:"Active Filters:"}),a&&(0,Lt.jsxs)("span",{className:"filter-tag",children:["Category: ",a,(0,Lt.jsx)("button",{onClick:()=>o(null),className:"filter-remove",children:"\xd7"})]}),l&&(0,Lt.jsxs)("span",{className:"filter-tag",children:["Event: ",null===(e=u.find(e=>e.id===l))||void 0===e?void 0:e.name,(0,Lt.jsx)("button",{onClick:()=>c(null),className:"filter-remove",children:"\xd7"})]}),(0,Lt.jsx)("button",{onClick:g,className:"btn btn-secondary btn-small",children:"Clear All Filters"})]})}),(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsxs)("h2",{children:["Registered Participants",a&&(0,Lt.jsxs)("span",{className:"filter-badge",children:["Filtered by: ",a," (",s.length,")"]})]}),0===t.length?(0,Lt.jsx)("p",{className:"no-data",children:"No participants registered yet."}):a||l?0===s.length?(0,Lt.jsx)("p",{className:"no-data",children:"No participants found matching the selected filters."}):(0,Lt.jsx)("div",{className:"table-container",children:(0,Lt.jsxs)("table",{className:"table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Chest No."}),(0,Lt.jsx)("th",{children:"Name"}),(0,Lt.jsx)("th",{children:"Age"}),(0,Lt.jsx)("th",{children:"Category"}),(0,Lt.jsx)("th",{children:"Section"}),(0,Lt.jsx)("th",{children:"Gender"}),(0,Lt.jsx)("th",{children:"Events"}),(0,Lt.jsx)("th",{children:"Contact"}),(0,Lt.jsx)("th",{children:"Actions"})]})}),(0,Lt.jsx)("tbody",{children:s.map(e=>(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:e.chestNumber?(0,Lt.jsx)("span",{className:"chest-number",children:e.chestNumber}):(0,Lt.jsx)("span",{className:"no-chest-number",children:"-"})}),(0,Lt.jsx)("td",{children:e.name}),(0,Lt.jsx)("td",{children:e.age}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("span",{className:"category-badge",children:e.ageCategory})}),(0,Lt.jsx)("td",{children:e.section||"-"}),(0,Lt.jsx)("td",{children:e.gender}),(0,Lt.jsx)("td",{children:v(e)}),(0,Lt.jsxs)("td",{children:[e.email&&(0,Lt.jsx)("div",{children:e.email}),e.phone&&(0,Lt.jsx)("div",{children:e.phone})]}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("div",{className:"action-buttons",children:e.chestNumber?(0,Lt.jsx)("button",{onClick:()=>(e=>{if(!e.chestNumber)return void alert("Please assign a chest number first!");const t=v(e),n=window.open("","_blank"),r="\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Chest Number - ".concat(e.chestNumber,'</title>\n        <style>\n          @media print {\n            @page {\n              size: A6 landscape;\n              margin: 0;\n            }\n            body {\n              margin: 0;\n              padding: 0;\n            }\n          }\n          \n          body {\n            font-family: Arial, sans-serif;\n            margin: 0;\n            padding: 20px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            min-height: 100vh;\n            background: #f5f5f5;\n          }\n          \n          .chest-card {\n            width: 148mm;\n            height: 105mm;\n            background: white;\n            border: 3px solid #667eea;\n            border-radius: 12px;\n            padding: 20px;\n            box-sizing: border-box;\n            display: flex;\n            flex-direction: column;\n            page-break-after: always;\n          }\n          \n          .header {\n            text-align: center;\n            border-bottom: 2px solid #667eea;\n            padding-bottom: 15px;\n            margin-bottom: 15px;\n          }\n          \n          .header h1 {\n            margin: 0 0 5px 0;\n            color: #2d3748;\n            font-size: 24px;\n          }\n          \n          .header h2 {\n            margin: 0;\n            color: #667eea;\n            font-size: 18px;\n            font-weight: normal;\n          }\n          \n          .chest-number-display {\n            text-align: center;\n            margin: 20px 0;\n          }\n          \n          .chest-number-large {\n            font-size: 72px;\n            font-weight: bold;\n            color: #667eea;\n            line-height: 1;\n            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);\n          }\n          \n          .participant-details {\n            flex: 1;\n          }\n          \n          .detail-row {\n            display: flex;\n            margin-bottom: 8px;\n            font-size: 14px;\n          }\n          \n          .detail-label {\n            font-weight: bold;\n            color: #4a5568;\n            width: 120px;\n            flex-shrink: 0;\n          }\n          \n          .detail-value {\n            color: #2d3748;\n          }\n          \n          .programs-section {\n            margin-top: 10px;\n            padding-top: 10px;\n            border-top: 1px solid #e2e8f0;\n          }\n          \n          .programs-title {\n            font-weight: bold;\n            color: #667eea;\n            margin-bottom: 8px;\n            font-size: 16px;\n          }\n          \n          .program-list {\n            list-style: none;\n            padding: 0;\n            margin: 0;\n          }\n          \n          .program-item {\n            padding: 6px 12px;\n            background: #f7fafc;\n            border-left: 3px solid #667eea;\n            margin-bottom: 6px;\n            font-size: 13px;\n          }\n          \n          .category-badge {\n            display: inline-block;\n            background: #667eea;\n            color: white;\n            padding: 4px 12px;\n            border-radius: 4px;\n            font-size: 12px;\n            font-weight: bold;\n          }\n          \n          .print-button {\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            padding: 12px 24px;\n            background: #667eea;\n            color: white;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            font-size: 16px;\n            font-weight: bold;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n          }\n          \n          .print-button:hover {\n            background: #5568d3;\n          }\n          \n          @media print {\n            .print-button {\n              display: none;\n            }\n          }\n        </style>\n      </head>\n      <body>\n        <button class="print-button" onclick="window.print()">\ud83d\udda8\ufe0f Print</button>\n        <div class="chest-card">\n          <div class="header">\n            <h1>Christ Soldiers</h1>\n            <h2>Talent Test 2026</h2>\n          </div>\n          \n          <div class="chest-number-display">\n            <div class="chest-number-large">').concat(e.chestNumber,'</div>\n          </div>\n          \n          <div class="participant-details">\n            <div class="detail-row">\n              <span class="detail-label">Name:</span>\n              <span class="detail-value">').concat(e.name,'</span>\n            </div>\n            <div class="detail-row">\n              <span class="detail-label">Age:</span>\n              <span class="detail-value">').concat(e.age,' years</span>\n            </div>\n            <div class="detail-row">\n              <span class="detail-label">Category:</span>\n              <span class="detail-value"><span class="category-badge">').concat(e.ageCategory,'</span></span>\n            </div>\n            <div class="detail-row">\n              <span class="detail-label">Section:</span>\n              <span class="detail-value">').concat(e.section||"-",'</span>\n            </div>\n            <div class="detail-row">\n              <span class="detail-label">Church:</span>\n              <span class="detail-value">').concat(e.churchName||"-",'</span>\n            </div>\n          </div>\n          \n          <div class="programs-section">\n            <div class="programs-title">Registered Programs:</div>\n            <ul class="program-list">\n              ').concat(t.split(", ").map(e=>'<li class="program-item">'.concat(e,"</li>")).join(""),"\n            </ul>\n          </div>\n        </div>\n      </body>\n      </html>\n    ");n.document.write(r),n.document.close()})(e),className:"btn-small btn-info",title:"Print Chest Number",children:"Print"}):(0,Lt.jsx)("span",{className:"no-chest-number",children:"Not Assigned"})})})]},e.id))})]})}):(0,Lt.jsx)("p",{className:"no-data",children:"Please select a category or event to view participants."})]})]})},Yt=()=>{var e,t,n,s;const[i,a]=(0,r.useState)("individual"),[o,l]=(0,r.useState)([]),[c]=(0,r.useState)(Ot.getEvents()),[u,h]=(0,r.useState)([]),[p,f]=(0,r.useState)([]),[m,g]=(0,r.useState)(null),[v,y]=(0,r.useState)(null),[b,w]=(0,r.useState)(null),[x,S]=(0,r.useState)(null),[E,N]=(0,r.useState)({criteria1:0,criteria2:0,criteria3:0,criteria4:0,criteria5:0,comments:""}),[k,C]=(0,r.useState)({score:0,comments:""}),[j,_]=(0,r.useState)(""),[T,I]=(0,r.useState)(""),[A,P]=(0,r.useState)([]),[R,D]=(0,r.useState)([]),[O,L]=(0,r.useState)([]),{user:M,logout:F}=Ft(),U=ke();(0,r.useEffect)(()=>{if(M&&"judge"===M.role){l(Ot.getParticipants()),P(Ot.getScores()),D(Ot.getJudgeLocks());const e=Ot.getData();h(e.groupEvents||[]),f(e.groupTeams||[]),L(e.groupEventLocks||[])}else U("/judge/login")},[M,U]);const V=(e,t)=>A.find(n=>n.participantId===e&&n.eventId===t&&n.judgeName===(null===M||void 0===M?void 0:M.username)),z=e=>{const{name:t,value:n}=e.target;N(d(d({},E),{},{[t]:"comments"===t?n:Math.min(10,Math.max(0,parseInt(n)||0))}))},B=e=>{const t=c.find(t=>t.id===parseInt(e));return t?t.name:"Unknown"},q=()=>{g(null),y(null),N({criteria1:0,criteria2:0,criteria3:0,criteria4:0,criteria5:0,comments:""})},G=()=>{w(null),S(null),C({score:0,comments:""})},H=(()=>{const e=[];o.forEach(t=>{if(!t.chestNumber)return;(t.eventIds?t.eventIds:t.eventId?[parseInt(t.eventId)]:[]).forEach(n=>{if(j&&parseInt(j)!==n)return;if(T&&t.ageCategory!==T)return;const r=V(t.id,n);e.push({participantId:t.id,participant:t,eventId:n,eventName:B(n),score:r,totalScore:r?r.totalScore:null})})}),e.sort((e,t)=>null===e.totalScore&&null===t.totalScore?0:null===e.totalScore?1:null===t.totalScore?-1:t.totalScore-e.totalScore);let t=0,n=null,r=0;return e.forEach((e,s)=>{null!==e.totalScore?(null===n||e.totalScore<n?(t=s+1,r=1,n=e.totalScore):r++,e.rank=t):e.rank=null}),e})(),W=()=>{const e=new Map;return H.forEach(t=>{const n="".concat(t.eventId,"-").concat(t.participant.ageCategory);if(!e.has(n)){const r=Ot.isScoreLocked(null===M||void 0===M?void 0:M.username,t.eventId,t.participant.ageCategory);e.set(n,{eventId:t.eventId,eventName:t.eventName,category:t.participant.ageCategory,isLocked:r})}}),Array.from(e.values())},K=e=>O.some(t=>t.judgeName===(null===M||void 0===M?void 0:M.username)&&t.groupEventId===e&&t.locked),J=e=>{const t=u.find(t=>t.id===e);if(t&&"quiz"===t.scoringType)return O.some(t=>t.groupEventId===e&&t.locked);return["judge1","judge2","judge3"].every(t=>O.some(n=>n.judgeName===t&&n.groupEventId===e&&n.locked))},Q=["Presentation / Performance Quality","Content / Creativity","Technical Skills","Stage Presence / Confidence","Overall Impact"];return(0,Lt.jsxs)("div",{className:"judge-dashboard",children:[(0,Lt.jsxs)("div",{className:"dashboard-header",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h1",{children:"Judge Dashboard"}),(0,Lt.jsxs)("p",{children:["Welcome, ",null===M||void 0===M?void 0:M.username]})]}),(0,Lt.jsx)("button",{onClick:()=>{F(),U("/judge/login")},className:"btn btn-secondary",children:"Logout"})]}),(0,Lt.jsxs)("div",{className:"view-mode-switcher",children:[(0,Lt.jsx)("button",{className:"mode-btn ".concat("individual"===i?"active":""),onClick:()=>a("individual"),children:"\ud83d\udccb Individual Events"}),(0,Lt.jsx)("button",{className:"mode-btn ".concat("group"===i?"active":""),onClick:()=>a("group"),children:"\ud83d\udc65 Group Events"})]}),"individual"===i&&(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsx)("h2",{children:"Participant List"}),(0,Lt.jsxs)("div",{className:"filter-section",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"filterEvent",children:"Filter by Event:"}),(0,Lt.jsxs)("select",{id:"filterEvent",value:j,onChange:e=>_(e.target.value),children:[(0,Lt.jsx)("option",{value:"",children:"All Events"}),c.map(e=>(0,Lt.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"filterCategory",children:"Filter by Category:"}),(0,Lt.jsxs)("select",{id:"filterCategory",value:T,onChange:e=>I(e.target.value),children:[(0,Lt.jsx)("option",{value:"",children:"All Categories"}),(0,Lt.jsx)("option",{value:"Junior",children:"Junior (6-10)"}),(0,Lt.jsx)("option",{value:"Intermediate",children:"Intermediate (11-15)"}),(0,Lt.jsx)("option",{value:"Senior",children:"Senior (16-20)"}),(0,Lt.jsx)("option",{value:"Super Senior",children:"Super Senior (21-25)"})]})]})]}),W().length>0&&(0,Lt.jsxs)("div",{className:"lock-status-section",children:[(0,Lt.jsx)("h3",{children:"Score Lock Status"}),(0,Lt.jsx)("div",{className:"lock-status-grid",children:W().map(e=>(0,Lt.jsxs)("div",{className:"lock-status-item",children:[(0,Lt.jsxs)("div",{className:"lock-info",children:[(0,Lt.jsx)("strong",{children:e.eventName}),(0,Lt.jsx)("span",{className:"category-label",children:e.category})]}),(0,Lt.jsxs)("div",{className:"lock-actions",children:[Ot.isResultDeclared(e.eventId,e.category)&&(0,Lt.jsx)("span",{className:"declared-badge",children:"\u2713 Declared"}),(0,Lt.jsx)("button",{onClick:()=>{return t=e.eventId,n=e.category,r=e.isLocked,void(Ot.isResultDeclared(t,n)?alert("Results have been declared for this event. Lock status cannot be changed."):r?window.confirm("Are you sure you want to unlock your scores for ".concat(B(t)," - ").concat(n,"? This will allow you to edit scores again."))&&(Ot.unlockScores(M.username,t,n),D(Ot.getJudgeLocks())):window.confirm("Are you sure you want to lock your scores for ".concat(B(t)," - ").concat(n,"? You can unlock them later if needed."))&&(Ot.lockScores(M.username,t,n),D(Ot.getJudgeLocks())));var t,n,r},className:"btn-lock ".concat(e.isLocked?"locked":"unlocked"),disabled:Ot.isResultDeclared(e.eventId,e.category),title:Ot.isResultDeclared(e.eventId,e.category)?"Cannot change lock status - Results have been declared":e.isLocked?"Click to unlock scores":"Click to lock scores",children:e.isLocked?"\ud83d\udd13 Unlock":"\ud83d\udd12 Lock"})]})]},"".concat(e.eventId,"-").concat(e.category)))})]}),0===H.length?(0,Lt.jsx)("p",{className:"no-data",children:j||T?0===o.length?"No participants found.":"No participants match the selected filters or no chest numbers have been assigned yet.":"Please select an event or category filter to view participants."}):(0,Lt.jsx)("div",{className:"table-container",children:(0,Lt.jsxs)("table",{className:"table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Chest No."}),(0,Lt.jsx)("th",{children:"Age"}),(0,Lt.jsx)("th",{children:"Category"}),(0,Lt.jsx)("th",{children:"Event"}),(0,Lt.jsx)("th",{children:"Your Score"}),(0,Lt.jsx)("th",{children:"Action"})]})}),(0,Lt.jsx)("tbody",{children:H.map((e,t)=>{const n=null!==e.score,r=e.rank&&e.rank<=3,s=r?"rank-".concat(e.rank):"",i=(a=e.eventId,o=e.participant.ageCategory,Ot.isScoreLocked(null===M||void 0===M?void 0:M.username,a,o));var a,o;return(0,Lt.jsxs)("tr",{className:s,children:[(0,Lt.jsx)("td",{children:e.participant.chestNumber?(0,Lt.jsx)("span",{className:"chest-number",children:e.participant.chestNumber}):(0,Lt.jsx)("span",{className:"no-chest-number",children:"-"})}),(0,Lt.jsx)("td",{children:e.participant.age}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("span",{className:"category-badge",children:e.participant.ageCategory})}),(0,Lt.jsxs)("td",{children:[e.eventName,i&&(0,Lt.jsx)("span",{className:"locked-indicator",title:"Scores locked",children:"\ud83d\udd12"})]}),(0,Lt.jsx)("td",{children:n?(0,Lt.jsxs)("div",{className:"score-with-rank",children:[(0,Lt.jsxs)("span",{className:"score-display scored",children:[e.totalScore,"/50"]}),r&&(0,Lt.jsxs)("span",{className:"rank-badge rank-".concat(e.rank),children:[1===e.rank?"\ud83e\udd47":2===e.rank?"\ud83e\udd48":"\ud83e\udd49"," #",e.rank]})]}):(0,Lt.jsx)("span",{className:"score-display not-scored",children:"Not Scored"})}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("button",{onClick:()=>((e,t)=>{if(Ot.isResultDeclared(t,e.ageCategory))return void alert("Results have been declared for this event. Scoring is no longer available.");g(e),y(t);const n=V(e.id,t);N(n?{criteria1:n.criteria1||0,criteria2:n.criteria2||0,criteria3:n.criteria3||0,criteria4:n.criteria4||0,criteria5:n.criteria5||0,comments:n.comments||""}:{criteria1:0,criteria2:0,criteria3:0,criteria4:0,criteria5:0,comments:""})})(e.participant,e.eventId),className:"btn-small btn-primary",disabled:i||Ot.isResultDeclared(e.eventId,e.participant.ageCategory),title:Ot.isResultDeclared(e.eventId,e.participant.ageCategory)?"Results have been declared - Scoring is no longer available":i?"Scores are locked for this event/category":n?"Click to update score":"Click to score participant",children:Ot.isResultDeclared(e.eventId,e.participant.ageCategory)?"Declared":n?"Update":"Score"})})]},"".concat(e.participantId,"-").concat(e.eventId,"-").concat(t))})})]})})]}),"individual"===i&&m&&v&&(0,Lt.jsx)("div",{className:"modal-overlay",onClick:q,children:(0,Lt.jsxs)("div",{className:"modal-content scoring-modal",onClick:e=>e.stopPropagation(),children:[(0,Lt.jsx)("button",{className:"modal-close-btn",onClick:q,children:"\xd7"}),(0,Lt.jsx)("h2",{children:"Score Participant"}),(0,Lt.jsxs)("div",{className:"participant-info",children:[(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Chest Number:"})," ",m.chestNumber||"Not Assigned"]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Age:"})," ",m.age," (",m.ageCategory,")"]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Event:"})," ",B(v)]})]}),(0,Lt.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!v)return void alert("Please select an event to score");const t=V(m.id,v),n=E.criteria1+E.criteria2+E.criteria3+E.criteria4+E.criteria5,r={participantId:m.id,eventId:v,judgeName:M.username,criteria1:E.criteria1,criteria2:E.criteria2,criteria3:E.criteria3,criteria4:E.criteria4,criteria5:E.criteria5,totalScore:n,comments:E.comments};t?(Ot.updateScore(m.id,v,M.username,r),alert("Score updated successfully!")):(Ot.addScore(r),alert("Score submitted successfully!")),P(Ot.getScores()),q()},className:"scoring-form",children:[(0,Lt.jsx)("p",{className:"scoring-instruction",children:"Rate each criterion from 0 to 10 points:"}),[1,2,3,4,5].map(e=>(0,Lt.jsxs)("div",{className:"score-group",children:[(0,Lt.jsx)("label",{htmlFor:"criteria".concat(e),children:Q[e-1]}),(0,Lt.jsxs)("div",{className:"score-input-container",children:[(0,Lt.jsx)("input",{type:"range",id:"criteria".concat(e),name:"criteria".concat(e),min:"0",max:"10",value:E["criteria".concat(e)],onChange:z,className:"score-slider"}),(0,Lt.jsx)("input",{type:"number",name:"criteria".concat(e),min:"0",max:"10",value:E["criteria".concat(e)],onChange:z,className:"score-number"})]})]},e)),(0,Lt.jsxs)("div",{className:"total-score",children:[(0,Lt.jsx)("strong",{children:"Total Score:"}),(0,Lt.jsxs)("span",{className:"score-value",children:[E.criteria1+E.criteria2+E.criteria3+E.criteria4+E.criteria5," / 50"]})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"comments",children:"Comments (Optional)"}),(0,Lt.jsx)("textarea",{id:"comments",name:"comments",value:E.comments,onChange:z,rows:"4",placeholder:"Add any additional comments or feedback..."})]}),(0,Lt.jsxs)("div",{className:"form-actions",children:[(0,Lt.jsx)("button",{type:"submit",className:"btn btn-success",children:"Submit Score"}),(0,Lt.jsx)("button",{type:"button",onClick:q,className:"btn btn-secondary",children:"Cancel"})]})]})]})}),"group"===i&&(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsx)("h2",{children:"Group Teams"}),(0,Lt.jsx)("div",{className:"group-events-list",children:u.map(e=>{const t=p.filter(t=>t.groupEventId===e.id);return(0,Lt.jsxs)("div",{className:"group-event-section",children:[(0,Lt.jsxs)("div",{className:"group-event-header",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h3",{children:e.name}),(0,Lt.jsx)("p",{className:"event-description",children:e.description})]}),(0,Lt.jsxs)("div",{className:"lock-controls",children:[(0,Lt.jsx)("button",{onClick:()=>((e,t)=>{const n=u.find(t=>t.id===e),r=(null===n||void 0===n?void 0:n.name)||"Unknown";if(Ot.isGroupResultDeclared(e))alert("Results have been declared for this event. Lock status cannot be changed.");else if(t){if(window.confirm("Are you sure you want to unlock your scores for ".concat(r,"? This will allow you to edit scores again."))){const t=Ot.getData();t.groupEventLocks||(t.groupEventLocks=[]),t.groupEventLocks=t.groupEventLocks.filter(t=>!(t.judgeName===M.username&&t.groupEventId===e)),Ot.saveData(t),L(t.groupEventLocks)}}else if(window.confirm("Are you sure you want to lock your scores for ".concat(r,"? You can unlock them later if needed."))){const t=Ot.getData();t.groupEventLocks||(t.groupEventLocks=[]),t.groupEventLocks.push({judgeName:M.username,groupEventId:e,locked:!0,lockedDate:(new Date).toISOString()}),Ot.saveData(t),L(t.groupEventLocks)}})(e.id,K(e.id)),className:"btn-lock ".concat(K(e.id)?"locked":"unlocked"),disabled:Ot.isGroupResultDeclared(e.id),title:Ot.isGroupResultDeclared(e.id)?"Cannot change lock status - Results have been declared":K(e.id)?"Click to unlock scores":"Click to lock scores",children:K(e.id)?"\ud83d\udd13 Unlock":"\ud83d\udd12 Lock"}),Ot.isGroupResultDeclared(e.id)&&(0,Lt.jsx)("span",{className:"declared-badge",children:"\u2713 Declared"}),J(e.id)&&(0,Lt.jsx)("span",{className:"fully-locked-badge",children:"quiz"===e.scoringType?"\u2713 Locked":"\u2713 All Judges Locked"})]})]}),0===t.length?(0,Lt.jsx)("p",{className:"no-teams",children:"No teams registered for this event yet."}):(0,Lt.jsxs)(Lt.Fragment,{children:[K(e.id)&&(0,Lt.jsx)("div",{className:"locked-notice",children:"\ud83d\udd12 This event is locked. Unlock to edit scores."}),(0,Lt.jsx)("div",{className:"teams-grid",children:t.map(t=>{var n,r;const s=null===(n=t.scores)||void 0===n?void 0:n.find(e=>e.judgeName===(null===M||void 0===M?void 0:M.username)),i=!!s,a=K(e.id);return(0,Lt.jsxs)("div",{className:"team-card ".concat(a?"locked":""),children:[(0,Lt.jsxs)("div",{className:"team-header",children:[(0,Lt.jsxs)("h4",{children:["Chest No: ",t.chestNumber]}),(0,Lt.jsx)("span",{className:"section-badge",children:null===(r=Ot.getSections().find(e=>e.id===t.sectionId))||void 0===r?void 0:r.name})]}),i?(0,Lt.jsxs)("div",{className:"scored-info",children:[(0,Lt.jsxs)("span",{className:"score-badge",children:["\u2713 Scored: ",s.score]}),s.comments&&(0,Lt.jsx)("p",{className:"score-comments",children:s.comments}),!a&&(0,Lt.jsx)("button",{onClick:()=>{Ot.isGroupResultDeclared(e.id)?alert("Results have been declared for this event. Scoring is no longer available."):(w(t),S(e.id),C({score:s.score,comments:s.comments}))},className:"btn btn-small btn-info",style:{marginTop:"10px"},disabled:Ot.isGroupResultDeclared(e.id),title:Ot.isGroupResultDeclared(e.id)?"Results have been declared - Scoring is no longer available":"Click to update team score",children:"Update Score"})]}):(0,Lt.jsx)("button",{onClick:()=>{Ot.isGroupResultDeclared(e.id)?alert("Results have been declared for this event. Scoring is no longer available."):(w(t),S(e.id),C({score:0,comments:""}))},className:"btn btn-primary",disabled:a||Ot.isGroupResultDeclared(e.id),title:Ot.isGroupResultDeclared(e.id)?"Results have been declared - Scoring is no longer available":a?"You have locked this event":"Click to score this team",children:a?"Locked":Ot.isGroupResultDeclared(e.id)?"Declared":"Score Team"})]},t.id)})})]})]},e.id)})})]}),b&&"group"===i&&(0,Lt.jsx)("div",{className:"modal-overlay",onClick:G,children:(0,Lt.jsxs)("div",{className:"modal-content scoring-modal",onClick:e=>e.stopPropagation(),children:[(0,Lt.jsx)("button",{className:"modal-close-btn",onClick:G,children:"\xd7"}),(0,Lt.jsxs)("h2",{children:["Score Team: ",b.teamName]}),(0,Lt.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=u.find(e=>e.id===x);if("quiz"===t.scoringType&&(k.score<0||k.score>t.questionsCount))return void alert("Score must be between 0 and ".concat(t.questionsCount));const n=Ot.getData(),r=n.groupTeams.findIndex(e=>e.id===b.id);if(-1!==r){n.groupTeams[r].scores||(n.groupTeams[r].scores=[]);const e=n.groupTeams[r].scores.findIndex(e=>e.judgeName===M.username),t={judgeName:M.username,score:parseFloat(k.score),comments:k.comments,timestamp:(new Date).toISOString()};-1!==e?n.groupTeams[r].scores[e]=t:n.groupTeams[r].scores.push(t),Ot.saveData(n),f(n.groupTeams),L(n.groupEventLocks||[]),G(),alert("Score submitted successfully!")}},children:[(0,Lt.jsxs)("div",{className:"scoring-info",children:[(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Chest Number:"})," ",b.chestNumber]}),(0,Lt.jsxs)("p",{children:[(0,Lt.jsx)("strong",{children:"Section:"})," ",null===(e=Ot.getSections().find(e=>e.id===b.sectionId))||void 0===e?void 0:e.name]})]}),"quiz"===(null===(t=u.find(e=>e.id===x))||void 0===t?void 0:t.scoringType)?(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsxs)("label",{children:["Correct Answers (out of ",null===(n=u.find(e=>e.id===x))||void 0===n?void 0:n.questionsCount,"):"]}),(0,Lt.jsx)("input",{type:"number",min:"0",max:null===(s=u.find(e=>e.id===x))||void 0===s?void 0:s.questionsCount,value:k.score,onChange:e=>C(t=>d(d({},t),{},{score:e.target.value})),required:!0}),(0,Lt.jsx)("small",{children:"Each correct answer = 1 mark"})]}):(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{children:"Overall Score (0-50):"}),(0,Lt.jsx)("input",{type:"number",min:"0",max:"50",step:"0.5",value:k.score,onChange:e=>C(t=>d(d({},t),{},{score:e.target.value})),required:!0})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{children:"Comments:"}),(0,Lt.jsx)("textarea",{value:k.comments,onChange:e=>C(t=>d(d({},t),{},{comments:e.target.value})),rows:"3"})]}),(0,Lt.jsxs)("div",{className:"form-actions",children:[(0,Lt.jsx)("button",{type:"submit",className:"btn btn-success",children:"Submit Score"}),(0,Lt.jsx)("button",{type:"button",onClick:G,className:"btn btn-secondary",children:"Cancel"})]})]})]})})]})},$t=()=>{const[e,t]=(0,r.useState)([]),[n]=(0,r.useState)(Ot.getEvents()),[s,i]=(0,r.useState)([]),[a,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[u,h]=(0,r.useState)({name:"",age:"",gender:"",email:"",phone:"",eventIds:[],churchName:"",section:""}),{user:p,logout:f}=Ft(),m=ke();(0,r.useEffect)(()=>{if(p&&"section"===p.role){h(e=>d(d({},e),{},{section:p.section}));const e=Ot.getChurchesBySection(p.section);i(e),g()}else m("/section/login")},[p,m]);const g=()=>{if(p&&p.section){const e=Ot.getParticipantsBySection(p.section);t(e)}},v=e=>{const{name:t,value:r,type:s,checked:i}=e.target;if("checkbox"===s&&"eventIds"===t){const e=parseInt(r),t=i?[...u.eventIds,e]:u.eventIds.filter(t=>t!==e);return void h(d(d({},u),{},{eventIds:t}))}const a=d(d({},u),{},{[t]:r});if("gender"===t){const e=u.eventIds.filter(e=>{const t=n.find(t=>t.id===e);return!!t&&("Solo Music (Male)"===t.name?"Male"===r:"Solo Music (Female)"!==t.name||"Female"===r)});a.eventIds=e}h(a)},y=()=>{h({name:"",age:"",gender:"",email:"",phone:"",eventIds:[],churchName:"",section:p.section}),o(!1),c(null)},b=e=>(e.eventIds?e.eventIds:e.eventId?[parseInt(e.eventId)]:[]).map(e=>{const t=n.find(t=>t.id===e);return t?t.name:"Unknown"}).join(", "),w={total:e.length,junior:e.filter(e=>"Junior"===e.ageCategory).length,intermediate:e.filter(e=>"Intermediate"===e.ageCategory).length,senior:e.filter(e=>"Senior"===e.ageCategory).length,superSenior:e.filter(e=>"Super Senior"===e.ageCategory).length};return(0,Lt.jsxs)("div",{className:"admin-dashboard",children:[(0,Lt.jsxs)("div",{className:"dashboard-header",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsxs)("h1",{children:[null===p||void 0===p?void 0:p.section," Section Dashboard"]}),(0,Lt.jsxs)("p",{children:["Welcome, ",null===p||void 0===p?void 0:p.username]})]}),(0,Lt.jsx)("button",{onClick:()=>{f(),m("/section/login")},className:"btn btn-secondary",children:"Logout"})]}),(0,Lt.jsxs)("div",{className:"stats-grid",children:[(0,Lt.jsxs)("div",{className:"stat-card",children:[(0,Lt.jsx)("h3",{children:"Total Participants"}),(0,Lt.jsx)("p",{className:"stat-number",children:w.total})]}),(0,Lt.jsxs)("div",{className:"stat-card",children:[(0,Lt.jsx)("h3",{children:"Junior (6-10)"}),(0,Lt.jsx)("p",{className:"stat-number",children:w.junior})]}),(0,Lt.jsxs)("div",{className:"stat-card",children:[(0,Lt.jsx)("h3",{children:"Intermediate (11-15)"}),(0,Lt.jsx)("p",{className:"stat-number",children:w.intermediate})]}),(0,Lt.jsxs)("div",{className:"stat-card",children:[(0,Lt.jsx)("h3",{children:"Senior (16-20)"}),(0,Lt.jsx)("p",{className:"stat-number",children:w.senior})]}),(0,Lt.jsxs)("div",{className:"stat-card",children:[(0,Lt.jsx)("h3",{children:"Super Senior (21-25)"}),(0,Lt.jsx)("p",{className:"stat-number",children:w.superSenior})]})]}),(0,Lt.jsx)("div",{className:"dashboard-actions",children:(0,Lt.jsx)("button",{onClick:()=>o(!a),className:"btn btn-primary",children:a?"Cancel":"Add New Participant"})}),a&&(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsx)("h2",{children:l?"Edit Participant":"Add New Participant"}),(0,Lt.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=parseInt(u.age),n=Ot.getAgeCategory(t);if(!n)return void alert("Age must be between 6 and 25 years");if(0===u.eventIds.length)return void alert("Please select at least one event");const r=d(d({},u),{},{age:t,ageCategory:n,section:p.section});l?(Ot.updateParticipant(l.id,r),c(null)):Ot.addParticipant(r),y(),g()},className:"participant-form",children:[(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,Lt.jsx)("input",{type:"text",id:"name",name:"name",value:u.name,onChange:v,required:!0})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"age",children:"Age *"}),(0,Lt.jsx)("input",{type:"number",id:"age",name:"age",value:u.age,onChange:v,min:"6",max:"25",required:!0})]})]}),(0,Lt.jsx)("div",{className:"form-row",children:(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"gender",children:"Gender *"}),(0,Lt.jsxs)("select",{id:"gender",name:"gender",value:u.gender,onChange:v,required:!0,children:[(0,Lt.jsx)("option",{value:"",children:"Select Gender"}),(0,Lt.jsx)("option",{value:"Male",children:"Male"}),(0,Lt.jsx)("option",{value:"Female",children:"Female"})]})]})}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{children:"Events * (Select one or more)"}),(0,Lt.jsx)("div",{className:"checkbox-group",children:n.map(e=>{const t="Solo Music (Male)"===e.name&&"Male"!==u.gender||"Solo Music (Female)"===e.name&&"Female"!==u.gender;return(0,Lt.jsxs)("label",{className:"checkbox-label ".concat(t?"disabled":""),title:t?"Select appropriate gender first":"",children:[(0,Lt.jsx)("input",{type:"checkbox",name:"eventIds",value:e.id,checked:u.eventIds.includes(e.id),onChange:v,disabled:t}),e.name]},e.id)})})]}),(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Lt.jsx)("input",{type:"email",id:"email",name:"email",value:u.email,onChange:v})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"phone",children:"Phone"}),(0,Lt.jsx)("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:v})]})]}),(0,Lt.jsx)("div",{className:"form-row",children:(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"churchName",children:"Church Name *"}),(0,Lt.jsxs)("select",{id:"churchName",name:"churchName",value:u.churchName,onChange:v,required:!0,children:[(0,Lt.jsx)("option",{value:"",children:"Select Church"}),s.map((e,t)=>(0,Lt.jsx)("option",{value:e,children:e},t))]})]})}),(0,Lt.jsxs)("div",{className:"form-actions",children:[(0,Lt.jsx)("button",{type:"submit",className:"btn btn-primary",children:l?"Update Participant":"Add Participant"}),(0,Lt.jsx)("button",{type:"button",onClick:y,className:"btn btn-secondary",children:"Cancel"})]})]})]}),(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsxs)("h2",{children:["Registered Participants from ",null===p||void 0===p?void 0:p.section]}),0===e.length?(0,Lt.jsx)("p",{className:"no-data",children:"No participants registered yet."}):(0,Lt.jsx)("div",{className:"table-container",children:(0,Lt.jsxs)("table",{className:"table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Chest No."}),(0,Lt.jsx)("th",{children:"Name"}),(0,Lt.jsx)("th",{children:"Age"}),(0,Lt.jsx)("th",{children:"Category"}),(0,Lt.jsx)("th",{children:"Church"}),(0,Lt.jsx)("th",{children:"Gender"}),(0,Lt.jsx)("th",{children:"Events"}),(0,Lt.jsx)("th",{children:"Contact"}),(0,Lt.jsx)("th",{children:"Actions"})]})}),(0,Lt.jsx)("tbody",{children:e.map(e=>(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:e.chestNumber?(0,Lt.jsx)("span",{className:"chest-number",children:e.chestNumber}):(0,Lt.jsx)("span",{className:"no-chest-number",children:"-"})}),(0,Lt.jsx)("td",{children:e.name}),(0,Lt.jsx)("td",{children:e.age}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("span",{className:"category-badge",children:e.ageCategory})}),(0,Lt.jsx)("td",{children:e.churchName}),(0,Lt.jsx)("td",{children:e.gender}),(0,Lt.jsx)("td",{children:b(e)}),(0,Lt.jsxs)("td",{children:[e.email&&(0,Lt.jsx)("div",{children:e.email}),e.phone&&(0,Lt.jsx)("div",{children:e.phone})]}),(0,Lt.jsx)("td",{children:(0,Lt.jsxs)("div",{className:"action-buttons",children:[e.chestNumber&&(0,Lt.jsx)("button",{onClick:()=>(e=>{if(!e.chestNumber)return void alert("Please contact admin to assign a chest number first!");const t=b(e),n=window.open("","_blank"),r="\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Chest Number - ".concat(e.chestNumber,'</title>\n        <style>\n          @media print {\n            @page {\n              size: A6 landscape;\n              margin: 0;\n            }\n            body {\n              margin: 0;\n              padding: 0;\n            }\n          }\n          \n          body {\n            font-family: Arial, sans-serif;\n            margin: 0;\n            padding: 20px;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            min-height: 100vh;\n            background: #f5f5f5;\n          }\n          \n          .chest-card {\n            width: 148mm;\n            height: 105mm;\n            background: white;\n            border: 3px solid #667eea;\n            border-radius: 12px;\n            padding: 20px;\n            box-sizing: border-box;\n            display: flex;\n            flex-direction: column;\n            page-break-after: always;\n          }\n          \n          .header {\n            text-align: center;\n            border-bottom: 2px solid #667eea;\n            padding-bottom: 15px;\n            margin-bottom: 15px;\n          }\n          \n          .header h1 {\n            margin: 0 0 5px 0;\n            color: #2d3748;\n            font-size: 24px;\n          }\n          \n          .header h2 {\n            margin: 0;\n            color: #667eea;\n            font-size: 18px;\n            font-weight: normal;\n          }\n          \n          .chest-number-display {\n            text-align: center;\n            margin: 20px 0;\n          }\n          \n          .chest-number-large {\n            font-size: 72px;\n            font-weight: bold;\n            color: #667eea;\n            line-height: 1;\n            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);\n          }\n          \n          .participant-details {\n            flex: 1;\n          }\n          \n          .detail-row {\n            display: flex;\n            margin-bottom: 8px;\n            font-size: 14px;\n          }\n          \n          .detail-label {\n            font-weight: bold;\n            color: #4a5568;\n            width: 120px;\n            flex-shrink: 0;\n          }\n          \n          .detail-value {\n            color: #2d3748;\n          }\n          \n          .programs-section {\n            margin-top: 10px;\n            padding-top: 10px;\n            border-top: 1px solid #e2e8f0;\n          }\n          \n          .programs-title {\n            font-weight: bold;\n            color: #667eea;\n            margin-bottom: 8px;\n            font-size: 16px;\n          }\n          \n          .program-list {\n            list-style: none;\n            padding: 0;\n            margin: 0;\n          }\n          \n          .program-item {\n            padding: 6px 12px;\n            background: #f7fafc;\n            border-left: 3px solid #667eea;\n            margin-bottom: 6px;\n            font-size: 13px;\n          }\n          \n          .category-badge {\n            display: inline-block;\n            background: #667eea;\n            color: white;\n            padding: 4px 12px;\n            border-radius: 4px;\n            font-size: 12px;\n            font-weight: bold;\n          }\n          \n          .print-button {\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            padding: 12px 24px;\n            background: #667eea;\n            color: white;\n            border: none;\n            border-radius: 6px;\n            cursor: pointer;\n            font-size: 16px;\n            font-weight: bold;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n          }\n          \n          .print-button:hover {\n            background: #5568d3;\n          }\n          \n          @media print {\n            .print-button {\n              display: none;\n            }\n          }\n        </style>\n      </head>\n      <body>\n        <button class="print-button" onclick="window.print()">\ud83d\udda8\ufe0f Print</button>\n        <div class="chest-card">\n          <div class="header">\n            <h1>Christ Soldiers</h1>\n            <h2>Talent Test 2026</h2>\n          </div>\n          \n          <div class="chest-number-display">\n            <div class="chest-number-large">').concat(e.chestNumber,'</div>\n          </div>\n          \n          <div class="participant-details">\n            <div class="detail-row">\n              <span class="detail-label">Name:</span>\n              <span class="detail-value">').concat(e.name,'</span>\n            </div>\n            <div class="detail-row">\n              <span class="detail-label">Age:</span>\n              <span class="detail-value">').concat(e.age,' years</span>\n            </div>\n            <div class="detail-row">\n              <span class="detail-label">Category:</span>\n              <span class="detail-value"><span class="category-badge">').concat(e.ageCategory,'</span></span>\n            </div>\n            <div class="detail-row">\n              <span class="detail-label">Section:</span>\n              <span class="detail-value">').concat(e.section||"-",'</span>\n            </div>\n            <div class="detail-row">\n              <span class="detail-label">Church:</span>\n              <span class="detail-value">').concat(e.churchName||"-",'</span>\n            </div>\n          </div>\n          \n          <div class="programs-section">\n            <div class="programs-title">Registered Programs:</div>\n            <ul class="program-list">\n              ').concat(t.split(", ").map(e=>'<li class="program-item">'.concat(e,"</li>")).join(""),"\n            </ul>\n          </div>\n        </div>\n      </body>\n      </html>\n    ");n.document.write(r),n.document.close()})(e),className:"btn-small btn-info",title:"Print Chest Number",children:"Print"}),(0,Lt.jsx)("button",{onClick:()=>(e=>{c(e);const t=e.eventIds?e.eventIds:e.eventId?[parseInt(e.eventId)]:[];h({name:e.name,age:e.age.toString(),gender:e.gender,email:e.email,phone:e.phone,eventIds:t,churchName:e.churchName,section:p.section}),o(!0)})(e),className:"btn-small btn-primary",children:"Edit"}),(0,Lt.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this participant?")&&(Ot.deleteParticipant(t),g()));var t},className:"btn-small btn-danger",children:"Delete"})]})})]},e.id))})]})})]})]})},Xt=()=>{const[e,t]=(0,r.useState)([]),[n]=(0,r.useState)(Ot.getEvents()),[s,i]=(0,r.useState)([]),[a,o]=(0,r.useState)({individual:{first:5,second:3,third:1},group:{first:10,second:5,third:3}}),[l,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),[h,p]=(0,r.useState)([]),{user:f,logout:m}=Ft(),g=ke();(0,r.useEffect)(()=>{if(f&&"admin"===f.role){t(Ot.getParticipants()),i(Ot.getScores()),p(Ot.getDeclaredResults());const e=Ot.getData();o(e.pointsConfig||{individual:{first:5,second:3,third:1},group:{first:10,second:5,third:3}})}else g("/admin/login")},[f,g]);const v=(()=>{if(!l||!u)return[];const t=parseInt(l);if(!Ot.areAllJudgesLocked(t,u))return null;const n=e.filter(e=>(e.eventIds||(e.eventId?[parseInt(e.eventId)]:[])).includes(t)&&e.ageCategory===u).map(e=>{const n=s.filter(n=>n.participantId===e.id&&n.eventId===t).map(e=>({judgeName:e.judgeName,totalScore:e.totalScore,criteria1:e.criteria1,criteria2:e.criteria2,criteria3:e.criteria3,criteria4:e.criteria4,criteria5:e.criteria5,comments:e.comments})),r=n.reduce((e,t)=>e+t.totalScore,0),i=n.length>0?r/n.length:0;return{participant:e,judgeScores:n,totalScore:r,averageScore:i}});return n.sort((e,t)=>t.averageScore-e.averageScore),n.forEach((e,t)=>{e.rank=t+1,1===e.rank?e.points=a.individual.first:2===e.rank?e.points=a.individual.second:3===e.rank?e.points=a.individual.third:e.points=0}),n})(),y=!(!l||!u)&&Ot.areAllJudgesLocked(parseInt(l),u),b=Ot.getData().judgeCredentials;return(0,r.useEffect)(()=>{var e;v&&v.length>0&&(console.log("Results:",v),console.log("Judge Credentials:",b),console.log("Sample result judgeScores:",null===(e=v[0])||void 0===e?void 0:e.judgeScores))},[v]),(0,Lt.jsxs)("div",{className:"results-view",children:[(0,Lt.jsxs)("div",{className:"dashboard-header",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h1",{children:"Results View"}),(0,Lt.jsxs)("p",{children:["Admin: ",null===f||void 0===f?void 0:f.username]})]}),(0,Lt.jsxs)("div",{className:"header-actions",children:[(0,Lt.jsx)("button",{onClick:()=>{g("/admin/dashboard")},className:"btn btn-secondary",children:"Back to Dashboard"}),(0,Lt.jsx)("button",{onClick:()=>{m(),g("/admin/login")},className:"btn btn-secondary",children:"Logout"})]})]}),(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsxs)("div",{className:"results-view-header",children:[(0,Lt.jsx)("h2",{children:"View Competition Results"}),(0,Lt.jsxs)("div",{className:"bulk-actions",children:[(0,Lt.jsx)("button",{onClick:()=>{if(!window.confirm("Declare all locked results? This will publish all events and categories where all judges have locked their scores."))return;const e=Ot.declareAllResults();p(Ot.getDeclaredResults()),alert(e.message)},className:"btn btn-success",title:"Declare all locked results at once",children:"\ud83d\udce2 Declare All Results"}),(0,Lt.jsx)("button",{onClick:()=>{if(!window.confirm("Revert ALL declared results? This will unpublish all individual event results. This action cannot be undone."))return;const e=Ot.revertAllDeclarations();p(Ot.getDeclaredResults()),alert(e.message)},className:"btn btn-warning",title:"Revert all declared results at once",children:"\u21a9\ufe0f Revert All Declarations"})]})]}),(0,Lt.jsxs)("div",{className:"filter-section",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"selectedEvent",children:"Select Event:"}),(0,Lt.jsxs)("select",{id:"selectedEvent",value:l,onChange:e=>c(e.target.value),children:[(0,Lt.jsx)("option",{value:"",children:"-- Choose Event --"}),n.map(e=>(0,Lt.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"selectedCategory",children:"Select Category:"}),(0,Lt.jsxs)("select",{id:"selectedCategory",value:u,onChange:e=>d(e.target.value),children:[(0,Lt.jsx)("option",{value:"",children:"-- Choose Category --"}),(0,Lt.jsx)("option",{value:"Junior",children:"Junior (6-10)"}),(0,Lt.jsx)("option",{value:"Intermediate",children:"Intermediate (11-15)"}),(0,Lt.jsx)("option",{value:"Senior",children:"Senior (16-20)"}),(0,Lt.jsx)("option",{value:"Super Senior",children:"Super Senior (21-25)"})]})]})]}),l&&u&&!y&&(0,Lt.jsxs)("div",{className:"warning-message",children:[(0,Lt.jsx)("p",{children:"\u26a0\ufe0f Results are not available yet. Not all judges have locked their scores for this event and category."}),(0,Lt.jsx)("p",{children:"Please ensure all judges complete and lock their scoring before viewing results."})]}),l&&u&&y&&v&&v.length>0&&(0,Lt.jsxs)("div",{className:"results-container",children:[(0,Lt.jsxs)("div",{className:"results-header",children:[(0,Lt.jsxs)("h3",{children:["Results: ",(e=>{const t=n.find(t=>t.id===parseInt(e));return t?t.name:"Unknown"})(parseInt(l))," - ",u]}),(0,Lt.jsx)("div",{className:"declaration-controls",children:l&&u&&Ot.isResultDeclared(parseInt(l),u)?(0,Lt.jsxs)("div",{className:"declaration-status",children:[(0,Lt.jsx)("span",{className:"status-badge declared",children:"\u2713 Result Declared"}),(0,Lt.jsx)("button",{onClick:()=>{if(!l||!u)return;const e=Ot.revertDeclaration(parseInt(l),u);e.success?(p(Ot.getDeclaredResults()),alert(e.message)):alert(e.message)},className:"btn btn-warning",children:"Revert Declaration"})]}):(0,Lt.jsxs)("div",{className:"declaration-status",children:[(0,Lt.jsx)("span",{className:"status-badge not-declared",children:"\u26a0 Not Declared"}),(0,Lt.jsx)("button",{onClick:()=>{if(!l||!u)return;const e=Ot.declareResult(parseInt(l),u);e.success?(p(Ot.getDeclaredResults()),alert(e.message)):alert(e.message)},className:"btn btn-success",children:"Declare Result"})]})})]}),(0,Lt.jsx)("div",{className:"podium",children:v.slice(0,3).map((e,t)=>(0,Lt.jsxs)("div",{className:"podium-place place-".concat(t+1),children:[(0,Lt.jsx)("div",{className:"podium-medal",children:0===t?"\ud83e\udd47":1===t?"\ud83e\udd48":"\ud83e\udd49"}),(0,Lt.jsxs)("div",{className:"podium-rank",children:["#",t+1]}),(0,Lt.jsx)("div",{className:"podium-chest",children:e.participant.chestNumber||"N/A"}),(0,Lt.jsx)("div",{className:"podium-name",children:e.participant.name}),(0,Lt.jsx)("div",{className:"podium-score",children:e.averageScore.toFixed(2)}),(0,Lt.jsxs)("div",{className:"podium-points",children:[e.points," pts"]})]},e.participant.id))}),(0,Lt.jsx)("div",{className:"table-container",children:(0,Lt.jsxs)("table",{className:"table results-table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Rank"}),(0,Lt.jsx)("th",{children:"Chest No."}),(0,Lt.jsx)("th",{children:"Name"}),(0,Lt.jsx)("th",{children:"Age"}),b&&b.map(e=>(0,Lt.jsx)("th",{children:e.username},e.username)),(0,Lt.jsx)("th",{children:"Total"}),(0,Lt.jsx)("th",{children:"Average"}),(0,Lt.jsx)("th",{children:"Points"})]})}),(0,Lt.jsx)("tbody",{children:v&&v.map(e=>{var t;const n=e.rank<=3;return(0,Lt.jsxs)("tr",{className:n?"rank-".concat(e.rank):"",children:[(0,Lt.jsxs)("td",{children:[(0,Lt.jsxs)("strong",{children:["#",e.rank]}),n&&(0,Lt.jsx)("span",{className:"medal-small",children:1===e.rank?"\ud83e\udd47":2===e.rank?"\ud83e\udd48":"\ud83e\udd49"})]}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("span",{className:"chest-number",children:e.participant.chestNumber||"N/A"})}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{children:e.participant.name})}),(0,Lt.jsx)("td",{children:e.participant.age}),b&&b.map(t=>{var n;const r=null===(n=e.judgeScores)||void 0===n?void 0:n.find(e=>e.judgeName===t.username);return(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{children:r?r.totalScore:"-"})},t.username)}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{children:e.totalScore||0})}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{className:"average-score",children:(null===(t=e.averageScore)||void 0===t?void 0:t.toFixed(2))||"0.00"})}),(0,Lt.jsx)("td",{children:e.points>0?(0,Lt.jsxs)("strong",{className:"points-badge",children:[e.points," pts"]}):(0,Lt.jsx)("span",{className:"no-points",children:"-"})})]},e.participant.id)})})]})})]}),l&&u&&y&&v&&0===v.length&&(0,Lt.jsx)("p",{className:"no-data",children:"No participants found for this event and category."})]})]})},Zt=()=>{const[e,t]=(0,r.useState)([]),[n]=(0,r.useState)(Ot.getEvents()),[s]=(0,r.useState)(Ot.getSections()),[i,a]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)([]),[h,p]=(0,r.useState)({individual:{first:5,second:3,third:1},group:{first:10,second:5,third:3}}),[f,m]=(0,r.useState)([]),[g,v]=(0,r.useState)([]),[y,b]=(0,r.useState)([]),[w,x]=(0,r.useState)(!1),{user:S,logout:E}=Ft(),N=ke();(0,r.useEffect)(()=>{if(S&&"admin"===S.role){t(Ot.getParticipants()),a(Ot.getScores());const e=Ot.getData();l(e.groupTeams||[]),u(e.groupEvents||[]),x(e.championsDeclared||!1),p(e.pointsConfig||{individual:{first:5,second:3,third:1},group:{first:10,second:5,third:3}})}else N("/admin/login")},[S,N]),(0,r.useEffect)(()=>{e.length>0&&i.length>0&&k()},[e,i,o]);const k=()=>{const t=Ot.getDeclaredResults(),r={};e.forEach(s=>{(s.eventIds||(s.eventId?[parseInt(s.eventId)]:[])).forEach(a=>{const o=s.ageCategory;if(!t.some(e=>e.eventId===a&&e.category===o))return;if(!Ot.areAllJudgesLocked(a,o))return;const l=e.filter(e=>(e.eventIds||(e.eventId?[parseInt(e.eventId)]:[])).includes(a)&&e.ageCategory===o).map(e=>{const t=i.filter(t=>t.participantId===e.id&&t.eventId===a).map(e=>e.totalScore),n=t.reduce((e,t)=>e+t,0),r=t.length>0?n/t.length:0;return{participantId:e.id,averageScore:r}});l.sort((e,t)=>t.averageScore-e.averageScore),l.forEach((e,t)=>{if(e.participantId===s.id){const e=t+1;let i=0;1===e?i=h.individual.first:2===e?i=h.individual.second:3===e&&(i=h.individual.third),r[s.id]||(r[s.id]={participant:s,totalPoints:0,eventResults:[]}),r[s.id].totalPoints+=i;const o=n.find(e=>e.id===a);o&&e<=3&&r[s.id].eventResults.push({eventName:o.name,rank:e,position:1===e?"1st":2===e?"2nd":"3rd"})}})})});const a={};s.forEach(e=>{a[e.name]={section:e.name,totalPoints:0,participantCount:0,groupPoints:0}}),Object.values(r).forEach(e=>{let{participant:t,totalPoints:n}=e;t.section&&a[t.section]&&(a[t.section].totalPoints+=n,a[t.section].participantCount+=1)});const l=Ot.getData(),u=l.groupEventLocks||[];c.forEach(e=>{if(!t.some(t=>t.groupEventId===e.id))return;if(!(l.judgeCredentials||[]).every(t=>u.some(n=>n.judgeName===t.username&&n.groupEventId===e.id&&n.locked)))return;const n=o.filter(t=>t.groupEventId===e.id).map(t=>{const n=t.scores||[];let r=0,s=0;if("quiz"===e.scoringType){const e=n.find(e=>void 0!==e.score);r=e?parseFloat(e.score):0,s=e?1:0}else n.forEach(e=>{r+=parseFloat(e.score),s++});const i=s>0?"quiz"===e.scoringType?r:r/s:0;return{teamId:t.id,sectionId:t.sectionId,averageScore:i}});n.sort((e,t)=>t.averageScore-e.averageScore),n.forEach((e,t)=>{const n=t+1;let r=0;1===n?r=h.group.first:2===n?r=h.group.second:3===n&&(r=h.group.third);const i=s.find(t=>t.id===e.sectionId);i&&a[i.name]&&(a[i.name].groupPoints+=r,a[i.name].totalPoints+=r)})});const p=Object.values(a).filter(e=>e.participantCount>0||e.groupPoints>0).sort((e,t)=>t.totalPoints-e.totalPoints).map((e,t)=>d(d({},e),{},{rank:t+1}));m(p);const f={};Object.values(r).forEach(e=>{let{participant:t,totalPoints:n}=e;t.churchName&&(f[t.churchName]||(f[t.churchName]={church:t.churchName,section:t.section,totalPoints:0,participantCount:0}),f[t.churchName].totalPoints+=n,f[t.churchName].participantCount+=1)});const g=Object.values(f).sort((e,t)=>t.totalPoints-e.totalPoints).map((e,t)=>d(d({},e),{},{rank:t+1}));v(g);const y=Object.values(r).sort((e,t)=>t.totalPoints-e.totalPoints).map((e,t)=>d(d({},e),{},{rank:t+1}));b(y)};return(0,Lt.jsxs)("div",{className:"leaderboard-view",children:[(0,Lt.jsxs)("div",{className:"dashboard-header",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h1",{children:"\ud83c\udfc6 Leaderboard"}),(0,Lt.jsxs)("p",{children:["Admin: ",null===S||void 0===S?void 0:S.username]})]}),(0,Lt.jsxs)("div",{className:"header-actions",children:[(0,Lt.jsx)("button",{onClick:()=>{N("/admin/dashboard")},className:"btn btn-secondary",children:"Back to Dashboard"}),(0,Lt.jsx)("button",{onClick:()=>{E(),N("/admin/login")},className:"btn btn-secondary",children:"Logout"})]})]}),(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsxs)("div",{className:"leaderboard-header",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h2",{children:"\ud83d\udccd Section Leaderboard"}),(0,Lt.jsx)("p",{className:"leaderboard-description",children:"Rankings based on total points earned by all participants from each section"})]}),f.length>=3&&(0,Lt.jsx)("div",{className:"champions-controls",children:w?(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("span",{className:"champions-badge declared",children:"\u2713 Champions Declared"}),(0,Lt.jsx)("button",{onClick:()=>{if(window.confirm("Revert Champions Declaration?\n\nThis will unpublish the final champions. Are you sure?")){const e=Ot.getData();e.championsDeclared=!1,delete e.finalChampions,Ot.saveData(e),x(!1),alert("Champions declaration reverted.")}},className:"btn btn-warning",children:"Revert Declaration"})]}):(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsx)("span",{className:"champions-badge not-declared",children:"\u26a0 Not Declared"}),(0,Lt.jsx)("button",{onClick:()=>{if(f.length<3)return void alert("Not enough sections to declare champions. Need at least 3 sections with points.");const e=f.slice(0,3),t="Declare Final Champions?\n\n\ud83e\udd47 Champion: ".concat(e[0].section," (").concat(e[0].totalPoints," pts)\n\ud83e\udd48 Runner-up: ").concat(e[1].section," (").concat(e[1].totalPoints," pts)\n\ud83e\udd49 Second Runner-up: ").concat(e[2].section," (").concat(e[2].totalPoints," pts)\n\nThis will finalize the competition results.");if(window.confirm(t)){const t=Ot.getData();t.championsDeclared=!0,t.finalChampions={champion:e[0],runnerUp:e[1],secondRunnerUp:e[2],declaredAt:(new Date).toISOString(),declaredBy:(null===S||void 0===S?void 0:S.username)||"admin"},Ot.saveData(t),x(!0),alert("Champions declared successfully! \ud83c\udf89")}},className:"btn btn-success",children:"\ud83c\udfc6 Declare Final Champions"})]})})]}),0===f.length?(0,Lt.jsx)("p",{className:"no-data",children:"No data available yet. Results will appear once judges complete scoring and lock their scores."}):(0,Lt.jsx)("div",{className:"table-container",children:(0,Lt.jsxs)("table",{className:"table leaderboard-table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Rank"}),(0,Lt.jsx)("th",{children:"Section"}),(0,Lt.jsx)("th",{children:"Individual Points"}),(0,Lt.jsx)("th",{children:"Group Points"}),(0,Lt.jsx)("th",{children:"Total Points"}),(0,Lt.jsx)("th",{children:"Participants"})]})}),(0,Lt.jsx)("tbody",{children:f.map(e=>(0,Lt.jsxs)("tr",{className:e.rank<=3?"rank-".concat(e.rank):"",children:[(0,Lt.jsxs)("td",{children:[(0,Lt.jsxs)("strong",{className:"rank-number",children:["#",e.rank]}),1===e.rank&&(0,Lt.jsx)("span",{className:"medal",children:"\ud83e\udd47"}),2===e.rank&&(0,Lt.jsx)("span",{className:"medal",children:"\ud83e\udd48"}),3===e.rank&&(0,Lt.jsx)("span",{className:"medal",children:"\ud83e\udd49"})]}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{className:"section-name",children:e.section})}),(0,Lt.jsx)("td",{children:(0,Lt.jsxs)("span",{className:"points-badge-sm",children:[e.totalPoints-e.groupPoints," pts"]})}),(0,Lt.jsx)("td",{children:(0,Lt.jsxs)("span",{className:"points-badge-sm group-points",children:[e.groupPoints||0," pts"]})}),(0,Lt.jsx)("td",{children:(0,Lt.jsxs)("span",{className:"points-badge-lg",children:[e.totalPoints," pts"]})}),(0,Lt.jsx)("td",{children:e.participantCount})]},e.section))})]})})]}),(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsx)("h2",{children:"\u26ea Local Church Leaderboard"}),(0,Lt.jsx)("p",{className:"leaderboard-description",children:"Rankings based on total points earned by all participants from each local church"}),0===g.length?(0,Lt.jsx)("p",{className:"no-data",children:"No data available yet. Results will appear once judges complete scoring and lock their scores."}):(0,Lt.jsx)("div",{className:"table-container",children:(0,Lt.jsxs)("table",{className:"table leaderboard-table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Rank"}),(0,Lt.jsx)("th",{children:"Church Name"}),(0,Lt.jsx)("th",{children:"Section"}),(0,Lt.jsx)("th",{children:"Total Points"}),(0,Lt.jsx)("th",{children:"Participants"})]})}),(0,Lt.jsx)("tbody",{children:g.map(e=>(0,Lt.jsxs)("tr",{className:e.rank<=3?"rank-".concat(e.rank):"",children:[(0,Lt.jsxs)("td",{children:[(0,Lt.jsxs)("strong",{className:"rank-number",children:["#",e.rank]}),1===e.rank&&(0,Lt.jsx)("span",{className:"medal",children:"\ud83e\udd47"}),2===e.rank&&(0,Lt.jsx)("span",{className:"medal",children:"\ud83e\udd48"}),3===e.rank&&(0,Lt.jsx)("span",{className:"medal",children:"\ud83e\udd49"})]}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{className:"church-name",children:e.church})}),(0,Lt.jsx)("td",{children:e.section}),(0,Lt.jsx)("td",{children:(0,Lt.jsxs)("span",{className:"points-badge-lg",children:[e.totalPoints," pts"]})}),(0,Lt.jsx)("td",{children:e.participantCount})]},e.church))})]})})]}),(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsx)("h2",{children:"\ud83d\udc51 Individual Champion Leaderboard (Top 10)"}),(0,Lt.jsx)("p",{className:"leaderboard-description",children:"Top performers ranked by total points earned across all events"}),0===y.length?(0,Lt.jsx)("p",{className:"no-data",children:"No data available yet. Results will appear once judges complete scoring and lock their scores."}):(0,Lt.jsx)("div",{className:"table-container",children:(0,Lt.jsxs)("table",{className:"table leaderboard-table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Rank"}),(0,Lt.jsx)("th",{children:"Chest No."}),(0,Lt.jsx)("th",{children:"Name & Achievements"}),(0,Lt.jsx)("th",{children:"Age"}),(0,Lt.jsx)("th",{children:"Category"}),(0,Lt.jsx)("th",{children:"Section"}),(0,Lt.jsx)("th",{children:"Church"}),(0,Lt.jsx)("th",{children:"Total Points"})]})}),(0,Lt.jsx)("tbody",{children:y.slice(0,10).map(e=>(0,Lt.jsxs)("tr",{className:e.rank<=3?"rank-".concat(e.rank):"",children:[(0,Lt.jsxs)("td",{children:[(0,Lt.jsxs)("strong",{className:"rank-number",children:["#",e.rank]}),1===e.rank&&(0,Lt.jsx)("span",{className:"medal",children:"\ud83e\udd47"}),2===e.rank&&(0,Lt.jsx)("span",{className:"medal",children:"\ud83e\udd48"}),3===e.rank&&(0,Lt.jsx)("span",{className:"medal",children:"\ud83e\udd49"})]}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("span",{className:"chest-number",children:e.participant.chestNumber||"N/A"})}),(0,Lt.jsx)("td",{children:(0,Lt.jsxs)("div",{className:"participant-info",children:[(0,Lt.jsx)("strong",{className:"participant-name",children:e.participant.name}),e.eventResults&&e.eventResults.length>0&&(0,Lt.jsx)("div",{className:"event-achievements",children:e.eventResults.map((e,t)=>(0,Lt.jsxs)("span",{className:"achievement-badge",children:[e.eventName," - ",e.position]},t))})]})}),(0,Lt.jsx)("td",{children:e.participant.age}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("span",{className:"category-badge",children:e.participant.ageCategory})}),(0,Lt.jsx)("td",{children:e.participant.section}),(0,Lt.jsx)("td",{className:"church-cell",children:e.participant.churchName}),(0,Lt.jsx)("td",{children:(0,Lt.jsxs)("span",{className:"points-badge-lg",children:[e.totalPoints," pts"]})})]},e.participant.id))})]})})]})]})},en=()=>{const[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)([]),[i,a]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)({individual:{first:5,second:3,third:1},group:{first:10,second:5,third:3}}),[h,p]=(0,r.useState)("events"),[f,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[y,b]=(0,r.useState)(!1),[w,x]=(0,r.useState)(!1),[S,E]=(0,r.useState)(null),[N,k]=(0,r.useState)(null),[C,j]=(0,r.useState)(null),[_,T]=(0,r.useState)(null),[I,A]=(0,r.useState)({name:"",description:"",ageGroups:[],scoringType:"all-judges"}),[P,R]=(0,r.useState)({name:"",description:"",maxParticipants:10,scoringType:"judge",questionsCount:0}),[D,O]=(0,r.useState)({name:"",churches:[""],username:"",password:"",presbyter:{name:"",contact:""},csPresident:{name:"",contact:""},csSecretary:{name:"",contact:""},csTreasurer:{name:"",contact:""}}),[L,M]=(0,r.useState)({username:"",password:"",name:"",contact:"",email:""}),{user:F,logout:U}=Ft(),V=ke();(0,r.useEffect)(()=>{F&&"admin"===F.role?z():V("/admin/login")},[F,V]);const z=()=>{t(Ot.getEvents()),a(Ot.getSections());const e=Ot.getData();s(e.groupEvents||[]),l(e.judgeCredentials||[]),u(e.pointsConfig||{individual:{first:5,second:3,third:1},group:{first:10,second:5,third:3}})},B=e=>{const{name:t,value:n,type:r,checked:s}=e.target;A("checkbox"===r?e=>d(d({},e),{},{ageGroups:s?[...e.ageGroups,n]:e.ageGroups.filter(e=>e!==n)}):e=>d(d({},e),{},{[t]:n}))},q=e=>{const{name:t,value:n}=e.target;R(e=>d(d({},e),{},{[t]:"maxParticipants"===t||"questionsCount"===t?parseInt(n)||0:n}))},G=e=>{const{name:t,value:n}=e.target;if(t.includes(".")){const[e,r]=t.split(".");O(t=>d(d({},t),{},{[e]:d(d({},t[e]),{},{[r]:n})}))}else O(e=>d(d({},e),{},{[t]:n}))},H=(e,t,n)=>{const r=[...D.churches];if("string"===typeof r[e]&&(r[e]={name:r[e],pastor:{name:"",contact:""}}),t.includes(".")){const[s,i]=t.split(".");r[e]=d(d({},r[e]),{},{[s]:d(d({},r[e][s]),{},{[i]:n})})}else r[e]=d(d({},r[e]),{},{[t]:n});O(e=>d(d({},e),{},{churches:r}))},W=e=>{const{name:t,value:n}=e.target;M(e=>d(d({},e),{},{[t]:n}))};return(0,Lt.jsxs)("div",{className:"master-data-view",children:[(0,Lt.jsxs)("div",{className:"dashboard-header",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h1",{children:"\ud83d\uddc2\ufe0f Master Data Management"}),(0,Lt.jsxs)("p",{children:["Admin: ",null===F||void 0===F?void 0:F.username]})]}),(0,Lt.jsxs)("div",{className:"header-actions",children:[(0,Lt.jsx)("button",{onClick:()=>{V("/admin/dashboard")},className:"btn btn-secondary",children:"Back to Dashboard"}),(0,Lt.jsx)("button",{onClick:()=>{U(),V("/admin/login")},className:"btn btn-secondary",children:"Logout"})]})]}),(0,Lt.jsxs)("div",{className:"tabs",children:[(0,Lt.jsx)("button",{className:"tab ".concat("events"===h?"active":""),onClick:()=>p("events"),children:"\ud83d\udcc5 Events"}),(0,Lt.jsx)("button",{className:"tab ".concat("groupEvents"===h?"active":""),onClick:()=>p("groupEvents"),children:"\ud83d\udc65 Group Events"}),(0,Lt.jsx)("button",{className:"tab ".concat("sections"===h?"active":""),onClick:()=>p("sections"),children:"\ud83d\udccd Sections & Churches"}),(0,Lt.jsx)("button",{className:"tab ".concat("judges"===h?"active":""),onClick:()=>p("judges"),children:"\ud83d\udc68\u200d\u2696\ufe0f Judges"}),(0,Lt.jsx)("button",{className:"tab ".concat("points"===h?"active":""),onClick:()=>p("points"),children:"\ud83c\udfc6 Points Configuration"})]}),"events"===h&&(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsxs)("div",{className:"card-header-actions",children:[(0,Lt.jsx)("h2",{children:"Event Management"}),(0,Lt.jsx)("button",{onClick:()=>{m(!0),E(null),A({name:"",description:"",ageGroups:[],scoringType:"all-judges"})},className:"btn btn-primary",children:"+ Add Event"})]}),f&&(0,Lt.jsxs)("div",{className:"form-container",children:[(0,Lt.jsx)("h3",{children:S?"Edit Event":"Add New Event"}),(0,Lt.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!I.name||0===I.ageGroups.length)return void alert("Please fill in all required fields");const t=Ot.getData();if(S){const e=t.events.findIndex(e=>e.id===S.id);-1!==e&&(t.events[e]=d(d({},t.events[e]),{},{name:I.name,description:I.description,ageGroups:I.ageGroups,scoringType:I.scoringType}))}else{const e={id:Math.max(...t.events.map(e=>e.id),0)+1,name:I.name,description:I.description,ageGroups:I.ageGroups,scoringType:I.scoringType};t.events.push(e)}Ot.saveData(t),z(),m(!1),E(null)},children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"eventName",children:"Event Name *"}),(0,Lt.jsx)("input",{type:"text",id:"eventName",name:"name",value:I.name,onChange:B,placeholder:"e.g., Solo Music (Male)",required:!0})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"eventDescription",children:"Description"}),(0,Lt.jsx)("textarea",{id:"eventDescription",name:"description",value:I.description,onChange:B,rows:"3",placeholder:"Brief description of the event..."})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{children:"Age Groups * (Select at least one)"}),(0,Lt.jsx)("div",{className:"checkbox-group",children:["Junior","Intermediate","Senior","Super Senior"].map(e=>(0,Lt.jsxs)("label",{className:"checkbox-label",children:[(0,Lt.jsx)("input",{type:"checkbox",name:"ageGroups",value:e,checked:I.ageGroups.includes(e),onChange:B}),e]},e))})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"scoringType",children:"Scoring Type *"}),(0,Lt.jsxs)("select",{id:"scoringType",name:"scoringType",value:I.scoringType,onChange:B,required:!0,children:[(0,Lt.jsx)("option",{value:"all-judges",children:"All Judges (Average of all judge scores)"}),(0,Lt.jsx)("option",{value:"single-judge",children:"Single Judge (One judge scores per participant)"})]}),(0,Lt.jsx)("small",{className:"field-hint",children:"all-judges"===I.scoringType?"All judges must score each participant. Final score is the average.":"Only one judge scores each participant. Suitable for written/judged events."})]}),(0,Lt.jsxs)("div",{className:"form-actions",children:[(0,Lt.jsx)("button",{type:"submit",className:"btn btn-primary",children:S?"Update Event":"Add Event"}),(0,Lt.jsx)("button",{type:"button",onClick:()=>{m(!1),E(null)},className:"btn btn-secondary",children:"Cancel"})]})]})]}),(0,Lt.jsx)("div",{className:"table-container",children:(0,Lt.jsxs)("table",{className:"table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"ID"}),(0,Lt.jsx)("th",{children:"Event Name"}),(0,Lt.jsx)("th",{children:"Description"}),(0,Lt.jsx)("th",{children:"Age Groups"}),(0,Lt.jsx)("th",{children:"Scoring Type"}),(0,Lt.jsx)("th",{children:"Actions"})]})}),(0,Lt.jsx)("tbody",{children:e.map(e=>(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:e.id}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{children:e.name})}),(0,Lt.jsx)("td",{children:e.description}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("div",{className:"age-groups",children:e.ageGroups.map(e=>(0,Lt.jsx)("span",{className:"age-group-badge",children:e},e))})}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("span",{className:"scoring-type-badge ".concat("all-judges"===e.scoringType?"all-judges":"single-judge"),children:"all-judges"===e.scoringType?"All Judges":"Single Judge"})}),(0,Lt.jsx)("td",{children:(0,Lt.jsxs)("div",{className:"action-buttons",children:[(0,Lt.jsx)("button",{onClick:()=>(e=>{m(!0),E(e),A({name:e.name,description:e.description,ageGroups:e.ageGroups||[],scoringType:e.scoringType||"all-judges"})})(e),className:"btn-small btn-info",children:"Edit"}),(0,Lt.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this event? This will also remove all associated participant registrations and scores.")){const t=Ot.getData();t.events=t.events.filter(t=>t.id!==e),t.participants=t.participants.map(t=>d(d({},t),{},{eventIds:(t.eventIds||[]).filter(t=>t!==e)})),t.scores=t.scores.filter(t=>t.eventId!==e),Ot.saveData(t),z()}})(e.id),className:"btn-small btn-danger",children:"Delete"})]})})]},e.id))})]})})]}),"groupEvents"===h&&(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsxs)("div",{className:"card-header-actions",children:[(0,Lt.jsx)("h2",{children:"Group Events Management"}),(0,Lt.jsx)("button",{onClick:()=>{v(!0),k(null),R({name:"",description:"",maxParticipants:10,scoringType:"judge",questionsCount:0})},className:"btn btn-primary",children:"+ Add Group Event"})]}),g&&(0,Lt.jsxs)("div",{className:"form-container",children:[(0,Lt.jsx)("h3",{children:N?"Edit Group Event":"Add New Group Event"}),(0,Lt.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!P.name)return void alert("Please fill in the event name");const t=Ot.getData();if(N){const e=t.groupEvents.findIndex(e=>e.id===N.id);-1!==e&&(t.groupEvents[e]=d(d({},t.groupEvents[e]),{},{name:P.name,description:P.description,maxParticipants:P.maxParticipants,scoringType:P.scoringType,questionsCount:P.questionsCount}))}else{const e={id:Math.max(...(t.groupEvents||[]).map(e=>e.id),0)+1,name:P.name,description:P.description,maxParticipants:P.maxParticipants,scoringType:P.scoringType,questionsCount:P.questionsCount};t.groupEvents||(t.groupEvents=[]),t.groupEvents.push(e)}Ot.saveData(t),z(),v(!1),k(null)},children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"groupEventName",children:"Event Name *"}),(0,Lt.jsx)("input",{type:"text",id:"groupEventName",name:"name",value:P.name,onChange:q,placeholder:"e.g., Group Song, Group Bible Quiz",required:!0})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"groupEventDescription",children:"Description"}),(0,Lt.jsx)("textarea",{id:"groupEventDescription",name:"description",value:P.description,onChange:q,placeholder:"Enter event description",rows:"3"})]}),(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"maxParticipants",children:"Max Participants per Team *"}),(0,Lt.jsx)("input",{type:"number",id:"maxParticipants",name:"maxParticipants",value:P.maxParticipants,onChange:q,min:"1",max:"20",required:!0})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"scoringType",children:"Scoring Type *"}),(0,Lt.jsxs)("select",{id:"scoringType",name:"scoringType",value:P.scoringType,onChange:q,required:!0,children:[(0,Lt.jsx)("option",{value:"judge",children:"Judge Scoring"}),(0,Lt.jsx)("option",{value:"quiz",children:"Quiz (Per Question)"})]})]})]}),"quiz"===P.scoringType&&(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"questionsCount",children:"Total Questions *"}),(0,Lt.jsx)("input",{type:"number",id:"questionsCount",name:"questionsCount",value:P.questionsCount,onChange:q,min:"1",placeholder:"e.g., 50",required:!0}),(0,Lt.jsx)("small",{style:{color:"#718096",marginTop:"5px",display:"block"},children:"Each correct answer = 1 mark"})]}),(0,Lt.jsxs)("div",{className:"form-actions",children:[(0,Lt.jsx)("button",{type:"submit",className:"btn btn-primary",children:N?"Update Group Event":"Add Group Event"}),(0,Lt.jsx)("button",{type:"button",onClick:()=>{v(!1),k(null)},className:"btn btn-secondary",children:"Cancel"})]})]})]}),(0,Lt.jsx)("div",{className:"table-container",children:(0,Lt.jsxs)("table",{className:"table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"ID"}),(0,Lt.jsx)("th",{children:"Event Name"}),(0,Lt.jsx)("th",{children:"Description"}),(0,Lt.jsx)("th",{children:"Max Participants"}),(0,Lt.jsx)("th",{children:"Scoring Type"}),(0,Lt.jsx)("th",{children:"Questions"}),(0,Lt.jsx)("th",{children:"Actions"})]})}),(0,Lt.jsx)("tbody",{children:n.map(e=>(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:e.id}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{children:e.name})}),(0,Lt.jsx)("td",{children:e.description}),(0,Lt.jsx)("td",{children:e.maxParticipants}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("span",{className:"badge ".concat("quiz"===e.scoringType?"badge-info":"badge-success"),children:"quiz"===e.scoringType?"Quiz":"Judge Scoring"})}),(0,Lt.jsx)("td",{children:"quiz"===e.scoringType?e.questionsCount:"-"}),(0,Lt.jsx)("td",{children:(0,Lt.jsxs)("div",{className:"action-buttons",children:[(0,Lt.jsx)("button",{onClick:()=>{return t=e,v(!0),k(t),void R({name:t.name,description:t.description,maxParticipants:t.maxParticipants||10,scoringType:t.scoringType||"judge",questionsCount:t.questionsCount||0});var t},className:"btn-small btn-info",children:"Edit"}),(0,Lt.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this group event? This will also remove all associated teams and scores.")){const t=Ot.getData();t.groupEvents=(t.groupEvents||[]).filter(t=>t.id!==e),t.groupTeams&&(t.groupTeams=t.groupTeams.filter(t=>t.groupEventId!==e)),Ot.saveData(t),z()}})(e.id),className:"btn-small btn-danger",children:"Delete"})]})})]},e.id))})]})})]}),"sections"===h&&(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsxs)("div",{className:"card-header-actions",children:[(0,Lt.jsx)("h2",{children:"Section & Church Management"}),(0,Lt.jsx)("button",{onClick:()=>{b(!0),j(null),O({name:"",churches:[{name:"",pastor:{name:"",contact:""}}],username:"",password:"",presbyter:{name:"",contact:""},csPresident:{name:"",contact:""},csSecretary:{name:"",contact:""},csTreasurer:{name:"",contact:""}})},className:"btn btn-primary",children:"+ Add Section"})]}),y&&(0,Lt.jsxs)("div",{className:"form-container",children:[(0,Lt.jsx)("h3",{children:C?"Edit Section":"Add New Section"}),(0,Lt.jsxs)("form",{onSubmit:e=>{var t;e.preventDefault();const n=D.churches.filter(e=>"string"===typeof e?e.trim():e.name&&e.name.trim());if(!D.name||0===n.length)return void alert("Please fill in section name and at least one church");if(!D.username||!D.password)return void alert("Please provide username and password for section credentials");const r=Ot.getData();if(null===(t=r.sectionCredentials)||void 0===t?void 0:t.find(e=>e.username===D.username&&e.section!==((null===C||void 0===C?void 0:C.name)||"")))alert("Username already exists. Please choose a different username.");else{if(C){const e=r.sections.findIndex(e=>e.id===C.id);-1!==e&&(r.sections[e]=d(d({},r.sections[e]),{},{name:D.name,churches:n,presbyter:D.presbyter,csPresident:D.csPresident,csSecretary:D.csSecretary,csTreasurer:D.csTreasurer}));const t=r.sectionCredentials.findIndex(e=>e.section===C.name);-1!==t?r.sectionCredentials[t]={username:D.username,password:D.password,section:D.name}:r.sectionCredentials.push({username:D.username,password:D.password,section:D.name})}else{const e={id:Math.max(...r.sections.map(e=>e.id),0)+1,name:D.name,churches:n,presbyter:D.presbyter,csPresident:D.csPresident,csSecretary:D.csSecretary,csTreasurer:D.csTreasurer};r.sections.push(e),r.sectionCredentials.push({username:D.username,password:D.password,section:D.name})}Ot.saveData(r),z(),b(!1),j(null)}},children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"sectionName",children:"Section Name *"}),(0,Lt.jsx)("input",{type:"text",id:"sectionName",name:"name",value:D.name,onChange:G,placeholder:"e.g., Pathanapuram",required:!0})]}),(0,Lt.jsx)("h4",{style:{marginTop:"30px",marginBottom:"15px",color:"#2d3748"},children:"Section Credentials"}),(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"sectionUsername",children:"Username *"}),(0,Lt.jsx)("input",{type:"text",id:"sectionUsername",name:"username",value:D.username,onChange:G,placeholder:"Enter username",disabled:C,required:!0}),C&&(0,Lt.jsx)("small",{style:{color:"#718096",marginTop:"5px",display:"block"},children:"Username cannot be changed while editing"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"sectionPassword",children:"Password *"}),(0,Lt.jsx)("input",{type:"password",id:"sectionPassword",name:"password",value:D.password,onChange:G,placeholder:"Enter password",required:!0})]})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{children:"Churches *"}),D.churches.map((e,t)=>{var n,r;const s="string"===typeof e?{name:e,pastor:{name:"",contact:""}}:e;return(0,Lt.jsxs)("div",{className:"church-group",children:[(0,Lt.jsxs)("div",{className:"church-input-row",children:[(0,Lt.jsx)("input",{type:"text",value:s.name,onChange:e=>H(t,"name",e.target.value),placeholder:"Church name",style:{flex:2}}),D.churches.length>1&&(0,Lt.jsx)("button",{type:"button",onClick:()=>(e=>{O(t=>d(d({},t),{},{churches:t.churches.filter((t,n)=>n!==e)}))})(t),className:"btn-small btn-danger",children:"Remove"})]}),(0,Lt.jsxs)("div",{className:"pastor-fields",children:[(0,Lt.jsx)("input",{type:"text",value:(null===(n=s.pastor)||void 0===n?void 0:n.name)||"",onChange:e=>H(t,"pastor.name",e.target.value),placeholder:"Pastor name",style:{flex:1}}),(0,Lt.jsx)("input",{type:"text",value:(null===(r=s.pastor)||void 0===r?void 0:r.contact)||"",onChange:e=>H(t,"pastor.contact",e.target.value),placeholder:"Pastor contact number",style:{flex:1}})]})]},t)}),(0,Lt.jsx)("button",{type:"button",onClick:()=>{O(e=>d(d({},e),{},{churches:[...e.churches,{name:"",pastor:{name:"",contact:""}}]}))},className:"btn-small btn-secondary",style:{marginTop:"10px"},children:"+ Add Another Church"})]}),(0,Lt.jsx)("h4",{style:{marginTop:"30px",marginBottom:"15px",color:"#2d3748"},children:"Section Officers"}),(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"presbyterName",children:"Presbyter Name"}),(0,Lt.jsx)("input",{type:"text",id:"presbyterName",name:"presbyter.name",value:D.presbyter.name,onChange:G,placeholder:"Enter presbyter name"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"presbyterContact",children:"Presbyter Contact"}),(0,Lt.jsx)("input",{type:"text",id:"presbyterContact",name:"presbyter.contact",value:D.presbyter.contact,onChange:G,placeholder:"Contact number"})]})]}),(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"csPresidentName",children:"CS President Name"}),(0,Lt.jsx)("input",{type:"text",id:"csPresidentName",name:"csPresident.name",value:D.csPresident.name,onChange:G,placeholder:"Enter president name"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"csPresidentContact",children:"CS President Contact"}),(0,Lt.jsx)("input",{type:"text",id:"csPresidentContact",name:"csPresident.contact",value:D.csPresident.contact,onChange:G,placeholder:"Contact number"})]})]}),(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"csSecretaryName",children:"CS Secretary Name"}),(0,Lt.jsx)("input",{type:"text",id:"csSecretaryName",name:"csSecretary.name",value:D.csSecretary.name,onChange:G,placeholder:"Enter secretary name"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"csSecretaryContact",children:"CS Secretary Contact"}),(0,Lt.jsx)("input",{type:"text",id:"csSecretaryContact",name:"csSecretary.contact",value:D.csSecretary.contact,onChange:G,placeholder:"Contact number"})]})]}),(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"csTreasurerName",children:"CS Treasurer Name"}),(0,Lt.jsx)("input",{type:"text",id:"csTreasurerName",name:"csTreasurer.name",value:D.csTreasurer.name,onChange:G,placeholder:"Enter treasurer name"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"csTreasurerContact",children:"CS Treasurer Contact"}),(0,Lt.jsx)("input",{type:"text",id:"csTreasurerContact",name:"csTreasurer.contact",value:D.csTreasurer.contact,onChange:G,placeholder:"Contact number"})]})]}),(0,Lt.jsxs)("div",{className:"form-actions",children:[(0,Lt.jsx)("button",{type:"submit",className:"btn btn-primary",children:C?"Update Section":"Add Section"}),(0,Lt.jsx)("button",{type:"button",onClick:()=>{b(!1),j(null)},className:"btn btn-secondary",children:"Cancel"})]})]})]}),(0,Lt.jsx)("div",{className:"table-container",children:(0,Lt.jsxs)("table",{className:"table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"ID"}),(0,Lt.jsx)("th",{children:"Section Name"}),(0,Lt.jsx)("th",{children:"Officers"}),(0,Lt.jsx)("th",{children:"Churches"}),(0,Lt.jsx)("th",{children:"Actions"})]})}),(0,Lt.jsx)("tbody",{children:i.map(e=>{var t,n,r,s;return(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:e.id}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{children:e.name})}),(0,Lt.jsx)("td",{children:(0,Lt.jsxs)("div",{className:"officers-list",children:[(null===(t=e.presbyter)||void 0===t?void 0:t.name)&&(0,Lt.jsxs)("div",{className:"officer-item",children:[(0,Lt.jsx)("strong",{children:"Presbyter:"})," ",e.presbyter.name,e.presbyter.contact&&(0,Lt.jsxs)("span",{children:[" (",e.presbyter.contact,")"]})]}),(null===(n=e.csPresident)||void 0===n?void 0:n.name)&&(0,Lt.jsxs)("div",{className:"officer-item",children:[(0,Lt.jsx)("strong",{children:"President:"})," ",e.csPresident.name,e.csPresident.contact&&(0,Lt.jsxs)("span",{children:[" (",e.csPresident.contact,")"]})]}),(null===(r=e.csSecretary)||void 0===r?void 0:r.name)&&(0,Lt.jsxs)("div",{className:"officer-item",children:[(0,Lt.jsx)("strong",{children:"Secretary:"})," ",e.csSecretary.name,e.csSecretary.contact&&(0,Lt.jsxs)("span",{children:[" (",e.csSecretary.contact,")"]})]}),(null===(s=e.csTreasurer)||void 0===s?void 0:s.name)&&(0,Lt.jsxs)("div",{className:"officer-item",children:[(0,Lt.jsx)("strong",{children:"Treasurer:"})," ",e.csTreasurer.name,e.csTreasurer.contact&&(0,Lt.jsxs)("span",{children:[" (",e.csTreasurer.contact,")"]})]})]})}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("div",{className:"churches-list",children:e.churches.map((e,t)=>{var n;const r="string"===typeof e?{name:e}:e;return(0,Lt.jsxs)("div",{className:"church-item",children:[(0,Lt.jsx)("div",{children:(0,Lt.jsx)("strong",{children:r.name})}),(null===(n=r.pastor)||void 0===n?void 0:n.name)&&(0,Lt.jsxs)("div",{className:"pastor-info",children:["Pastor: ",r.pastor.name,r.pastor.contact&&(0,Lt.jsxs)("span",{children:[" (",r.pastor.contact,")"]})]})]},t)})})}),(0,Lt.jsx)("td",{children:(0,Lt.jsxs)("div",{className:"action-buttons",children:[(0,Lt.jsx)("button",{onClick:()=>(e=>{var t;b(!0),j(e);const n=(e.churches||[]).map(e=>"string"===typeof e?{name:e,pastor:{name:"",contact:""}}:e),r=(null===(t=Ot.getData().sectionCredentials)||void 0===t?void 0:t.find(t=>t.section===e.name))||{};O({name:e.name,churches:n.length>0?n:[{name:"",pastor:{name:"",contact:""}}],username:r.username||"",password:r.password||"",presbyter:e.presbyter||{name:"",contact:""},csPresident:e.csPresident||{name:"",contact:""},csSecretary:e.csSecretary||{name:"",contact:""},csTreasurer:e.csTreasurer||{name:"",contact:""}})})(e),className:"btn-small btn-info",children:"Edit"}),(0,Lt.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this section? This will affect all participants from this section.")){const t=Ot.getData(),n=t.sections.find(t=>t.id===e);t.sections=t.sections.filter(t=>t.id!==e),n&&(t.sectionCredentials=t.sectionCredentials.filter(e=>e.section!==n.name)),Ot.saveData(t),z()}})(e.id),className:"btn-small btn-danger",children:"Delete"})]})})]},e.id)})})]})})]}),"judges"===h&&(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsxs)("div",{className:"card-header-actions",children:[(0,Lt.jsx)("h2",{children:"Judge Management"}),(0,Lt.jsx)("button",{onClick:()=>{x(!0),T(null),M({username:"",password:"",name:"",contact:"",email:""})},className:"btn btn-primary",children:"+ Add Judge"})]}),w&&(0,Lt.jsxs)("div",{className:"form-container",children:[(0,Lt.jsx)("h3",{children:_?"Edit Judge":"Add New Judge"}),(0,Lt.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!L.username||!L.password)return void alert("Username and password are required");const t=Ot.getData();if(_){const e=t.judgeCredentials.findIndex(e=>e.username===_.username);-1!==e&&(t.judgeCredentials[e]={username:L.username,password:L.password,name:L.name,contact:L.contact,email:L.email})}else{if(t.judgeCredentials.find(e=>e.username===L.username))return void alert("Username already exists. Please choose a different username.");t.judgeCredentials.push({username:L.username,password:L.password,name:L.name,contact:L.contact,email:L.email})}Ot.saveData(t),z(),x(!1),T(null)},children:[(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"judgeUsername",children:"Username *"}),(0,Lt.jsx)("input",{type:"text",id:"judgeUsername",name:"username",value:L.username,onChange:W,placeholder:"e.g., judge1",required:!0,disabled:null!==_})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"judgePassword",children:"Password *"}),(0,Lt.jsx)("input",{type:"password",id:"judgePassword",name:"password",value:L.password,onChange:W,placeholder:"Enter password",required:!0})]})]}),(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"judgeName",children:"Full Name"}),(0,Lt.jsx)("input",{type:"text",id:"judgeName",name:"name",value:L.name,onChange:W,placeholder:"Enter judge's full name"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"judgeContact",children:"Contact Number"}),(0,Lt.jsx)("input",{type:"text",id:"judgeContact",name:"contact",value:L.contact,onChange:W,placeholder:"Enter contact number"})]})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"judgeEmail",children:"Email"}),(0,Lt.jsx)("input",{type:"email",id:"judgeEmail",name:"email",value:L.email,onChange:W,placeholder:"Enter email address"})]}),(0,Lt.jsxs)("div",{className:"form-actions",children:[(0,Lt.jsx)("button",{type:"submit",className:"btn btn-primary",children:_?"Update Judge":"Add Judge"}),(0,Lt.jsx)("button",{type:"button",onClick:()=>{x(!1),T(null)},className:"btn btn-secondary",children:"Cancel"})]})]})]}),(0,Lt.jsx)("div",{className:"table-container",children:(0,Lt.jsxs)("table",{className:"table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Username"}),(0,Lt.jsx)("th",{children:"Full Name"}),(0,Lt.jsx)("th",{children:"Contact"}),(0,Lt.jsx)("th",{children:"Email"}),(0,Lt.jsx)("th",{children:"Actions"})]})}),(0,Lt.jsx)("tbody",{children:o.map(e=>(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{children:e.username})}),(0,Lt.jsx)("td",{children:e.name||"-"}),(0,Lt.jsx)("td",{children:e.contact||"-"}),(0,Lt.jsx)("td",{children:e.email||"-"}),(0,Lt.jsx)("td",{children:(0,Lt.jsxs)("div",{className:"action-buttons",children:[(0,Lt.jsx)("button",{onClick:()=>(e=>{x(!0),T(e),M({username:e.username,password:e.password,name:e.name||"",contact:e.contact||"",email:e.email||""})})(e),className:"btn-small btn-info",children:"Edit"}),(0,Lt.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this judge? This will also remove all scores submitted by this judge.")){const t=Ot.getData();t.judgeCredentials=t.judgeCredentials.filter(t=>t.username!==e),t.scores=t.scores.filter(t=>t.judgeName!==e),t.judgeLocks=t.judgeLocks.filter(t=>t.judgeName!==e),Ot.saveData(t),z()}})(e.username),className:"btn-small btn-danger",children:"Delete"})]})})]},e.username))})]})})]}),"points"===h&&(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsx)("div",{className:"card-header-actions",children:(0,Lt.jsx)("h2",{children:"Points Configuration"})}),(0,Lt.jsxs)("div",{className:"points-config-container",children:[(0,Lt.jsxs)("div",{className:"points-section",children:[(0,Lt.jsx)("h3",{children:"Individual Events Points"}),(0,Lt.jsx)("p",{className:"points-description",children:"Configure points awarded for top 3 positions in individual events"}),(0,Lt.jsxs)("div",{className:"points-form",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{children:"1st Place Points"}),(0,Lt.jsx)("input",{type:"number",min:"0",value:c.individual.first,onChange:e=>u(t=>d(d({},t),{},{individual:d(d({},t.individual),{},{first:parseInt(e.target.value)||0})})),className:"points-input"}),(0,Lt.jsx)("span",{className:"medal-icon",children:"\ud83e\udd47"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{children:"2nd Place Points"}),(0,Lt.jsx)("input",{type:"number",min:"0",value:c.individual.second,onChange:e=>u(t=>d(d({},t),{},{individual:d(d({},t.individual),{},{second:parseInt(e.target.value)||0})})),className:"points-input"}),(0,Lt.jsx)("span",{className:"medal-icon",children:"\ud83e\udd48"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{children:"3rd Place Points"}),(0,Lt.jsx)("input",{type:"number",min:"0",value:c.individual.third,onChange:e=>u(t=>d(d({},t),{},{individual:d(d({},t.individual),{},{third:parseInt(e.target.value)||0})})),className:"points-input"}),(0,Lt.jsx)("span",{className:"medal-icon",children:"\ud83e\udd49"})]})]})]}),(0,Lt.jsxs)("div",{className:"points-section",children:[(0,Lt.jsx)("h3",{children:"Group Events Points"}),(0,Lt.jsx)("p",{className:"points-description",children:"Configure points awarded for top 3 positions in group events"}),(0,Lt.jsxs)("div",{className:"points-form",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{children:"1st Place Points"}),(0,Lt.jsx)("input",{type:"number",min:"0",value:c.group.first,onChange:e=>u(t=>d(d({},t),{},{group:d(d({},t.group),{},{first:parseInt(e.target.value)||0})})),className:"points-input"}),(0,Lt.jsx)("span",{className:"medal-icon",children:"\ud83e\udd47"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{children:"2nd Place Points"}),(0,Lt.jsx)("input",{type:"number",min:"0",value:c.group.second,onChange:e=>u(t=>d(d({},t),{},{group:d(d({},t.group),{},{second:parseInt(e.target.value)||0})})),className:"points-input"}),(0,Lt.jsx)("span",{className:"medal-icon",children:"\ud83e\udd48"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{children:"3rd Place Points"}),(0,Lt.jsx)("input",{type:"number",min:"0",value:c.group.third,onChange:e=>u(t=>d(d({},t),{},{group:d(d({},t.group),{},{third:parseInt(e.target.value)||0})})),className:"points-input"}),(0,Lt.jsx)("span",{className:"medal-icon",children:"\ud83e\udd49"})]})]})]}),(0,Lt.jsx)("button",{onClick:()=>{const e=Ot.getData();e.pointsConfig=c,Ot.saveData(e),alert("Points configuration saved successfully!")},className:"btn btn-primary",style:{marginTop:"20px"},children:"Save Points Configuration"})]})]})]})},tn=()=>{var e;const[t,n]=(0,r.useState)([]),[s,i]=(0,r.useState)([]),[a,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(null),[p,f]=(0,r.useState)({groupEventId:"",sectionId:"",teamName:"",chestNumber:"",participants:[""]}),{user:m,logout:g}=Ft(),v=ke();(0,r.useEffect)(()=>{m&&"admin"===m.role?y():v("/admin/login")},[m,v]);const y=()=>{const e=Ot.getData();n(e.groupEvents||[]),i(Ot.getSections()),o(e.groupTeams||[])},b=e=>{const{name:t,value:n}=e.target;f(e=>d(d({},e),{},{[t]:"groupEventId"===t||"sectionId"===t?parseInt(n):n}))},w=(e,n)=>{const r=Ot.getData().groupTeams||[],i=t.find(t=>t.id===e),a=s.find(e=>e.id===n);if(!i||!a)return"";let o="";o=i.name.includes("Song")?"GS":i.name.includes("Quiz")?"GQ":"GT";const l=a.name.charAt(0).toUpperCase();o="".concat(o).concat(l);const c=r.filter(e=>e.chestNumber&&e.chestNumber.startsWith(o));let u=0;return c.forEach(e=>{const t=e.chestNumber.match(/\d+$/);if(t){const e=parseInt(t[0]);e>u&&(u=e)}}),"".concat(o).concat(String(u+1).padStart(3,"0"))},x=e=>{const n=t.find(t=>t.id===e);return n?n.name:"Unknown"},S=e=>{const t=s.find(t=>t.id===e);return t?t.name:"Unknown"};return(0,Lt.jsxs)("div",{className:"group-teams-view",children:[(0,Lt.jsxs)("div",{className:"dashboard-header",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h1",{children:"\ud83d\udc65 Group Teams Management"}),(0,Lt.jsxs)("p",{children:["Admin: ",null===m||void 0===m?void 0:m.username]})]}),(0,Lt.jsxs)("div",{className:"header-actions",children:[(0,Lt.jsx)("button",{onClick:()=>{v("/admin/dashboard")},className:"btn btn-secondary",children:"Back to Dashboard"}),(0,Lt.jsx)("button",{onClick:()=>{g(),v("/admin/login")},className:"btn btn-secondary",children:"Logout"})]})]}),(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsxs)("div",{className:"card-header-actions",children:[(0,Lt.jsx)("h2",{children:"Teams"}),(0,Lt.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,Lt.jsx)("button",{onClick:()=>{const e=Ot.getData(),t=(e.groupTeams||[]).filter(e=>!e.chestNumber);0!==t.length?window.confirm("Generate chest numbers for ".concat(t.length," team(s)?"))&&(t.forEach(t=>{const n=w(t.groupEventId,t.sectionId),r=e.groupTeams.findIndex(e=>e.id===t.id);-1!==r&&(e.groupTeams[r].chestNumber=n)}),Ot.saveData(e),y(),alert("Successfully assigned ".concat(t.length," chest numbers!"))):alert("All teams already have chest numbers assigned!")},className:"btn btn-success",children:"\ud83d\udd22 Generate All Chest Numbers"}),(0,Lt.jsx)("button",{onClick:()=>{c(!0),h(null),f({groupEventId:"",sectionId:"",teamName:"",chestNumber:"",participants:[""]})},className:"btn btn-primary",children:"+ Add Team"})]})]}),l&&(0,Lt.jsxs)("div",{className:"form-container",children:[(0,Lt.jsx)("h3",{children:u?"Edit Team":"Add New Team"}),(0,Lt.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!p.groupEventId||!p.sectionId||!p.teamName||!p.chestNumber)return void alert("Please fill in all required fields");const t=p.participants.filter(e=>e.trim());if(0===t.length)return void alert("Please add at least one participant");const n=Ot.getData();if((n.groupTeams||[]).find(e=>e.groupEventId===p.groupEventId&&e.sectionId===p.sectionId&&e.id!==(null===u||void 0===u?void 0:u.id)))alert("This section already has a team for this event. Only one team per section is allowed.");else{if(n.groupTeams||(n.groupTeams=[]),u){const e=n.groupTeams.findIndex(e=>e.id===u.id);-1!==e&&(n.groupTeams[e]=d(d({},n.groupTeams[e]),{},{groupEventId:p.groupEventId,sectionId:p.sectionId,teamName:p.teamName,chestNumber:p.chestNumber,participants:t}))}else{const e={id:Math.max(...n.groupTeams.map(e=>e.id),0)+1,groupEventId:p.groupEventId,sectionId:p.sectionId,teamName:p.teamName,chestNumber:p.chestNumber,participants:t,scores:[]};n.groupTeams.push(e)}Ot.saveData(n),y(),c(!1),h(null)}},children:[(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"groupEventId",children:"Group Event *"}),(0,Lt.jsxs)("select",{id:"groupEventId",name:"groupEventId",value:p.groupEventId,onChange:b,required:!0,children:[(0,Lt.jsx)("option",{value:"",children:"Select Event"}),t.map(e=>(0,Lt.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"sectionId",children:"Section *"}),(0,Lt.jsxs)("select",{id:"sectionId",name:"sectionId",value:p.sectionId,onChange:b,required:!0,children:[(0,Lt.jsx)("option",{value:"",children:"Select Section"}),s.map(e=>(0,Lt.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"teamName",children:"Team Name *"}),(0,Lt.jsx)("input",{type:"text",id:"teamName",name:"teamName",value:p.teamName,onChange:b,placeholder:"e.g., Pathanapuram Warriors",required:!0})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"chestNumber",children:"Chest Number *"}),(0,Lt.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,Lt.jsx)("input",{type:"text",id:"chestNumber",name:"chestNumber",value:p.chestNumber,onChange:b,placeholder:"e.g., GSP001, GQK001",required:!0,style:{flex:1}}),(0,Lt.jsx)("button",{type:"button",onClick:()=>{if(!p.groupEventId||!p.sectionId)return void alert("Please select event and section first");const e=w(p.groupEventId,p.sectionId);f(t=>d(d({},t),{},{chestNumber:e}))},className:"btn btn-secondary",style:{whiteSpace:"nowrap"},children:"\ud83d\udd22 Auto Generate"})]}),(0,Lt.jsx)("small",{style:{color:"#718096",fontSize:"0.85rem"},children:"Format: GSP001 (Group Song Pathanapuram), GQK001 (Group Quiz Kollam)"})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{children:"Participants *"}),p.participants.map((e,t)=>(0,Lt.jsxs)("div",{className:"participant-input-row",children:[(0,Lt.jsx)("input",{type:"text",value:e,onChange:e=>((e,t)=>{const n=[...p.participants];n[e]=t,f(e=>d(d({},e),{},{participants:n}))})(t,e.target.value),placeholder:"Participant ".concat(t+1," name"),style:{flex:1}}),p.participants.length>1&&(0,Lt.jsx)("button",{type:"button",onClick:()=>(e=>{f(t=>d(d({},t),{},{participants:t.participants.filter((t,n)=>n!==e)}))})(t),className:"btn-small btn-danger",children:"Remove"})]},t)),(0,Lt.jsx)("button",{type:"button",onClick:()=>{const e=t.find(e=>e.id===p.groupEventId);e&&p.participants.length<e.maxParticipants?f(e=>d(d({},e),{},{participants:[...e.participants,""]})):alert("Maximum ".concat((null===e||void 0===e?void 0:e.maxParticipants)||10," participants allowed for this event"))},className:"btn-small btn-secondary",style:{marginTop:"10px"},children:"+ Add Participant"}),p.groupEventId&&(0,Lt.jsxs)("small",{style:{color:"#718096",marginTop:"5px",display:"block"},children:["Max ",(null===(e=t.find(e=>e.id===p.groupEventId))||void 0===e?void 0:e.maxParticipants)||10," participants allowed"]})]}),(0,Lt.jsxs)("div",{className:"form-actions",children:[(0,Lt.jsx)("button",{type:"submit",className:"btn btn-primary",children:u?"Update Team":"Add Team"}),(0,Lt.jsx)("button",{type:"button",onClick:()=>{c(!1),h(null)},className:"btn btn-secondary",children:"Cancel"})]})]})]}),(0,Lt.jsx)("div",{className:"table-container",children:(0,Lt.jsxs)("table",{className:"table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"ID"}),(0,Lt.jsx)("th",{children:"Event"}),(0,Lt.jsx)("th",{children:"Section"}),(0,Lt.jsx)("th",{children:"Team Name"}),(0,Lt.jsx)("th",{children:"Chest Number"}),(0,Lt.jsx)("th",{children:"Participants"}),(0,Lt.jsx)("th",{children:"Actions"})]})}),(0,Lt.jsx)("tbody",{children:a.map(e=>(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:e.id}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{children:x(e.groupEventId)})}),(0,Lt.jsx)("td",{children:S(e.sectionId)}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{children:e.teamName})}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("span",{className:"chest-number-badge",children:e.chestNumber})}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("div",{className:"participants-list",children:e.participants.map((e,t)=>(0,Lt.jsx)("span",{className:"participant-badge",children:e},t))})}),(0,Lt.jsx)("td",{children:(0,Lt.jsxs)("div",{className:"action-buttons",children:[(0,Lt.jsx)("button",{onClick:()=>(e=>{c(!0),h(e),f({groupEventId:e.groupEventId,sectionId:e.sectionId,teamName:e.teamName,chestNumber:e.chestNumber||"",participants:e.participants.length>0?e.participants:[""]})})(e),className:"btn-small btn-info",children:"Edit"}),(0,Lt.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this team?")){const t=Ot.getData();t.groupTeams=(t.groupTeams||[]).filter(t=>t.id!==e),Ot.saveData(t),y()}})(e.id),className:"btn-small btn-danger",children:"Delete"})]})})]},e.id))})]})})]})]})},nn=()=>{const[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)([]),[i,a]=(0,r.useState)([]),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)([]),{user:d,logout:h}=Ft(),p=ke();(0,r.useEffect)(()=>{if(d&&"admin"===d.role){const e=Ot.getData();t(e.groupEvents||[]),s(e.groupTeams||[]),a(Ot.getSections()),u(Ot.getDeclaredResults())}else p("/admin/login")},[d,p]);const f=t=>{const n=e.find(e=>e.id===parseInt(t));return n?n.name:"Unknown"},m=e=>{const t=i.find(t=>t.id===e);return t?t.name:"Unknown"},g=t=>{const n=Ot.getData().groupEventLocks||[],r=e.find(e=>e.id===t);return r&&"quiz"===r.scoringType?n.some(e=>e.groupEventId===t&&e.locked):["judge1","judge2","judge3"].every(e=>n.some(n=>n.judgeName===e&&n.groupEventId===t&&n.locked))},v=(()=>{if(!o)return[];const t=parseInt(o),r=e.find(e=>e.id===t);if(!g(t))return null;const s=n.filter(e=>e.groupEventId===t).map(e=>{const t=e.scores||[];let n=0,s=0;if(r&&"quiz"===r.scoringType){const e=t.find(e=>void 0!==e.score);n=e?parseFloat(e.score):0,s=e?1:0}else t.forEach(e=>{n+=parseFloat(e.score),s++});const i=s>0?r&&"quiz"===r.scoringType?n:n/s:0;return{teamId:e.id,teamName:e.teamName,sectionId:e.sectionId,sectionName:m(e.sectionId),participants:e.participants,totalScore:n,averageScore:i,judgeCount:s}});return s.sort((e,t)=>t.averageScore-e.averageScore),s.forEach((e,t)=>{e.rank=t+1,1===e.rank?e.points=10:2===e.rank?e.points=5:3===e.rank?e.points=3:e.points=0}),s})(),y=!!o&&g(parseInt(o));return(0,Lt.jsxs)("div",{className:"group-results-view",children:[(0,Lt.jsxs)("div",{className:"dashboard-header",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h1",{children:"Group Event Results"}),(0,Lt.jsxs)("p",{children:["Admin: ",null===d||void 0===d?void 0:d.username]})]}),(0,Lt.jsxs)("div",{className:"header-actions",children:[(0,Lt.jsx)("button",{onClick:()=>{p("/admin/dashboard")},className:"btn btn-secondary",children:"Back to Dashboard"}),(0,Lt.jsx)("button",{onClick:()=>{h(),p("/admin/login")},className:"btn btn-secondary",children:"Logout"})]})]}),(0,Lt.jsxs)("div",{className:"card",children:[(0,Lt.jsx)("h2",{children:"Select Group Event"}),(0,Lt.jsx)("div",{className:"filter-section",children:(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"selectGroupEvent",children:"Group Event:"}),(0,Lt.jsxs)("select",{id:"selectGroupEvent",value:o,onChange:e=>l(e.target.value),children:[(0,Lt.jsx)("option",{value:"",children:"Select a group event"}),e.map(e=>(0,Lt.jsx)("option",{value:e.id,children:e.name},e.id))]})]})}),o&&!y&&(0,Lt.jsx)("div",{className:"warning-message",children:(()=>{const t=e.find(e=>e.id===parseInt(o));return t&&"quiz"===t.scoringType?"\u26a0\ufe0f No judge has locked their scores yet. Results will be available once a judge completes scoring.":"\u26a0\ufe0f All judges have not locked their scores yet. Results will be available once all judges complete their scoring."})()}),v&&v.length>0&&(0,Lt.jsxs)(Lt.Fragment,{children:[(0,Lt.jsxs)("div",{className:"results-header",children:[(0,Lt.jsxs)("h3",{children:["Results: ",f(parseInt(o))]}),(0,Lt.jsx)("div",{className:"declaration-controls",children:o&&Ot.isGroupResultDeclared(parseInt(o))?(0,Lt.jsxs)("div",{className:"declaration-status",children:[(0,Lt.jsx)("span",{className:"status-badge declared",children:"\u2713 Result Declared"}),(0,Lt.jsx)("button",{onClick:()=>{if(!o)return;const e=Ot.revertGroupDeclaration(parseInt(o));e.success?(u(Ot.getDeclaredResults()),alert(e.message)):alert(e.message)},className:"btn btn-warning",children:"Revert Declaration"})]}):(0,Lt.jsxs)("div",{className:"declaration-status",children:[(0,Lt.jsx)("span",{className:"status-badge not-declared",children:"\u26a0 Not Declared"}),(0,Lt.jsx)("button",{onClick:()=>{if(!o)return;const e=Ot.declareGroupResult(parseInt(o));e.success?(u(Ot.getDeclaredResults()),alert(e.message)):alert(e.message)},className:"btn btn-success",children:"Declare Result"})]})})]}),(0,Lt.jsxs)("div",{className:"podium-section",children:[(0,Lt.jsx)("h3",{children:"Top 3 Teams"}),(0,Lt.jsx)("div",{className:"podium",children:v.slice(0,3).map((e,t)=>(0,Lt.jsxs)("div",{className:"podium-card rank-".concat(e.rank),children:[(0,Lt.jsx)("div",{className:"rank-badge",children:e.rank}),(0,Lt.jsx)("div",{className:"medal",children:["\ud83e\udd47","\ud83e\udd48","\ud83e\udd49"][t]}),(0,Lt.jsx)("h4",{children:e.teamName}),(0,Lt.jsx)("p",{className:"section-name",children:e.sectionName}),(0,Lt.jsxs)("div",{className:"score-info",children:[(0,Lt.jsx)("div",{className:"score-value",children:e.averageScore.toFixed(2)}),(0,Lt.jsx)("div",{className:"score-label",children:"Average Score"})]}),(0,Lt.jsxs)("div",{className:"points-badge",children:[e.points," pts"]})]},e.teamId))})]}),(0,Lt.jsxs)("div",{className:"results-table-section",children:[(0,Lt.jsxs)("h3",{children:["All Teams - ",f(o)]}),(0,Lt.jsxs)("table",{className:"results-table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Rank"}),(0,Lt.jsx)("th",{children:"Team Name"}),(0,Lt.jsx)("th",{children:"Section"}),(0,Lt.jsx)("th",{children:"Participants"}),(0,Lt.jsx)("th",{children:"Average Score"}),(0,Lt.jsx)("th",{children:"Points"})]})}),(0,Lt.jsx)("tbody",{children:v.map(e=>(0,Lt.jsxs)("tr",{className:e.rank<=3?"top-".concat(e.rank):"",children:[(0,Lt.jsxs)("td",{className:"rank-cell",children:[(0,Lt.jsx)("span",{className:"rank-number",children:e.rank}),e.rank<=3&&(0,Lt.jsx)("span",{className:"medal-small",children:["\ud83e\udd47","\ud83e\udd48","\ud83e\udd49"][e.rank-1]})]}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{children:e.teamName})}),(0,Lt.jsx)("td",{children:e.sectionName}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("div",{className:"participants-list",children:e.participants.map((e,t)=>(0,Lt.jsx)("span",{className:"participant-tag",children:e},t))})}),(0,Lt.jsx)("td",{children:e.averageScore.toFixed(2)}),(0,Lt.jsx)("td",{children:e.points>0&&(0,Lt.jsxs)("span",{className:"points-badge rank-".concat(e.rank),children:[e.points," pts"]})})]},e.teamId))})]})]})]})]})]})},rn=()=>{const[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)([]),[i,a]=(0,r.useState)([]),[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)([]),[h,p]=(0,r.useState)([]),[f,m]=(0,r.useState)({individual:{first:5,second:3,third:1},group:{first:10,second:5,third:3}}),[g,v]=(0,r.useState)({}),[y,b]=(0,r.useState)({}),{user:w,logout:x}=Ft(),S=ke();(0,r.useEffect)(()=>{w&&"admin"===w.role?E():S("/admin/login")},[w,S]);const E=()=>{const e=Ot.getData();t(Ot.getEvents()),s(e.groupEvents||[]),a(Ot.getParticipants()),l(e.groupTeams||[]),u(Ot.getScores()),p(Ot.getSections()),m(e.pointsConfig||{individual:{first:5,second:3,third:1},group:{first:10,second:5,third:3}}),N(),k(e.groupEvents||[],e.groupTeams||[])},N=()=>{const e=Ot.getEvents(),t=Ot.getParticipants(),n=Ot.getScores(),r={};["Junior","Senior","Super Senior"].forEach(s=>{r[s]={},e.forEach(e=>{const i=t.filter(t=>{const n=t.eventIds||(t.eventId?[parseInt(t.eventId)]:[]);return t.ageCategory===s&&n.includes(e.id)}).map(t=>{const r=n.filter(n=>n.participantId===t.id&&n.eventId===e.id);if(0===r.length)return null;const s=r.reduce((e,t)=>e+t.totalScore,0),i=s/r.length;return d(d({},t),{},{averageScore:i,scoreCount:r.length})}).filter(e=>null!==e);i.sort((e,t)=>t.averageScore-e.averageScore),i.length>0&&(r[s][e.id]||(r[s][e.id]={eventName:e.name,top3:i.slice(0,3)}))})}),v(r)},k=(e,t)=>{const n={};e.forEach(e=>{const r=t.filter(t=>t.groupEventId===e.id).map(t=>{if(!t.scores||0===t.scores.length)return null;let n;if("quiz"===e.scoringType){var r;n=(null===(r=t.scores[0])||void 0===r?void 0:r.score)||0}else{const e=t.scores.reduce((e,t)=>e+(t.score||0),0);n=e/t.scores.length}return d(d({},t),{},{finalScore:n})}).filter(e=>null!==e);r.sort((e,t)=>t.finalScore-e.finalScore),r.length>0&&(n[e.id]={eventName:e.name,scoringType:e.scoringType,top3:r.slice(0,3)})}),b(n)},C=e=>{const t=h.find(t=>t.id===e);return t?t.name:"Unknown"},j=function(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?f.group:f.individual;return 0===e?t.first:1===e?t.second:2===e?t.third:0};return(0,Lt.jsxs)("div",{className:"printable-results-view",children:[(0,Lt.jsxs)("div",{className:"dashboard-header no-print",children:[(0,Lt.jsxs)("div",{children:[(0,Lt.jsx)("h1",{children:"\ud83d\udda8\ufe0f Printable Results Summary"}),(0,Lt.jsxs)("p",{children:["Admin: ",null===w||void 0===w?void 0:w.username]})]}),(0,Lt.jsxs)("div",{className:"header-actions",children:[(0,Lt.jsx)("button",{onClick:()=>{window.print()},className:"btn btn-primary",children:"\ud83d\udda8\ufe0f Print Results"}),(0,Lt.jsx)("button",{onClick:()=>{S("/admin/dashboard")},className:"btn btn-secondary",children:"Back to Dashboard"}),(0,Lt.jsx)("button",{onClick:()=>{x(),S("/admin/login")},className:"btn btn-secondary",children:"Logout"})]})]}),(0,Lt.jsxs)("div",{className:"print-content",children:[(0,Lt.jsxs)("div",{className:"print-header",children:[(0,Lt.jsx)("h1",{children:"Christ Soldiers Talent Test 2026"}),(0,Lt.jsx)("h2",{children:"Official Results Summary"}),(0,Lt.jsxs)("p",{className:"print-date",children:["Date: ",(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),(0,Lt.jsxs)("div",{className:"results-section",children:[(0,Lt.jsx)("h2",{className:"section-title",children:"Individual Events Results"}),["Junior","Senior","Super Senior"].map(e=>(0,Lt.jsxs)("div",{className:"category-section",children:[(0,Lt.jsxs)("h3",{className:"category-title",children:[e," Category"]}),g[e]&&Object.keys(g[e]).length>0?(0,Lt.jsx)("div",{className:"events-grid",children:Object.entries(g[e]).map(e=>{let[t,n]=e;return(0,Lt.jsxs)("div",{className:"event-results-card",children:[(0,Lt.jsx)("h4",{className:"event-name",children:n.eventName}),(0,Lt.jsxs)("table",{className:"results-table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Pos"}),(0,Lt.jsx)("th",{children:"Chest No"}),(0,Lt.jsx)("th",{children:"Name"}),(0,Lt.jsx)("th",{children:"Section"}),(0,Lt.jsx)("th",{children:"Score"}),(0,Lt.jsx)("th",{children:"Points"})]})}),(0,Lt.jsx)("tbody",{children:n.top3.map((e,t)=>(0,Lt.jsxs)("tr",{className:"position-".concat(t+1),children:[(0,Lt.jsxs)("td",{className:"position-cell",children:[0===t&&"\ud83e\udd47",1===t&&"\ud83e\udd48",2===t&&"\ud83e\udd49"]}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{children:e.chestNumber})}),(0,Lt.jsx)("td",{children:e.name}),(0,Lt.jsx)("td",{children:e.section}),(0,Lt.jsx)("td",{children:e.averageScore.toFixed(2)}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("span",{className:"points-badge",children:j(t,!1)})})]},e.id))})]})]},t)})}):(0,Lt.jsx)("p",{className:"no-results",children:"No results available for this category"})]},e))]}),(0,Lt.jsxs)("div",{className:"results-section",children:[(0,Lt.jsx)("h2",{className:"section-title",children:"Group Events Results"}),Object.keys(y).length>0?(0,Lt.jsx)("div",{className:"events-grid",children:Object.entries(y).map(e=>{let[t,n]=e;return(0,Lt.jsxs)("div",{className:"event-results-card",children:[(0,Lt.jsx)("h4",{className:"event-name",children:n.eventName}),(0,Lt.jsxs)("table",{className:"results-table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Pos"}),(0,Lt.jsx)("th",{children:"Chest No"}),(0,Lt.jsx)("th",{children:"Team Name"}),(0,Lt.jsx)("th",{children:"Section"}),(0,Lt.jsx)("th",{children:"Score"}),(0,Lt.jsx)("th",{children:"Points"})]})}),(0,Lt.jsx)("tbody",{children:n.top3.map((e,t)=>(0,Lt.jsxs)("tr",{className:"position-".concat(t+1),children:[(0,Lt.jsxs)("td",{className:"position-cell",children:[0===t&&"\ud83e\udd47",1===t&&"\ud83e\udd48",2===t&&"\ud83e\udd49"]}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("strong",{children:e.chestNumber})}),(0,Lt.jsx)("td",{children:e.teamName}),(0,Lt.jsx)("td",{children:C(e.sectionId)}),(0,Lt.jsx)("td",{children:e.finalScore.toFixed(2)}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("span",{className:"points-badge",children:j(t,!0)})})]},e.id))})]})]},t)})}):(0,Lt.jsx)("p",{className:"no-results",children:"No group events results available"})]}),(0,Lt.jsxs)("div",{className:"print-footer",children:[(0,Lt.jsx)("p",{children:"Christ Soldiers Talent Test Management System"}),(0,Lt.jsxs)("p",{children:["Official Document - Generated on ",(new Date).toLocaleString()]})]})]})]})},sn=()=>{const[e,t]=(0,r.useState)([]),[n,s]=(0,r.useState)([]),[i,a]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c]=(0,r.useState)(Ot.getSections()),[u]=(0,r.useState)(Ot.getEvents()),[h,p]=(0,r.useState)([]),[f,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)(null),[y,b]=(0,r.useState)([]),[w,x]=(0,r.useState)({name:"",age:"",gender:"",email:"",phone:"",eventIds:[],churchName:"",section:""}),{user:S,logout:E}=Ft(),N=ke();(0,r.useEffect)(()=>{S&&"admin"===S.role?k():N("/admin/login")},[S,N]);const k=()=>{const e=Ot.getParticipants();t(e),s(e)};(0,r.useEffect)(()=>{(()=>{let t=[...e];i&&(t=t.filter(e=>e.section===i)),o&&(t=t.filter(e=>e.churchName===o)),s(t)})()},[i,o,e]),(0,r.useEffect)(()=>{if(i){const e=c.find(e=>e.name===i);p(e?e.churches:[]),o&&e&&!e.churches.includes(o)&&l("")}else{const e=c.reduce((e,t)=>[...e,...t.churches],[]);p(e)}},[i,c,o]);const C=e=>{const{name:t,value:n,type:r,checked:s}=e.target;if("checkbox"===r&&"eventIds"===t){const e=parseInt(n),t=s?[...w.eventIds,e]:w.eventIds.filter(t=>t!==e);return void x(d(d({},w),{},{eventIds:t}))}const i=d(d({},w),{},{[t]:n});if("gender"===t){const e=w.eventIds.filter(e=>{const t=u.find(t=>t.id===e);return!!t&&("Solo Music (Male)"===t.name?"Male"===n:"Solo Music (Female)"!==t.name||"Female"===n)});i.eventIds=e}if(x(i),"section"===t){const e=Ot.getChurchesBySection(n);b(e),x(e=>d(d({},e),{},{section:n,churchName:""}))}},j=()=>{x({name:"",age:"",gender:"",email:"",phone:"",eventIds:[],churchName:"",section:""}),b([]),m(!1),v(null)},_=e=>{const t=Ot.getEvents();return(e.eventIds||(e.eventId?[parseInt(e.eventId)]:[])).map(e=>{const n=t.find(t=>t.id===e);return n?n.name:""}).filter(e=>e).join(", ")};return(0,Lt.jsxs)("div",{className:"participants-container",children:[(0,Lt.jsxs)("div",{className:"participants-header",children:[(0,Lt.jsx)("h1",{children:"Participants by Location"}),(0,Lt.jsxs)("div",{className:"header-actions",children:[(0,Lt.jsx)("button",{onClick:()=>N("/admin/dashboard"),className:"btn-secondary",children:"Back to Dashboard"}),(0,Lt.jsx)("button",{onClick:()=>{E(),N("/admin/login")},className:"btn-logout",children:"Logout"})]})]}),(0,Lt.jsxs)("div",{className:"filters-section",children:[(0,Lt.jsxs)("div",{className:"filter-group",children:[(0,Lt.jsx)("label",{children:"Section:"}),(0,Lt.jsxs)("select",{value:i,onChange:e=>a(e.target.value),className:"filter-select",children:[(0,Lt.jsx)("option",{value:"",children:"All Sections"}),c.map(e=>(0,Lt.jsx)("option",{value:e.name,children:e.name},e.name))]})]}),(0,Lt.jsxs)("div",{className:"filter-group",children:[(0,Lt.jsx)("label",{children:"Church:"}),(0,Lt.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"filter-select",children:[(0,Lt.jsx)("option",{value:"",children:"All Churches"}),h.map(e=>(0,Lt.jsx)("option",{value:e,children:e},e))]})]}),(0,Lt.jsxs)("div",{className:"filter-actions",children:[(i||o)&&(0,Lt.jsx)("button",{onClick:()=>{a(""),l("")},className:"btn-clear",children:"Clear Filters"}),(0,Lt.jsx)("button",{onClick:()=>{const e=window.open("","_blank"),t='\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Participants List</title>\n        <style>\n          body {\n            font-family: Arial, sans-serif;\n            padding: 20px;\n          }\n          h1 {\n            text-align: center;\n            color: #667eea;\n            margin-bottom: 10px;\n          }\n          .filter-info {\n            text-align: center;\n            margin-bottom: 20px;\n            color: #4a5568;\n          }\n          table {\n            width: 100%;\n            border-collapse: collapse;\n            margin-top: 20px;\n          }\n          th, td {\n            border: 1px solid #ddd;\n            padding: 8px;\n            text-align: left;\n          }\n          th {\n            background-color: #667eea;\n            color: white;\n          }\n          tr:nth-child(even) {\n            background-color: #f2f2f2;\n          }\n          .count {\n            margin-top: 20px;\n            font-weight: bold;\n            text-align: right;\n          }\n        </style>\n      </head>\n      <body>\n        <h1>Christ Soldiers Talent Test - Participants List</h1>\n        <div class="filter-info">\n          '.concat(i?"Section: ".concat(i):"All Sections","\n          ").concat(o?" | Church: ".concat(o):"","\n        </div>\n        <table>\n          <thead>\n            <tr>\n              <th>Chest No.</th>\n              <th>Name</th>\n              <th>Age</th>\n              <th>Category</th>\n              <th>Gender</th>\n              <th>Section</th>\n              <th>Church</th>\n              <th>Events</th>\n            </tr>\n          </thead>\n          <tbody>\n            ").concat(n.map(e=>"\n              <tr>\n                <td>".concat(e.chestNumber||"Not Assigned","</td>\n                <td>").concat(e.name,"</td>\n                <td>").concat(e.age,"</td>\n                <td>").concat(e.ageCategory,"</td>\n                <td>").concat(e.gender,"</td>\n                <td>").concat(e.section,"</td>\n                <td>").concat(e.churchName,"</td>\n                <td>").concat(_(e),"</td>\n              </tr>\n            ")).join(""),'\n          </tbody>\n        </table>\n        <div class="count">Total Participants: ').concat(n.length,"</div>\n      </body>\n      </html>\n    ");e.document.write(t),e.document.close(),e.print()},className:"btn-print",children:"Print List"})]})]}),(i||o)&&(0,Lt.jsxs)("div",{className:"active-filters",children:[(0,Lt.jsx)("span",{className:"filter-label",children:"Active Filters:"}),i&&(0,Lt.jsxs)("span",{className:"filter-tag",children:["Section: ",i,(0,Lt.jsx)("button",{onClick:()=>a(""),className:"remove-filter",children:"\xd7"})]}),o&&(0,Lt.jsxs)("span",{className:"filter-tag",children:["Church: ",o,(0,Lt.jsx)("button",{onClick:()=>l(""),className:"remove-filter",children:"\xd7"})]})]}),(0,Lt.jsxs)("div",{className:"action-bar",children:[(0,Lt.jsx)("button",{onClick:()=>{m(!f),f||v(null)},className:"btn-primary",children:f?"Cancel":"+ Add New Participant"}),(0,Lt.jsx)("button",{onClick:()=>{const t=e.filter(e=>!e.chestNumber).length;if(0!==t){if(window.confirm("Generate chest numbers for ".concat(t," participant(s)?\n\nChest numbers will be assigned by category:\n- Junior: J-001, J-002...\n- Intermediate: I-001, I-002...\n- Senior: S-001, S-002...\n- Super Senior: SS-001, SS-002..."))){const e=Ot.assignAllChestNumbers();alert("Successfully assigned ".concat(e," chest numbers!")),k()}}else alert("All participants already have chest numbers assigned!")},className:"btn-secondary",children:"Generate All Chest Numbers"})]}),f&&(0,Lt.jsxs)("div",{className:"participant-form-card",children:[(0,Lt.jsx)("h2",{children:g?"Edit Participant":"Add New Participant"}),(0,Lt.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t=parseInt(w.age),n=Ot.getAgeCategory(t);if(!n)return void alert("Age must be between 6 and 25 years");if(0===w.eventIds.length)return void alert("Please select at least one event");const r=d(d({},w),{},{age:t,ageCategory:n});g?(Ot.updateParticipant(g.id,r),v(null)):Ot.addParticipant(r),j(),k()},className:"participant-form",children:[(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"name",children:"Full Name *"}),(0,Lt.jsx)("input",{type:"text",id:"name",name:"name",value:w.name,onChange:C,required:!0})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"age",children:"Age *"}),(0,Lt.jsx)("input",{type:"number",id:"age",name:"age",value:w.age,onChange:C,min:"6",max:"25",required:!0})]})]}),(0,Lt.jsx)("div",{className:"form-row",children:(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"gender",children:"Gender *"}),(0,Lt.jsxs)("select",{id:"gender",name:"gender",value:w.gender,onChange:C,required:!0,children:[(0,Lt.jsx)("option",{value:"",children:"Select Gender"}),(0,Lt.jsx)("option",{value:"Male",children:"Male"}),(0,Lt.jsx)("option",{value:"Female",children:"Female"})]})]})}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{children:"Events * (Select one or more)"}),(0,Lt.jsx)("div",{className:"checkbox-group",children:u.map(e=>{const t="Solo Music (Male)"===e.name&&"Male"!==w.gender||"Solo Music (Female)"===e.name&&"Female"!==w.gender;return(0,Lt.jsxs)("label",{className:"checkbox-label ".concat(t?"disabled":""),title:t?"Select appropriate gender first":"",children:[(0,Lt.jsx)("input",{type:"checkbox",name:"eventIds",value:e.id,checked:w.eventIds.includes(e.id),onChange:C,disabled:t}),e.name]},e.id)})})]}),(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"email",children:"Email"}),(0,Lt.jsx)("input",{type:"email",id:"email",name:"email",value:w.email,onChange:C})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"phone",children:"Phone"}),(0,Lt.jsx)("input",{type:"tel",id:"phone",name:"phone",value:w.phone,onChange:C})]})]}),(0,Lt.jsxs)("div",{className:"form-row",children:[(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"section",children:"Section *"}),(0,Lt.jsxs)("select",{id:"section",name:"section",value:w.section,onChange:C,required:!0,children:[(0,Lt.jsx)("option",{value:"",children:"Select Section"}),c.map(e=>(0,Lt.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,Lt.jsxs)("div",{className:"form-group",children:[(0,Lt.jsx)("label",{htmlFor:"churchName",children:"Church Name *"}),(0,Lt.jsxs)("select",{id:"churchName",name:"churchName",value:w.churchName,onChange:C,required:!0,disabled:!w.section,children:[(0,Lt.jsx)("option",{value:"",children:w.section?"Select Church":"Select Section First"}),y.map((e,t)=>(0,Lt.jsx)("option",{value:e,children:e},t))]})]})]}),(0,Lt.jsxs)("div",{className:"form-actions",children:[(0,Lt.jsx)("button",{type:"submit",className:"btn btn-primary",children:g?"Update Participant":"Add Participant"}),(0,Lt.jsx)("button",{type:"button",onClick:j,className:"btn btn-secondary",children:"Cancel"})]})]})]}),(0,Lt.jsxs)("div",{className:"participants-stats",children:[(0,Lt.jsxs)("div",{className:"stat-card",children:[(0,Lt.jsx)("div",{className:"stat-number",children:n.length}),(0,Lt.jsx)("div",{className:"stat-label",children:"Total Participants"})]}),(0,Lt.jsxs)("div",{className:"stat-card",children:[(0,Lt.jsx)("div",{className:"stat-number",children:n.filter(e=>"Male"===e.gender).length}),(0,Lt.jsx)("div",{className:"stat-label",children:"Male"})]}),(0,Lt.jsxs)("div",{className:"stat-card",children:[(0,Lt.jsx)("div",{className:"stat-number",children:n.filter(e=>"Female"===e.gender).length}),(0,Lt.jsx)("div",{className:"stat-label",children:"Female"})]}),(0,Lt.jsxs)("div",{className:"stat-card",children:[(0,Lt.jsx)("div",{className:"stat-number",children:n.filter(e=>e.chestNumber).length}),(0,Lt.jsx)("div",{className:"stat-label",children:"With Chest Numbers"})]})]}),(0,Lt.jsx)("div",{className:"participants-table-container",children:(0,Lt.jsxs)("table",{className:"participants-table",children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Chest No."}),(0,Lt.jsx)("th",{children:"Name"}),(0,Lt.jsx)("th",{children:"Age"}),(0,Lt.jsx)("th",{children:"Category"}),(0,Lt.jsx)("th",{children:"Gender"}),(0,Lt.jsx)("th",{children:"Section"}),(0,Lt.jsx)("th",{children:"Church"}),(0,Lt.jsx)("th",{children:"Events"}),(0,Lt.jsx)("th",{children:"Contact"}),(0,Lt.jsx)("th",{children:"Actions"})]})}),(0,Lt.jsx)("tbody",{children:n.map(e=>(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:e.chestNumber?(0,Lt.jsx)("span",{className:"chest-number",children:e.chestNumber}):(0,Lt.jsx)("span",{className:"not-assigned",children:"Not Assigned"})}),(0,Lt.jsx)("td",{className:"participant-name",children:e.name}),(0,Lt.jsx)("td",{children:e.age}),(0,Lt.jsx)("td",{children:(0,Lt.jsx)("span",{className:"category-badge ".concat(e.ageCategory.toLowerCase().replace(" ","-")),children:e.ageCategory})}),(0,Lt.jsx)("td",{children:e.gender}),(0,Lt.jsx)("td",{children:e.section}),(0,Lt.jsx)("td",{children:e.churchName}),(0,Lt.jsx)("td",{className:"events-cell",children:_(e)}),(0,Lt.jsxs)("td",{className:"contact-cell",children:[(0,Lt.jsx)("div",{children:e.email}),(0,Lt.jsx)("div",{children:e.phone})]}),(0,Lt.jsxs)("td",{className:"actions-cell",children:[(0,Lt.jsx)("button",{onClick:()=>(e=>{v(e);const t=e.section||"",n=Ot.getChurchesBySection(t);b(n);const r=e.eventIds?e.eventIds:e.eventId?[parseInt(e.eventId)]:[];x({name:e.name,age:e.age.toString(),gender:e.gender,email:e.email,phone:e.phone,eventIds:r,churchName:e.churchName,section:t}),m(!0),window.scrollTo({top:0,behavior:"smooth"})})(e),className:"btn-edit",title:"Edit participant",children:"Edit"}),(0,Lt.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this participant?")&&(Ot.deleteParticipant(t),k()));var t},className:"btn-delete",title:"Delete participant",children:"Delete"}),e.chestNumber?(0,Lt.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to remove the chest number?")&&(Ot.removeChestNumber(t),k()));var t},className:"btn-remove",title:"Remove chest number",children:"Remove #"}):(0,Lt.jsx)("button",{onClick:()=>(e=>{const t=Ot.assignChestNumber(e);t&&(alert("Chest number ".concat(t," assigned successfully!")),k())})(e.id),className:"btn-assign",title:"Assign chest number",children:"Assign #"})]})]},e.id))})]})})]})},an=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):55296===(64512&s)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++r)),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},on={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<e.length;s+=3){const t=e[s],i=s+1<e.length,a=i?e[s+1]:0,o=s+2<e.length,l=o?e[s+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,i||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(an(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const s=e[n++];if(s<128)t[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=e[n++];t[r++]=String.fromCharCode((31&s)<<6|63&i)}else if(s>239&&s<365){const i=((7&s)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&s)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<e.length;){const t=n[e.charAt(s++)],i=s<e.length?n[e.charAt(s)]:0;++s;const a=s<e.length?n[e.charAt(s)]:64;++s;const o=s<e.length?n[e.charAt(s)]:64;if(++s,null==t||null==i||null==a||null==o)throw new ln;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ln extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cn=function(e){return function(e){const t=an(e);return on.encodeByteArray(t,!0)}(e).replace(/\./g,"")},un=function(e){try{return on.decodeString(e,!0)}catch(qv){console.error("base64Decode failed: ",qv)}return null};function dn(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const hn=()=>{try{return dn().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/christ-soldiers-talent-test",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAxwFc_XR_jmG-jX6E9_U2daboR6x4RdCA",REACT_APP_FIREBASE_AUTH_DOMAIN:"cag-kazhakkuttom-portal.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"cag-kazhakkuttom-portal",REACT_APP_FIREBASE_STORAGE_BUCKET:"cag-kazhakkuttom-portal.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"565010704296",REACT_APP_FIREBASE_APP_ID:"1:565010704296:web:7403b582933320f6f71f9d",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-SSEHMFVWHY"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(qv){return}const t=e&&un(e[1]);return t&&JSON.parse(t)})()}catch(qv){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(qv))}},pn=e=>{var t;return null===(t=hn())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},fn=()=>{var e;return null===(e=hn())||void 0===e?void 0:e.config},mn=e=>{var t;return null===(t=hn())||void 0===t?void 0:t["_".concat(e)]};class gn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function vn(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function yn(e){return(await fetch(e,{credentials:"include"})).ok}const bn={};let wn=!1;function xn(e,t){if("undefined"===typeof window||"undefined"===typeof document||!vn(window.location.host)||bn[e]===t||bn[e]||wn)return;function n(e){return"__firebase__banner__".concat(e)}bn[e]=t;const r="__firebase__banner",s=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(bn))bn[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{wn=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}s?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function Sn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function En(){var e;const t=null===(e=hn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(qv){return!1}}function Nn(){return!En()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kn(){try{return"object"===typeof indexedDB}catch(qv){return!1}}class Cn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Cn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jn.prototype.create)}}class jn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],s=r?function(e,t){return e.replace(_n,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(s," (").concat(n,").");return new Cn(n,i,t)}}const _n=/\{\$([^}]+)}/g;function Tn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const s of n){if(!r.includes(s))return!1;const n=e[s],i=t[s];if(In(n)&&In(i)){if(!Tn(n,i))return!1}else if(n!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function In(e){return null!==e&&"object"===typeof e}function An(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Pn(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Rn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Dn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=On),void 0===r.error&&(r.error=On),void 0===r.complete&&(r.complete=On);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(qv){}}),this.observers.push(r),s}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(qv){"undefined"!==typeof console&&console.error&&console.error(qv)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function On(){}function Ln(e){return e&&e._delegate?e._delegate:e}class Mn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fn="[DEFAULT]";class Un{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new gn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(qv){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(qv){if(r)return null;throw qv}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Fn})}catch(qv){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(qv){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(s)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),s=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=t,s===Fn?void 0:s),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var s;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn;return this.component?this.component.multipleInstances?e:Fn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Vn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Un(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const zn=[];var Bn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Bn||(Bn={}));const qn={debug:Bn.DEBUG,verbose:Bn.VERBOSE,info:Bn.INFO,warn:Bn.WARN,error:Bn.ERROR,silent:Bn.SILENT},Gn=Bn.INFO,Hn={[Bn.DEBUG]:"log",[Bn.VERBOSE]:"log",[Bn.INFO]:"info",[Bn.WARN]:"warn",[Bn.ERROR]:"error"},Wn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Hn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class Kn{constructor(e){this.name=e,this._logLevel=Gn,this._logHandler=Wn,this._userLogHandler=null,zn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Bn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?qn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.DEBUG,...t),this._logHandler(this,Bn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.VERBOSE,...t),this._logHandler(this,Bn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.INFO,...t),this._logHandler(this,Bn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.WARN,...t),this._logHandler(this,Bn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Bn.ERROR,...t),this._logHandler(this,Bn.ERROR,...t)}}let Jn,Qn;const Yn=new WeakMap,$n=new WeakMap,Xn=new WeakMap,Zn=new WeakMap,er=new WeakMap;let tr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $n.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function nr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Qn||(Qn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ir(this),n),sr(Yn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return sr(e.apply(ir(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];const i=e.call(ir(this),t,...r);return Xn.set(i,t.sort?t.sort():[t]),sr(i)}}function rr(e){return"function"===typeof e?nr(e):(e instanceof IDBTransaction&&function(e){if($n.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});$n.set(e,t)}(e),t=e,(Jn||(Jn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,tr):e);var t}function sr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{t(sr(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&Yn.set(t,e)}).catch(()=>{}),er.set(t,e),t}(e);if(Zn.has(e))return Zn.get(e);const t=rr(e);return t!==e&&(Zn.set(e,t),er.set(t,e)),t}const ir=e=>er.get(e);const ar=["get","getKey","getAll","getAllKeys","count"],or=["put","add","delete","clear"],lr=new Map;function cr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(lr.get(t))return lr.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,s=or.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!s&&!ar.includes(n))return;const i=async function(e){const t=this.transaction(e,s?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(i=i.index(o.shift())),(await Promise.all([i[n](...o),s&&t.done]))[0]};return lr.set(t,i),i}tr=(e=>d(d({},e),{},{get:(t,n,r)=>cr(t,n)||e.get(t,n,r),has:(t,n)=>!!cr(t,n)||e.has(t,n)}))(tr);class ur{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const dr="@firebase/app",hr="0.14.6",pr=new Kn("@firebase/app"),fr="@firebase/app-compat",mr="@firebase/analytics-compat",gr="@firebase/analytics",vr="@firebase/app-check-compat",yr="@firebase/app-check",br="@firebase/auth",wr="@firebase/auth-compat",xr="@firebase/database",Sr="@firebase/data-connect",Er="@firebase/database-compat",Nr="@firebase/functions",kr="@firebase/functions-compat",Cr="@firebase/installations",jr="@firebase/installations-compat",_r="@firebase/messaging",Tr="@firebase/messaging-compat",Ir="@firebase/performance",Ar="@firebase/performance-compat",Pr="@firebase/remote-config",Rr="@firebase/remote-config-compat",Dr="@firebase/storage",Or="@firebase/storage-compat",Lr="@firebase/firestore",Mr="@firebase/ai",Fr="@firebase/firestore-compat",Ur="firebase",Vr="[DEFAULT]",zr={[dr]:"fire-core",[fr]:"fire-core-compat",[gr]:"fire-analytics",[mr]:"fire-analytics-compat",[yr]:"fire-app-check",[vr]:"fire-app-check-compat",[br]:"fire-auth",[wr]:"fire-auth-compat",[xr]:"fire-rtdb",[Sr]:"fire-data-connect",[Er]:"fire-rtdb-compat",[Nr]:"fire-fn",[kr]:"fire-fn-compat",[Cr]:"fire-iid",[jr]:"fire-iid-compat",[_r]:"fire-fcm",[Tr]:"fire-fcm-compat",[Ir]:"fire-perf",[Ar]:"fire-perf-compat",[Pr]:"fire-rc",[Rr]:"fire-rc-compat",[Dr]:"fire-gcs",[Or]:"fire-gcs-compat",[Lr]:"fire-fst",[Fr]:"fire-fst-compat",[Mr]:"fire-vertex","fire-js":"fire-js",[Ur]:"fire-js-all"},Br=new Map,qr=new Map,Gr=new Map;function Hr(e,t){try{e.container.addComponent(t)}catch(qv){pr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),qv)}}function Wr(e){const t=e.name;if(Gr.has(t))return pr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Gr.set(t,e);for(const n of Br.values())Hr(n,e);for(const n of qr.values())Hr(n,e);return!0}function Kr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Jr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Qr=new jn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Yr{constructor(e,t,n){this._isDeleted=!1,this._options=d({},e),this._config=d({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}const $r="12.6.0";function Xr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=d({name:Vr,automaticDataCollectionEnabled:!0},t),s=r.name;if("string"!==typeof s||!s)throw Qr.create("bad-app-name",{appName:String(s)});if(n||(n=fn()),!n)throw Qr.create("no-options");const i=Br.get(s);if(i){if(Tn(n,i.options)&&Tn(r,i.config))return i;throw Qr.create("duplicate-app",{appName:s})}const a=new Vn(s);for(const l of Gr.values())a.addComponent(l);const o=new Yr(n,r,a);return Br.set(s,o),o}function Zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vr;const t=Br.get(e);if(!t&&e===Vr&&fn())return Xr();if(!t)throw Qr.create("no-app",{appName:e});return t}function es(e,t,n){var r;let s=null!==(r=zr[e])&&void 0!==r?r:e;n&&(s+="-".concat(n));const i=s.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void pr.warn(e.join(" "))}Wr(new Mn("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const ts="firebase-heartbeat-store";let ns=null;function rs(){return ns||(ns=function(e,t){let{blocked:n,upgrade:r,blocking:s,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=sr(a);return r&&a.addEventListener("upgradeneeded",e=>{r(sr(a.result),e.oldVersion,e.newVersion,sr(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{i&&e.addEventListener("close",()=>i()),s&&e.addEventListener("versionchange",e=>s(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ts)}catch(qv){console.warn(qv)}}}).catch(e=>{throw Qr.create("idb-open",{originalErrorMessage:e.message})})),ns}async function ss(e,t){try{const n=(await rs()).transaction(ts,"readwrite"),r=n.objectStore(ts);await r.put(t,is(e)),await n.done}catch(qv){if(qv instanceof Cn)pr.warn(qv.message);else{const t=Qr.create("idb-set",{originalErrorMessage:null===qv||void 0===qv?void 0:qv.message});pr.warn(t.message)}}}function is(e){return"".concat(e.name,"!").concat(e.options.appId)}class as{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ls(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=os();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(qv){pr.warn(qv)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=os(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const s of e){const e=n.find(e=>e.agent===s.agent);if(e){if(e.dates.push(s.date),cs(n)>t){e.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),cs(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),s=cn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(qv){return pr.warn(qv),""}}}function os(){return(new Date).toISOString().substring(0,10)}class ls{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!kn()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var e;t((null===(e=s.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await rs()).transaction(ts),n=await t.objectStore(ts).get(is(e));return await t.done,n}catch(qv){if(qv instanceof Cn)pr.warn(qv.message);else{const t=Qr.create("idb-get",{originalErrorMessage:null===qv||void 0===qv?void 0:qv.message});pr.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ss(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ss(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function cs(e){return cn(JSON.stringify({version:2,heartbeats:e})).length}var us;us="",Wr(new Mn("platform-logger",e=>new ur(e),"PRIVATE")),Wr(new Mn("heartbeat",e=>new as(e),"PRIVATE")),es(dr,hr,us),es(dr,hr,"esm2020"),es("fire-js","");es("firebase","12.7.0","app");var ds,hs,ps="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},fs={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var s=0;s<16;++s)r[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;s<16;++s)r[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];let i,a=e.g[3];i=t+(a^n&(s^a))+r[0]+3614090360&4294967295,i=a+(s^(t=n+(i<<7&4294967295|i>>>25))&(n^s))+r[1]+3905402710&4294967295,a=t+(i<<12&4294967295|i>>>20),i=s+(n^a&(t^n))+r[2]+606105819&4294967295,i=n+(t^(s=a+(i<<17&4294967295|i>>>15))&(a^t))+r[3]+3250441966&4294967295,i=t+(a^(n=s+(i<<22&4294967295|i>>>10))&(s^a))+r[4]+4118548399&4294967295,i=a+(s^(t=n+(i<<7&4294967295|i>>>25))&(n^s))+r[5]+1200080426&4294967295,a=t+(i<<12&4294967295|i>>>20),i=s+(n^a&(t^n))+r[6]+2821735955&4294967295,i=n+(t^(s=a+(i<<17&4294967295|i>>>15))&(a^t))+r[7]+4249261313&4294967295,i=t+(a^(n=s+(i<<22&4294967295|i>>>10))&(s^a))+r[8]+1770035416&4294967295,i=a+(s^(t=n+(i<<7&4294967295|i>>>25))&(n^s))+r[9]+2336552879&4294967295,a=t+(i<<12&4294967295|i>>>20),i=s+(n^a&(t^n))+r[10]+4294925233&4294967295,i=n+(t^(s=a+(i<<17&4294967295|i>>>15))&(a^t))+r[11]+2304563134&4294967295,i=t+(a^(n=s+(i<<22&4294967295|i>>>10))&(s^a))+r[12]+1804603682&4294967295,i=a+(s^(t=n+(i<<7&4294967295|i>>>25))&(n^s))+r[13]+4254626195&4294967295,a=t+(i<<12&4294967295|i>>>20),i=s+(n^a&(t^n))+r[14]+2792965006&4294967295,i=n+(t^(s=a+(i<<17&4294967295|i>>>15))&(a^t))+r[15]+1236535329&4294967295,i=t+(s^a&((n=s+(i<<22&4294967295|i>>>10))^s))+r[1]+4129170786&4294967295,i=a+(n^s&((t=n+(i<<5&4294967295|i>>>27))^n))+r[6]+3225465664&4294967295,a=t+(i<<9&4294967295|i>>>23),i=s+(t^n&(a^t))+r[11]+643717713&4294967295,i=n+(a^t&((s=a+(i<<14&4294967295|i>>>18))^a))+r[0]+3921069994&4294967295,i=t+(s^a&((n=s+(i<<20&4294967295|i>>>12))^s))+r[5]+3593408605&4294967295,i=a+(n^s&((t=n+(i<<5&4294967295|i>>>27))^n))+r[10]+38016083&4294967295,a=t+(i<<9&4294967295|i>>>23),i=s+(t^n&(a^t))+r[15]+3634488961&4294967295,i=n+(a^t&((s=a+(i<<14&4294967295|i>>>18))^a))+r[4]+3889429448&4294967295,i=t+(s^a&((n=s+(i<<20&4294967295|i>>>12))^s))+r[9]+568446438&4294967295,i=a+(n^s&((t=n+(i<<5&4294967295|i>>>27))^n))+r[14]+3275163606&4294967295,a=t+(i<<9&4294967295|i>>>23),i=s+(t^n&(a^t))+r[3]+4107603335&4294967295,i=n+(a^t&((s=a+(i<<14&4294967295|i>>>18))^a))+r[8]+1163531501&4294967295,i=t+(s^a&((n=s+(i<<20&4294967295|i>>>12))^s))+r[13]+2850285829&4294967295,i=a+(n^s&((t=n+(i<<5&4294967295|i>>>27))^n))+r[2]+4243563512&4294967295,a=t+(i<<9&4294967295|i>>>23),i=s+(t^n&(a^t))+r[7]+1735328473&4294967295,i=n+(a^t&((s=a+(i<<14&4294967295|i>>>18))^a))+r[12]+2368359562&4294967295,i=t+((n=s+(i<<20&4294967295|i>>>12))^s^a)+r[5]+4294588738&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^s)+r[8]+2272392833&4294967295,a=t+(i<<11&4294967295|i>>>21),i=s+(a^t^n)+r[11]+1839030562&4294967295,i=n+((s=a+(i<<16&4294967295|i>>>16))^a^t)+r[14]+4259657740&4294967295,i=t+((n=s+(i<<23&4294967295|i>>>9))^s^a)+r[1]+2763975236&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^s)+r[4]+1272893353&4294967295,a=t+(i<<11&4294967295|i>>>21),i=s+(a^t^n)+r[7]+4139469664&4294967295,i=n+((s=a+(i<<16&4294967295|i>>>16))^a^t)+r[10]+3200236656&4294967295,i=t+((n=s+(i<<23&4294967295|i>>>9))^s^a)+r[13]+681279174&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^s)+r[0]+3936430074&4294967295,a=t+(i<<11&4294967295|i>>>21),i=s+(a^t^n)+r[3]+3572445317&4294967295,i=n+((s=a+(i<<16&4294967295|i>>>16))^a^t)+r[6]+76029189&4294967295,i=t+((n=s+(i<<23&4294967295|i>>>9))^s^a)+r[9]+3654602809&4294967295,i=a+((t=n+(i<<4&4294967295|i>>>28))^n^s)+r[12]+3873151461&4294967295,a=t+(i<<11&4294967295|i>>>21),i=s+(a^t^n)+r[15]+530742520&4294967295,i=n+((s=a+(i<<16&4294967295|i>>>16))^a^t)+r[2]+3299628645&4294967295,i=t+(s^((n=s+(i<<23&4294967295|i>>>9))|~a))+r[0]+4096336452&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~s))+r[7]+1126891415&4294967295,a=t+(i<<10&4294967295|i>>>22),i=s+(t^(a|~n))+r[14]+2878612391&4294967295,i=n+(a^((s=a+(i<<15&4294967295|i>>>17))|~t))+r[5]+4237533241&4294967295,i=t+(s^((n=s+(i<<21&4294967295|i>>>11))|~a))+r[12]+1700485571&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~s))+r[3]+2399980690&4294967295,a=t+(i<<10&4294967295|i>>>22),i=s+(t^(a|~n))+r[10]+4293915773&4294967295,i=n+(a^((s=a+(i<<15&4294967295|i>>>17))|~t))+r[1]+2240044497&4294967295,i=t+(s^((n=s+(i<<21&4294967295|i>>>11))|~a))+r[8]+1873313359&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~s))+r[15]+4264355552&4294967295,a=t+(i<<10&4294967295|i>>>22),i=s+(t^(a|~n))+r[6]+2734768916&4294967295,i=n+(a^((s=a+(i<<15&4294967295|i>>>17))|~t))+r[13]+1309151649&4294967295,i=t+(s^((n=s+(i<<21&4294967295|i>>>11))|~a))+r[4]+4149444226&4294967295,i=a+(n^((t=n+(i<<6&4294967295|i>>>26))|~s))+r[11]+3174756917&4294967295,a=t+(i<<10&4294967295|i>>>22),i=s+(t^(a|~n))+r[2]+718787259&4294967295,i=n+(a^((s=a+(i<<15&4294967295|i>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(i<<21&4294967295|i>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let s=e.length-1;s>=0;s--){const i=0|e[s];r&&i==t||(n[s]=i,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,s=this.C;let i=this.h,a=0;for(;a<t;){if(0==i)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(s[i++]=e.charCodeAt(a++),i==this.blockSize){n(this,s),i=0;break}}else for(;a<t;)if(s[i++]=e[a++],i==this.blockSize){n(this,s),i=0;break}}this.h=i,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var s={};function i(e){return-128<=e&&e<128?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return h(a(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var o=i(0),l=i(1),c=i(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var s=y(n,1),i=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=i.add(r);c.l(e)<=0&&(s=s.add(n),i=c),r=y(r,1),n=y(n,1)}return t=p(e,s.j(t)),new m(s,t)}for(s=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(i=a(n)).j(t);d(c)||c.l(e)>0;)c=(i=a(n-=r)).j(t);u(i)&&(i=l),s=s.add(i),e=p(e,c)}return new m(s,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const s=e.g.length-n,i=[];for(let r=0;r<s;r++)i[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(i,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=a(Math.pow(e,6));var n=this;let r="";for(;;){const s=g(n,t).g;let i=(((n=p(n,s.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=s))return i+r;for(;i.length<6;)i="0"+i;r=i+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let s=0;for(let r=0;r<=t;r++){let t=s+(65535&this.i(r))+(65535&e.i(r)),i=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);s=i>>>16,t&=65535,i&=65535,n[r]=i<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return a(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var s=0;s<2*t;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(let t=0;t<e.g.length;t++){const r=this.i(s)>>>16,i=65535&this.i(s),a=e.i(t)>>>16,o=65535&e.i(t);n[2*s+2*t]+=i*o,f(n,2*s+2*t),n[2*s+2*t+1]+=r*o,f(n,2*s+2*t+1),n[2*s+2*t+1]+=i*a,f(n,2*s+2*t+1),n[2*s+2*t+2]+=r*a,f(n,2*s+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,hs=fs.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=a(Math.pow(n,8));let s=o;for(let o=0;o<t.length;o+=8){var i=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+i),n);i<8?(i=a(Math.pow(n,i)),s=s.j(i).add(a(e))):(s=s.j(r),s=s.add(a(e)))}return s},ds=fs.Integer=r}).apply("undefined"!==typeof ps?ps:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var ms,gs,vs,ys,bs,ws,xs,Ss,Es="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ns={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Es&&Es];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var s=n;e=e.split(".");for(var i=0;i<e.length-1;i++){var a=e[i];if(!(a in s))break e;s=s[a]}(r=r(i=s[e=e[e.length-1]]))!=i&&null!=r&&t(s,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var s=s||{},i=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var s=Array(arguments.length-2),i=2;i<arguments.length;i++)s[i-2]=arguments[i];return t.prototype[n].apply(e,s)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let s=0;s<r;s++)e[n+s]=t[s]}else e.push(t)}}function f(e){i.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(S)}};function S(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){f(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function E(){this.u=this.u,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}E.prototype.u=!1,E.prototype.dispose=function(){this.u||(this.u=!0,this.N())},E.prototype[Symbol.dispose]=function(){this.dispose()},E.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function C(e){return/^[\s\xa0]*$/.test(e)}function j(e,t){N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(j,N),j.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&j.Z.h.call(this)},j.prototype.h=function(){j.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var _="closure_listenable_"+(1e6*Math.random()|0),T=0;function I(e,t,n,r,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=s,this.key=++T,this.da=this.fa=!1}function A(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function P(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let n,r;for(let s=1;s<arguments.length;s++){for(n in r=arguments[s],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){this.src=e,this.g={},this.h=0}function M(e,t){const n=t.type;if(n in e.g){var r,s=e.g[n],i=Array.prototype.indexOf.call(s,t,void 0);(r=i>=0)&&Array.prototype.splice.call(s,i,1),r&&(A(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let s=0;s<e.length;++s){const i=e[s];if(!i.da&&i.listener==t&&i.capture==!!n&&i.ha==r)return s}return-1}L.prototype.add=function(e,t,n,r,s){const i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);const a=F(e,t,r,s);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new I(t,this.src,i,!!r,s)).fa=n,e.push(t)),t};var U="closure_lm_"+(1e6*Math.random()|0),V={};function z(e,t,n,r,s){if(r&&r.once)return q(e,t,n,r,s);if(Array.isArray(t)){for(let i=0;i<t.length;i++)z(e,t[i],n,r,s);return null}return n=Y(n),e&&e[_]?e.J(t,n,a(r)?!!r.capture:!!r,s):B(e,t,n,!1,r,s)}function B(e,t,n,r,s,i){if(!t)throw Error("Invalid event type");const o=a(s)?!!s.capture:!!s;let l=J(e);if(l||(e[U]=l=new L(e)),(n=l.add(t,n,r,o,i)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=K;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)k||(s=o),void 0===s&&(s=!1),e.addEventListener(t.toString(),r,s);else if(e.attachEvent)e.attachEvent(W(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,s){if(Array.isArray(t)){for(let i=0;i<t.length;i++)q(e,t[i],n,r,s);return null}return n=Y(n),e&&e[_]?e.K(t,n,a(r)?!!r.capture:!!r,s):B(e,t,n,!0,r,s)}function G(e,t,n,r,s){if(Array.isArray(t))for(var i=0;i<t.length;i++)G(e,t[i],n,r,s);else r=a(r)?!!r.capture:!!r,n=Y(n),e&&e[_]?(e=e.i,(i=String(t).toString())in e.g&&((n=F(t=e.g[i],n,r,s))>-1&&(A(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[i],e.h--)))):e&&(e=J(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,s)),(n=e>-1?t[e]:null)&&H(n))}function H(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[_])M(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(W(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=J(t))?(M(n,e),0==n.h&&(n.src=null,t[U]=null)):A(e)}}}function W(e){return e in V?V[e]:V[e]="on"+e}function K(e,t){if(e.da)e=!0;else{t=new j(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&H(e),e=n.call(r,t)}return e}function J(e){return(e=e[U])instanceof L?e:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function Y(e){return"function"===typeof e?e:(e[Q]||(e[Q]=function(t){return e.handleEvent(t)}),e[Q])}function $(){E.call(this),this.i=new L(this),this.M=this,this.G=null}function X(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var s=t;O(t=new N(r,e),s)}let i,a;if(s=!0,n)for(a=n.length-1;a>=0;a--)i=t.g=n[a],s=Z(i,r,!0,t)&&s;if(i=t.g=e,s=Z(i,r,!0,t)&&s,s=Z(i,r,!1,t)&&s,n)for(a=0;a<n.length;a++)i=t.g=n[a],s=Z(i,r,!1,t)&&s}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let s=!0;for(let i=0;i<t.length;++i){const a=t[i];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&M(e.i,a),s=!1!==t.call(n,r)&&s}}return s&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:i.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,E),$.prototype[_]=!0,$.prototype.removeEventListener=function(e,t,n,r){G(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)A(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends E{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){E.call(this),this.h=e,this.g={}}u(ne,E);var re=[];function se(e){P(e.g,function(e,t){this.g.hasOwnProperty(t)&&H(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),se(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ie=i.JSON.stringify,ae=i.JSON.parse,oe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){N.call(this,"d")}function he(){N.call(this,"c")}u(de,N),u(he,N);var pe={},fe=null;function me(){return fe=fe||new $}function ge(e){N.call(this,pe.Ia,e)}function ve(e){const t=me();X(t,new ge(t))}function ye(e,t){N.call(this,pe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();X(t,new ye(t,e))}function we(e,t){N.call(this,pe.Ja,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Se(){this.g=!0}function Ee(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const i=JSON.parse(t);if(i)for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var n=i[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(let e=1;e<r.length;e++)r[e]=""}}}return ie(i)}catch(i){return t}}(e,n)+(r?" "+r:"")})}pe.Ia="serverreachability",u(ge,N),pe.STAT_EVENT="statevent",u(ye,N),pe.Ja="timingevent",u(we,N),Se.prototype.ua=function(){this.g=!1},Se.prototype.info=function(){};var Ne,ke={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ce={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function je(){}function _e(e){return encodeURIComponent(String(e))}function Te(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ie(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}u(je,le),je.prototype.g=function(){return new XMLHttpRequest},Ne=new je;var Pe={},Re={};function De(e,t,n){e.M=1,e.A=it(et(t)),e.u=n,e.R=!0,Oe(e,null)}function Oe(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ae,e.g=an(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var s="readystatechange";Array.isArray(s)||(s&&(re[0]=s.toString()),s=re);for(let i=0;i<s.length;i++){const e=z(n,s[i],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?R(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,s,i){e.info(function(){if(e.g)if(i){var a="",o=i.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Le(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Me(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?Pe:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,Ue(e,e.H)}function Ue(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=xe(l(e.aa,e),t)}function Ve(e){e.D&&(i.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ve(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,se(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Je(n.h,e)))if(!e.L&&Je(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}Yt(n),be(18)}}else n.xa=s[1],0<n.xa-n.K&&s[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=xe(l(n.Va,n),6e3));Ke(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!C(t))for(s=n.Ba.g.parse(t),t=0;t<s.length;t++){let l=s[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const s=l[4];null!=s&&(n.za=s,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var i=r.h;i.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(i.j=i.l,i.g=new Set,i.h&&(Qe(i,i.h),i.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,st(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((r=n).na=sn(r,r.L?r.ba:null,r.W),a.L){Ye(r.h,a);var o=a,c=r.O;c&&(o.H=c),o.D&&(Ve(o),Fe(o)),r.g=a}else Qt(r);n.i.length>0&&Ht(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Ie.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},Ie.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ft(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ut(this.g)))){this.K||4!=l||7==c||ve(),Ve(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Le(e))return e.g.la();const t=Ut(e.g);if(""===t)return"";let n="";const r=t.length,s=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),ze(e),"";e.h.i=new i.TextDecoder}for(let i=0;i<r;i++)e.h.h=!0,n+=e.h.i.decode(t[i],{stream:!(s&&i==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,s,i,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+t+"\n"+n+"\n"+i+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,s=this.g;if((r=s.g?s.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(r)){var a=r;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,be(12),Be(this),ze(this);break e}Ee(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Me(this,n),t==Re){4==l&&(this.m=4,be(14),e=!1),Ee(this.i,this.l,null,"[Incomplete Response]");break}if(t==Pe){this.m=4,be(15),Ee(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}Ee(this.i,this.l,t,null),qe(this,t)}if(Le(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$t(o),o.P=!0,be(11))}}else Ee(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),ze(this)}else Ee(this.i,this.l,n,null),qe(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(C(e[r]))continue;var n=Te(e[r]);const s=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const i=t[s]||[];t[s]=i,i.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),ze(this)}}}catch(si){}},Ie.prototype.cancel=function(){this.K=!0,Be(this)},Ie.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),be(17)),Be(this),this.m=2,ze(this)):Ue(this,this.T-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function He(e){this.l=e||10,i.PerformanceNavigationTiming?e=(e=i.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function We(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ke(e){return e.h?1:e.g?e.g.size:0}function Je(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qe(e,t){e.g?e.g.add(t):e.h=t}function Ye(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}He.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Xe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Xe))?(this.l=!1,tt(this,t[1]||"",!0),this.o=at(t[2]||""),this.g=at(t[3]||"",!0),nt(this,t[4]),this.h=at(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=at(t[7]||"")):(this.l=!1,this.i=new ft(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?at(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof ft?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=ot(t,ht)),e.i=new ft(t,e.l))}function st(e,t,n){e.i.set(t,n)}function it(e){return st(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function at(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ot(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(ot(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ot(t,ct,!0),"@"),e.push(_e(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ot(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ot(n,pt)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var s=t.h.lastIndexOf("/");-1!=s&&(r=t.h.slice(0,s+1)+r)}if(".."==(s=r)||"."==s)r="";else if(-1!=s.indexOf("./")||-1!=s.indexOf("/.")){r=0==s.lastIndexOf("/",0),s=s.split("/");const e=[];for(let t=0;t<s.length;){const n=s[t++];"."==n?r&&t==s.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==s.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=s}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,pt=/#/g;function ft(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let s,i=null;r>=0?(s=e[n].substring(0,r),i=e[n].substring(r+1)):s=e[n],t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=xt(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(xt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(xt(e,t),h(n)),e.h+=n.length)}function wt(e){const t=new ft;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,s){try{s&&(s.onload=null,s.onerror=null,s.onabort=null,s.ontimeout=null),r(n)}catch(i){}}function Et(){this.g=new oe}function Nt(e){this.i=e.Sb||null,this.h=e.ab||!1}function kt(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ct(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function jt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,_t(e)}function _t(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Tt(e){let t="";return P(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function It(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Tt(n),"string"===typeof e?null!=n&&_e(n):st(e,t,n))}function At(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=ft.prototype).add=function(e,t){mt(this),this.i=null,e=xt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const s=_e(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=s;""!==n[t]&&(r+="="+_e(n[t])),e.push(r)}}return this.i=e.join("&")},u(Nt,le),Nt.prototype.g=function(){return new kt(this.i,this.h)},u(kt,$),(e=kt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,_t(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||i).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,jt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_t(this)),this.g&&(this.readyState=3,_t(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ct(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?jt(this):_t(this),3==this.readyState&&Ct(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,jt(this))},e.Na=function(e){this.g&&(this.response=e,jt(this))},e.ga=function(){this.g&&jt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(At,$);var Pt=/^https?$/i,Rt=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Ot(e),Mt(e)}function Ot(e){e.A||(e.A=!0,X(e,"complete"),X(e,"error"))}function Lt(e){if(e.h&&"undefined"!=typeof s)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if(X(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const s=e.ca();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){let t=String(e.D).match(Xe)[1]||null;!t&&i.self&&i.self.location&&(t=i.self.location.protocol.slice(0,-1)),r=!Pt.test(t?t.toLowerCase():"")}n=r}if(n)X(e,"complete"),X(e,"success");else{e.o=6;try{var a=Ft(e)>2?e.g.statusText:""}catch(o){a=""}e.l=a+" ["+e.ca()+"]",Ot(e)}}finally{Mt(e)}}}function Mt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||X(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function Ut(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zt(e){this.za=0,this.i=[],this.j=new Se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vt("baseRetryDelayMs",5e3,e),this.Za=Vt("retryDelaySeedMs",1e4,e),this.Ta=Vt("forwardChannelMaxRetries",2,e),this.va=Vt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new He(e&&e.concurrentRequestLimit),this.Ba=new Et,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Gt(e),3==e.I){var t=e.V++,n=et(e.J);if(st(n,"SID",e.M),st(n,"RID",t),st(n,"TYPE","terminate"),Kt(e,n),(t=new Ie(e,e.j,t)).M=2,t.A=it(et(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.A,n=!0),n||(t.g=an(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function qt(e){e.g&&($t(e),e.g.cancel(),e.g=null)}function Gt(e){qt(e),e.v&&(i.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&i.clearTimeout(e.m),e.m=null)}function Ht(e){if(!We(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||x(),b||(y(),b=!0),w.add(t,e),e.D=0}}function Wt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);st(r,"SID",e.M),st(r,"RID",n),st(r,"AID",e.K),Kt(e,r),e.u&&e.o&&It(r,e.u,e.o),n=new Ie(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Jt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Qe(e.h,n),De(n,r,t)}function Kt(e,t){e.H&&P(e.H,function(e,n){st(t,n,e)}),e.l&&P({},function(e,n){st(t,n,e)})}function Jt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var s=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=s[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var i=s[c].g;const n=s[c].map;if((i-=t)<0)t=Math.max(0,s[c].g-100),l=!1;else try{i="req"+i+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;a(n)&&(r=ie(n)),e.push(i+t+"="+encodeURIComponent(r))}}catch(Cs){throw e.push(i+"type="+encodeURIComponent("_badmap")),Cs}}catch(Cs){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Qt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||x(),b||(y(),b=!0),w.add(t,e),e.A=0}}function Yt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=xe(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function $t(e){null!=e.B&&(i.clearTimeout(e.B),e.B=null)}function Xt(e){e.g=new Ie(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);st(t,"RID","rpc"),st(t,"SID",e.M),st(t,"AID",e.K),st(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&st(t,"TO",e.ia),st(t,"TYPE","xmlhttp"),Kt(e,t),e.u&&e.o&&It(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=it(et(t)),n.u=null,n.R=!0,Oe(n,e)}function Zt(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),$t(e),e.g=null;var r=2}else{if(!Je(e.h,t))return;n=t.G,Ye(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var s=e.D;X(r=me(),new we(r,n)),Ht(e)}else Qt(e);else if(3==(s=t.m)||0==s&&t.X>0||!(1==r&&function(e,t){return!(Ke(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=xe(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&Yt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),s){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||tt(r,"https"),it(r),t?function(e,t){const n=new Se;if(i.Image){const r=new Image;r.onload=c(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(St,n,"TestLoadImage: error",!1,t,r),r.onabort=c(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(St,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Se;const n=new AbortController,r=setTimeout(()=>{n.abort(),St(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)}).catch(()=>{clearTimeout(r),St(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Gt(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(p(e.ja,t),p(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function sn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),s&&nt(e,s),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&st(r,n,t),st(r,"VER",e.ka),Kt(e,r),r}function an(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new At(new Nt({ab:n})):new At(e.ma)).Fa(e.L),t}function on(){}function ln(){}function cn(e,t){$.call(this),this.g=new zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!C(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=At.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ne.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Dt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(Array.prototype.indexOf.call(Rt,t,void 0)>=0)||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){Dt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,X(this,"complete"),X(this,"abort"),Mt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mt(this,!0)),At.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Lt(this):this.Xa())},e.Xa=function(){Lt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ae(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=sn(this,null,this.W),Ht(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const s=new Ie(this,this.j,e);let i=this.o;if(this.U&&(i?(i=R(i),O(i,this.U)):i=this.U),null!==this.u||this.R||(s.J=i,i=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Jt(this,s,t),st(n=et(this.J),"RID",e),st(n,"CVER",22),this.G&&st(n,"X-HTTP-Session-Id",this.G),Kt(this,n),i&&(this.R?t="headers="+_e(Tt(i))+"&"+t:this.u&&It(n,this.u,i)),Qe(this.h,s),this.Ra&&st(n,"TYPE","init"),this.S?(st(n,"$req",t),st(n,"SID","null"),s.U=!0,De(s,n,null)):De(s,n,t),this.I=2}}else 3==this.I&&(e?Wt(this,e):0==this.i.length||We(this.h)||Wt(this))},e.Da=function(){if(this.v=null,Xt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),qt(this),Xt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),Yt(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=on.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,$),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ie(e),e=n);t.i.push(new Ge(t.Ya++,e)),3==t.I&&Ht(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,on),hn.prototype.ra=function(){X(this.g,"a")},hn.prototype.qa=function(e){X(this.g,new un(e))},hn.prototype.pa=function(e){X(this.g,new dn)},hn.prototype.oa=function(){X(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Ss=Ns.createWebChannelTransport=function(){return new ln},xs=Ns.getStatEventTarget=function(){return me()},ws=Ns.Event=pe,bs=Ns.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,ys=Ns.ErrorCode=ke,Ce.COMPLETE="complete",vs=Ns.EventType=Ce,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,gs=Ns.WebChannel=ce,Ns.FetchXmlHttpFactory=Nt,At.prototype.listenOnce=At.prototype.K,At.prototype.getLastError=At.prototype.Ha,At.prototype.getLastErrorCode=At.prototype.ya,At.prototype.getStatus=At.prototype.ca,At.prototype.getResponseJson=At.prototype.La,At.prototype.getResponseText=At.prototype.la,At.prototype.send=At.prototype.ea,At.prototype.setWithCredentials=At.prototype.Fa,ms=Ns.XhrIo=At}).apply("undefined"!==typeof Es?Es:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const ks="@firebase/firestore",Cs="4.9.3";class js{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}js.UNAUTHENTICATED=new js(null),js.GOOGLE_CREDENTIALS=new js("google-credentials-uid"),js.FIRST_PARTY=new js("first-party-uid"),js.MOCK_USER=new js("mock-user");let _s="12.7.0";const Ts=new Kn("@firebase/firestore");function Is(){return Ts.logLevel}function As(e){if(Ts.logLevel<=Bn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Ds);Ts.debug("Firestore (".concat(_s,"): ").concat(e),...s)}}function Ps(e){if(Ts.logLevel<=Bn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Ds);Ts.error("Firestore (".concat(_s,"): ").concat(e),...s)}}function Rs(e){if(Ts.logLevel<=Bn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=n.map(Ds);Ts.warn("Firestore (".concat(_s,"): ").concat(e),...s)}}function Ds(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Os(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Ls(e,r,n)}function Ls(e,t,n){let r="FIRESTORE (".concat(_s,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Ps(r),new Error(r)}function Ms(e,t,n,r){let s="Unexpected state";"string"==typeof n?s=n:r=n,e||Ls(t,s,r)}function Fs(e,t){return e}const Us={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vs extends Cn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class zs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Bs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class qs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(js.UNAUTHENTICATED))}shutdown(){}}class Gs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Hs{constructor(e){this.t=e,this.currentUser=js.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ms(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let s=new zs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zs,e.enqueueRetryable(()=>r(this.currentUser))};const i=()=>{const t=s;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{As("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(As("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zs)}},0),i()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(As("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Ms("string"==typeof t.accessToken,31837,{l:t}),new Bs(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ms(null===e||"string"==typeof e,2055,{h:e}),new js(e)}}class Ws{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=js.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ks{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Ws(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(js.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Js{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qs{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ms(void 0===this.o,3512);const n=e=>{null!=e.error&&As("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,As("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{As("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):As("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Js(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Ms("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Js(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Ys(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class $s{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Ys(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Xs(e,t){return e<t?-1:e>t?1:0}function Zs(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),s=t.charAt(r);if(n!==s)return ni(n)===ni(s)?Xs(n,s):ni(n)?1:-1}return Xs(e.length,t.length)}const ei=55296,ti=57343;function ni(e){const t=e.charCodeAt(0);return t>=ei&&t<=ti}function ri(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const si="__name__";class ii{constructor(e,t,n){void 0===t?t=0:t>e.length&&Os(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Os(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ii.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ii.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Xs(e.length,t.length)}static compareSegments(e,t){const n=ii.isNumericId(e),r=ii.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ii.extractNumericId(e).compare(ii.extractNumericId(t)):Zs(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class ai extends ii{construct(e,t,n){return new ai(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n){if(s.indexOf("//")>=0)throw new Vs(Us.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push(...s.split("/").filter(e=>e.length>0))}return new ai(e)}static emptyPath(){return new ai([])}}const oi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class li extends ii{construct(e,t,n){return new li(e,t,n)}static isValidIdentifier(e){return oi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),li.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===si}static keyField(){return new li([si])}static fromServerFormat(e){const t=[];let n="",r=0;const s=()=>{if(0===n.length)throw new Vs(Us.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let i=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Vs(Us.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Vs(Us.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(i=!i,r++):"."!==t||i?(n+=t,r++):(s(),r++)}if(s(),i)throw new Vs(Us.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new li(t)}static emptyPath(){return new li([])}}class ci{constructor(e){this.path=e}static fromPath(e){return new ci(ai.fromString(e))}static fromName(e){return new ci(ai.fromString(e).popFirst(5))}static empty(){return new ci(ai.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ai.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ai.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ci(new ai(e.slice()))}}function ui(e,t,n){if(!n)throw new Vs(Us.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function di(e){if(!ci.isDocumentKey(e))throw new Vs(Us.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function hi(e){if(ci.isDocumentKey(e))throw new Vs(Us.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function pi(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function fi(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Os(12329,{type:typeof e})}function mi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Vs(Us.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fi(e);throw new Vs(Us.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function gi(e,t){const n={typeString:e};return t&&(n.value=t),n}function vi(e,t){if(!pi(e))throw new Vs(Us.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const s=t[r].typeString,i="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const a=e[r];if(s&&typeof a!==s){n="JSON field '".concat(r,"' must be a ").concat(s,".");break}if(void 0!==i&&a!==i.value){n="Expected '".concat(r,"' field to equal '").concat(i.value,"'");break}}if(n)throw new Vs(Us.INVALID_ARGUMENT,n);return!0}const yi=-62135596800,bi=1e6;class wi{static now(){return wi.fromMillis(Date.now())}static fromDate(e){return wi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*bi);return new wi(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Vs(Us.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Vs(Us.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yi)throw new Vs(Us.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Vs(Us.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bi}_compareTo(e){return this.seconds===e.seconds?Xs(this.nanoseconds,e.nanoseconds):Xs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vi(e,wi._jsonSchema))return new wi(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yi;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wi._jsonSchemaVersion="firestore/timestamp/1.0",wi._jsonSchema={type:gi("string",wi._jsonSchemaVersion),seconds:gi("number"),nanoseconds:gi("number")};class xi{static fromTimestamp(e){return new xi(e)}static min(){return new xi(new wi(0,0))}static max(){return new xi(new wi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Si=-1;class Ei{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ei.UNKNOWN_ID=-1;function Ni(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,s=xi.fromTimestamp(1e9===r?new wi(n+1,0):new wi(n,r));return new Ci(s,ci.empty(),t)}function ki(e){return new Ci(e.readTime,e.key,Si)}class Ci{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ci(xi.min(),ci.empty(),Si)}static max(){return new Ci(xi.max(),ci.empty(),Si)}}function ji(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ci.comparator(e.documentKey,t.documentKey),0!==n?n:Xs(e.largestBatchId,t.largestBatchId))}const _i="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ti{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Ii(e){if(e.code!==Us.FAILED_PRECONDITION||e.message!==_i)throw e;As("LocalStore","Unexpectedly lost primary lease")}class Ai{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Os(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ai((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ai?t:Ai.resolve(t)}catch(e){return Ai.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ai.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ai.reject(t)}static resolve(e){return new Ai((t,n)=>{t(e)})}static reject(e){return new Ai((t,n)=>{n(e)})}static waitFor(e){return new Ai((t,n)=>{let r=0,s=0,i=!1;e.forEach(e=>{++r,e.next(()=>{++s,i&&s===r&&t()},e=>n(e))}),i=!0,s===r&&t()})}static or(e){let t=Ai.resolve(!1);for(const n of e)t=t.next(e=>e?Ai.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Ai((n,r)=>{const s=e.length,i=new Array(s);let a=0;for(let o=0;o<s;o++){const l=o;t(e[l]).next(e=>{i[l]=e,++a,a===s&&n(i)},e=>r(e))}})}static doWhile(e,t){return new Ai((n,r)=>{const s=()=>{!0===e()?t().next(()=>{s()},r):n()};s()})}}function Pi(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ri(e){return"IndexedDbTransactionError"===e.name}class Di{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Di.ce=-1;const Oi=-1;function Li(e){return null==e}function Mi(e){return 0===e&&1/e==-1/0}function Fi(e){return"number"==typeof e&&Number.isInteger(e)&&!Mi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Ui="\x01";function Vi(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Bi(t)),t=zi(e.get(n),t);return Bi(t)}function zi(e,t){let n=t;const r=e.length;for(let s=0;s<r;s++){const t=e.charAt(s);switch(t){case"\0":n+="\x01\x10";break;case Ui:n+="\x01\x11";break;default:n+=t}}return n}function Bi(e){return e+Ui+"\x01"}const qi="remoteDocuments",Gi="owner",Hi="mutationQueues",Wi="mutations";const Ki="documentMutations",Ji="remoteDocumentsV14",Qi="remoteDocumentGlobal",Yi="targets",$i="targetDocuments",Xi="targetGlobal",Zi="collectionParents",ea="clientMetadata",ta="bundles",na="namedQueries",ra="indexConfiguration",sa="indexState",ia="indexEntries",aa="documentOverlays",oa="globals",la=[Hi,Wi,Ki,qi,Yi,Gi,Xi,$i,ea,Qi,Zi,ta,na],ca=[Hi,Wi,Ki,Ji,Yi,Gi,Xi,$i,ea,Qi,Zi,ta,na,aa],ua=ca,da=[...ua,ra,sa,ia];function ha(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function pa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function fa(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ma{constructor(e,t){this.comparator=e,this.root=t||va.EMPTY}insert(e,t){return new ma(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,va.BLACK,null,null))}remove(e){return new ma(this.comparator,this.root.remove(e,this.comparator).copy(null,null,va.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ga(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ga(this.root,e,this.comparator,!1)}getReverseIterator(){return new ga(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ga(this.root,e,this.comparator,!0)}}class ga{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class va{constructor(e,t,n,r,s){this.key=e,this.value=t,this.color=null!=n?n:va.RED,this.left=null!=r?r:va.EMPTY,this.right=null!=s?s:va.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,s){return new va(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const s=n(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===s?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return va.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return va.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,va.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,va.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Os(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Os(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Os(27949);return e+(this.isRed()?0:1)}}va.EMPTY=null,va.RED=!0,va.BLACK=!1,va.EMPTY=new class{constructor(){this.size=0}get key(){throw Os(57766)}get value(){throw Os(16141)}get color(){throw Os(16727)}get left(){throw Os(29726)}get right(){throw Os(36894)}copy(e,t,n,r,s){return this}insert(e,t,n){return new va(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ya{constructor(e){this.comparator=e,this.data=new ma(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ba(this.data.getIterator())}getIteratorFrom(e){return new ba(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ya))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ya(this.comparator);return t.data=e,t}}class ba{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wa{constructor(e){this.fields=e,e.sort(li.comparator)}static empty(){return new wa([])}unionWith(e){let t=new ya(li.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new wa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ri(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class xa extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sa{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new xa("Invalid base64 string: "+e):e}}(e);return new Sa(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Sa(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sa.EMPTY_BYTE_STRING=new Sa("");const Ea=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(e){if(Ms(!!e,39018),"string"==typeof e){let t=0;const n=Ea.exec(e);if(Ms(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ka(e.seconds),nanos:ka(e.nanos)}}function ka(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ca(e){return"string"==typeof e?Sa.fromBase64String(e):Sa.fromUint8Array(e)}const ja="server_timestamp",_a="__type__",Ta="__previous_value__",Ia="__local_write_time__";function Aa(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[_a])||void 0===t?void 0:t.stringValue)===ja}function Pa(e){const t=e.mapValue.fields[Ta];return Aa(t)?Pa(t):t}function Ra(e){const t=Na(e.mapValue.fields[Ia].timestampValue);return new wi(t.seconds,t.nanos)}class Da{constructor(e,t,n,r,s,i,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Oa="(default)";class La{constructor(e,t){this.projectId=e,this.database=t||Oa}static empty(){return new La("","")}get isDefaultDatabase(){return this.database===Oa}isEqual(e){return e instanceof La&&e.projectId===this.projectId&&e.database===this.database}}const Ma="__type__",Fa="__max__",Ua={mapValue:{fields:{__type__:{stringValue:Fa}}}},Va="__vector__",za="value";function Ba(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Aa(e)?4:io(e)?9007199254740991:ro(e)?10:11:Os(28295,{value:e})}function qa(e,t){if(e===t)return!0;const n=Ba(e);if(n!==Ba(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ra(e).isEqual(Ra(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Na(e.timestampValue),r=Na(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ca(e.bytesValue).isEqual(Ca(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ka(e.geoPointValue.latitude)===ka(t.geoPointValue.latitude)&&ka(e.geoPointValue.longitude)===ka(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ka(e.integerValue)===ka(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ka(e.doubleValue),r=ka(t.doubleValue);return n===r?Mi(n)===Mi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ri(e.arrayValue.values||[],t.arrayValue.values||[],qa);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ha(n)!==ha(r))return!1;for(const s in n)if(n.hasOwnProperty(s)&&(void 0===r[s]||!qa(n[s],r[s])))return!1;return!0}(e,t);default:return Os(52216,{left:e})}}function Ga(e,t){return void 0!==(e.values||[]).find(e=>qa(e,t))}function Ha(e,t){if(e===t)return 0;const n=Ba(e),r=Ba(t);if(n!==r)return Xs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Xs(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ka(e.integerValue||e.doubleValue),r=ka(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wa(e.timestampValue,t.timestampValue);case 4:return Wa(Ra(e),Ra(t));case 5:return Zs(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ca(e),r=Ca(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let s=0;s<n.length&&s<r.length;s++){const e=Xs(n[s],r[s]);if(0!==e)return e}return Xs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Xs(ka(e.latitude),ka(t.latitude));return 0!==n?n:Xs(ka(e.longitude),ka(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ka(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,s,i;const a=e.fields||{},o=t.fields||{},l=null===(n=a[za])||void 0===n?void 0:n.arrayValue,c=null===(r=o[za])||void 0===r?void 0:r.arrayValue,u=Xs((null===l||void 0===l||null===(s=l.values)||void 0===s?void 0:s.length)||0,(null===c||void 0===c||null===(i=c.values)||void 0===i?void 0:i.length)||0);return 0!==u?u:Ka(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ua.mapValue&&t===Ua.mapValue)return 0;if(e===Ua.mapValue)return 1;if(t===Ua.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),s=t.fields||{},i=Object.keys(s);r.sort(),i.sort();for(let a=0;a<r.length&&a<i.length;++a){const e=Zs(r[a],i[a]);if(0!==e)return e;const t=Ha(n[r[a]],s[i[a]]);if(0!==t)return t}return Xs(r.length,i.length)}(e.mapValue,t.mapValue);default:throw Os(23264,{he:n})}}function Wa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Xs(e,t);const n=Na(e),r=Na(t),s=Xs(n.seconds,r.seconds);return 0!==s?s:Xs(n.nanos,r.nanos)}function Ka(e,t){const n=e.values||[],r=t.values||[];for(let s=0;s<n.length&&s<r.length;++s){const e=Ha(n[s],r[s]);if(e)return e}return Xs(n.length,r.length)}function Ja(e){return Qa(e)}function Qa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Na(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ca(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ci.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Qa(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const s of t)r?r=!1:n+=",",n+="".concat(s,":").concat(Qa(e.fields[s]));return n+"}"}(e.mapValue):Os(61005,{value:e})}function Ya(e){switch(Ba(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Pa(e);return t?16+Ya(t):16;case 5:return 2*e.stringValue.length;case 6:return Ca(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Ya(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return pa(e.fields,(e,n)=>{t+=e.length+Ya(n)}),t}(e.mapValue);default:throw Os(13486,{value:e})}}function $a(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Xa(e){return!!e&&"integerValue"in e}function Za(e){return!!e&&"arrayValue"in e}function eo(e){return!!e&&"nullValue"in e}function to(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function no(e){return!!e&&"mapValue"in e}function ro(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ma])||void 0===t?void 0:t.stringValue)===Va}function so(e){if(e.geoPointValue)return{geoPointValue:d({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:d({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return pa(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=so(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=so(e.arrayValue.values[n]);return t}return d({},e)}function io(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Fa}class ao{constructor(e){this.value=e}static empty(){return new ao({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!no(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=so(t)}setAll(e){let t=li.emptyPath(),n={},r=[];e.forEach((e,s)=>{if(!t.isImmediateParentOf(s)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=s.popLast()}e?n[s.lastSegment()]=so(e):r.push(s.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,r)}delete(e){const t=this.field(e.popLast());no(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];no(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){pa(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ao(so(this.value))}}function oo(e){const t=[];return pa(e.fields,(e,n)=>{const r=new li([e]);if(no(n)){const e=oo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new wa(t)}class lo{constructor(e,t,n,r,s,i,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new lo(e,0,xi.min(),xi.min(),xi.min(),ao.empty(),0)}static newFoundDocument(e,t,n,r){return new lo(e,1,t,xi.min(),n,r,0)}static newNoDocument(e,t){return new lo(e,2,t,xi.min(),xi.min(),ao.empty(),0)}static newUnknownDocument(e,t){return new lo(e,3,t,xi.min(),xi.min(),ao.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(xi.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ao.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ao.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class co{constructor(e,t){this.position=e,this.inclusive=t}}function uo(e,t,n){let r=0;for(let s=0;s<e.position.length;s++){const i=t[s],a=e.position[s];if(r=i.field.isKeyField()?ci.comparator(ci.fromName(a.referenceValue),n.key):Ha(a,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return r}function ho(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qa(e.position[n],t.position[n]))return!1;return!0}class po{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function fo(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class mo{}class go extends mo{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new No(e,t,n):"array-contains"===t?new _o(e,n):"in"===t?new To(e,n):"not-in"===t?new Io(e,n):"array-contains-any"===t?new Ao(e,n):new go(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ko(e,n):new Co(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ha(t,this.value)):null!==t&&Ba(this.value)===Ba(t)&&this.matchesComparison(Ha(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Os(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vo extends mo{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new vo(e,t)}matches(e){return yo(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yo(e){return"and"===e.op}function bo(e){return wo(e)&&yo(e)}function wo(e){for(const t of e.filters)if(t instanceof vo)return!1;return!0}function xo(e){if(e instanceof go)return e.field.canonicalString()+e.op.toString()+Ja(e.value);if(bo(e))return e.filters.map(e=>xo(e)).join(",");{const t=e.filters.map(e=>xo(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function So(e,t){return e instanceof go?function(e,t){return t instanceof go&&e.op===t.op&&e.field.isEqual(t.field)&&qa(e.value,t.value)}(e,t):e instanceof vo?function(e,t){return t instanceof vo&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&So(n,t.filters[r]),!0)}(e,t):void Os(19439)}function Eo(e){return e instanceof go?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ja(e.value))}(e):e instanceof vo?function(e){return e.op.toString()+" {"+e.getFilters().map(Eo).join(" ,")+"}"}(e):"Filter"}class No extends go{constructor(e,t,n){super(e,t,n),this.key=ci.fromName(n.referenceValue)}matches(e){const t=ci.comparator(e.key,this.key);return this.matchesComparison(t)}}class ko extends go{constructor(e,t){super(e,"in",t),this.keys=jo("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Co extends go{constructor(e,t){super(e,"not-in",t),this.keys=jo("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function jo(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ci.fromName(e.referenceValue))}class _o extends go{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Za(t)&&Ga(t.arrayValue,this.value)}}class To extends go{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ga(this.value.arrayValue,t)}}class Io extends go{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Ga(this.value.arrayValue,t)}}class Ao extends go{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Za(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ga(this.value.arrayValue,e))}}class Po{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=i,this.endAt=a,this.Te=null}}function Ro(e){return new Po(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Do(e){const t=Fs(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>xo(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Li(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ja(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ja(e)).join(",")),t.Te=e}return t.Te}function Oo(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fo(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!So(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ho(e.startAt,t.startAt)&&ho(e.endAt,t.endAt)}function Lo(e){return ci.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Mo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Fo(e,t,n,r,s,i,a,o){return new Mo(e,t,n,r,s,i,a,o)}function Uo(e){return new Mo(e)}function Vo(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zo(e){return null!==e.collectionGroup}function Bo(e){const t=Fs(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),e.add(s.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ya(li.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new po(r,n))}),e.has(li.keyField().canonicalString())||t.Ie.push(new po(li.keyField(),n))}return t.Ie}function qo(e){const t=Fs(e);return t.Ee||(t.Ee=Go(t,Bo(e))),t.Ee}function Go(e,t){if("F"===e.limitType)return Ro(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new po(e.field,t)});const n=e.endAt?new co(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new co(e.startAt.position,e.startAt.inclusive):null;return Ro(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ho(e,t){const n=e.filters.concat([t]);return new Mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Wo(e,t,n){return new Mo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ko(e,t){return Oo(qo(e),qo(t))&&e.limitType===t.limitType}function Jo(e){return"".concat(Do(qo(e)),"|lt:").concat(e.limitType)}function Qo(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Eo(e)).join(", "),"]")),Li(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ja(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ja(e)).join(",")),"Target(".concat(t,")")}(qo(e)),"; limitType=").concat(e.limitType,")")}function Yo(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ci.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Bo(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=uo(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Bo(e),t))&&!(e.endAt&&!function(e,t,n){const r=uo(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Bo(e),t))}(e,t)}function $o(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xo(e){return(t,n)=>{let r=!1;for(const s of Bo(e)){const e=Zo(s,t,n);if(0!==e)return e;r=r||s.field.isKeyField()}return 0}}function Zo(e,t,n){const r=e.field.isKeyField()?ci.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),s=n.data.field(e);return null!==r&&null!==s?Ha(r,s):Os(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Os(19790,{direction:e.dir})}}class el{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,s]of n)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,(t,n)=>{for(const[r,s]of n)e(r,s)})}isEmpty(){return fa(this.inner)}size(){return this.innerSize}}const tl=new ma(ci.comparator);function nl(){return tl}const rl=new ma(ci.comparator);function sl(){let e=rl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.insert(s.key,s);return e}function il(e){let t=rl;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function al(){return ll()}function ol(){return ll()}function ll(){return new el(e=>e.toString(),(e,t)=>e.isEqual(t))}const cl=new ma(ci.comparator),ul=new ya(ci.comparator);function dl(){let e=ul;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const s of n)e=e.add(s);return e}const hl=new ya(Xs);function pl(){return hl}function fl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mi(t)?"-0":t}}function ml(e){return{integerValue:""+e}}function gl(e,t){return Fi(t)?ml(t):fl(e,t)}class vl{constructor(){this._=void 0}}function yl(e,t,n){return e instanceof xl?function(e,t){const n={fields:{[_a]:{stringValue:ja},[Ia]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Aa(t)&&(t=Pa(t)),t&&(n.fields[Ta]=t),{mapValue:n}}(n,t):e instanceof Sl?El(e,t):e instanceof Nl?kl(e,t):function(e,t){const n=wl(e,t),r=jl(n)+jl(e.Ae);return Xa(n)&&Xa(e.Ae)?ml(r):fl(e.serializer,r)}(e,t)}function bl(e,t,n){return e instanceof Sl?El(e,t):e instanceof Nl?kl(e,t):n}function wl(e,t){return e instanceof Cl?function(e){return Xa(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class xl extends vl{}class Sl extends vl{constructor(e){super(),this.elements=e}}function El(e,t){const n=_l(t);for(const r of e.elements)n.some(e=>qa(e,r))||n.push(r);return{arrayValue:{values:n}}}class Nl extends vl{constructor(e){super(),this.elements=e}}function kl(e,t){let n=_l(t);for(const r of e.elements)n=n.filter(e=>!qa(e,r));return{arrayValue:{values:n}}}class Cl extends vl{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function jl(e){return ka(e.integerValue||e.doubleValue)}function _l(e){return Za(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Tl{constructor(e,t){this.version=e,this.transformResults=t}}class Il{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Il}static exists(e){return new Il(void 0,e)}static updateTime(e){return new Il(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Al(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Pl{}function Rl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ql(e.key,Il.none()):new Fl(e.key,e.data,Il.none());{const n=e.data,r=ao.empty();let s=new ya(li.comparator);for(let e of t.fields)if(!s.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),s=s.add(e)}return new Ul(e.key,r,new wa(s.toArray()),Il.none())}}function Dl(e,t,n){e instanceof Fl?function(e,t,n){const r=e.value.clone(),s=zl(e.fieldTransforms,t,n.transformResults);r.setAll(s),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ul?function(e,t,n){if(!Al(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=zl(e.fieldTransforms,t,n.transformResults),s=t.data;s.setAll(Vl(e)),s.setAll(r),t.convertToFoundDocument(n.version,s).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ol(e,t,n,r){return e instanceof Fl?function(e,t,n,r){if(!Al(e.precondition,t))return n;const s=e.value.clone(),i=Bl(e.fieldTransforms,r,t);return s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ul?function(e,t,n,r){if(!Al(e.precondition,t))return n;const s=Bl(e.fieldTransforms,r,t),i=t.data;return i.setAll(Vl(e)),i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Al(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ll(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),s=wl(r.transform,e||null);null!=s&&(null===n&&(n=ao.empty()),n.set(r.field,s))}return n||null}function Ml(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ri(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Sl&&t instanceof Sl||e instanceof Nl&&t instanceof Nl?ri(e.elements,t.elements,qa):e instanceof Cl&&t instanceof Cl?qa(e.Ae,t.Ae):e instanceof xl&&t instanceof xl}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Fl extends Pl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ul extends Pl{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Vl(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function zl(e,t,n){const r=new Map;Ms(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let s=0;s<n.length;s++){const i=e[s],a=i.transform,o=t.data.field(i.field);r.set(i.field,bl(a,o,n[s]))}return r}function Bl(e,t,n){const r=new Map;for(const s of e){const e=s.transform,i=n.data.field(s.field);r.set(s.field,yl(e,i,t))}return r}class ql extends Pl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gl extends Pl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Dl(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ol(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ol(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ol();return this.mutations.forEach(r=>{const s=e.get(r.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=t.has(r.key)?null:a;const o=Rl(i,a);null!==o&&n.set(r.key,o),i.isValidDocument()||i.convertToNoDocument(xi.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),dl())}isEqual(e){return this.batchId===e.batchId&&ri(this.mutations,e.mutations,(e,t)=>Ml(e,t))&&ri(this.baseMutations,e.baseMutations,(e,t)=>Ml(e,t))}}class Wl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Ms(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=cl;const s=e.mutations;for(let i=0;i<s.length;i++)r=r.insert(s[i].key,n[i].version);return new Wl(e,t,n,r)}}class Kl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Jl{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ql,Yl;function $l(e){switch(e){case Us.OK:return Os(64938);case Us.CANCELLED:case Us.UNKNOWN:case Us.DEADLINE_EXCEEDED:case Us.RESOURCE_EXHAUSTED:case Us.INTERNAL:case Us.UNAVAILABLE:case Us.UNAUTHENTICATED:return!1;case Us.INVALID_ARGUMENT:case Us.NOT_FOUND:case Us.ALREADY_EXISTS:case Us.PERMISSION_DENIED:case Us.FAILED_PRECONDITION:case Us.ABORTED:case Us.OUT_OF_RANGE:case Us.UNIMPLEMENTED:case Us.DATA_LOSS:return!0;default:return Os(15467,{code:e})}}function Xl(e){if(void 0===e)return Ps("GRPC error has no .code"),Us.UNKNOWN;switch(e){case Ql.OK:return Us.OK;case Ql.CANCELLED:return Us.CANCELLED;case Ql.UNKNOWN:return Us.UNKNOWN;case Ql.DEADLINE_EXCEEDED:return Us.DEADLINE_EXCEEDED;case Ql.RESOURCE_EXHAUSTED:return Us.RESOURCE_EXHAUSTED;case Ql.INTERNAL:return Us.INTERNAL;case Ql.UNAVAILABLE:return Us.UNAVAILABLE;case Ql.UNAUTHENTICATED:return Us.UNAUTHENTICATED;case Ql.INVALID_ARGUMENT:return Us.INVALID_ARGUMENT;case Ql.NOT_FOUND:return Us.NOT_FOUND;case Ql.ALREADY_EXISTS:return Us.ALREADY_EXISTS;case Ql.PERMISSION_DENIED:return Us.PERMISSION_DENIED;case Ql.FAILED_PRECONDITION:return Us.FAILED_PRECONDITION;case Ql.ABORTED:return Us.ABORTED;case Ql.OUT_OF_RANGE:return Us.OUT_OF_RANGE;case Ql.UNIMPLEMENTED:return Us.UNIMPLEMENTED;case Ql.DATA_LOSS:return Us.DATA_LOSS;default:return Os(39323,{code:e})}}(Yl=Ql||(Ql={}))[Yl.OK=0]="OK",Yl[Yl.CANCELLED=1]="CANCELLED",Yl[Yl.UNKNOWN=2]="UNKNOWN",Yl[Yl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yl[Yl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yl[Yl.NOT_FOUND=5]="NOT_FOUND",Yl[Yl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yl[Yl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yl[Yl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yl[Yl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yl[Yl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yl[Yl.ABORTED=10]="ABORTED",Yl[Yl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yl[Yl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yl[Yl.INTERNAL=13]="INTERNAL",Yl[Yl.UNAVAILABLE=14]="UNAVAILABLE",Yl[Yl.DATA_LOSS=15]="DATA_LOSS";let Zl=null;function ec(){return new TextEncoder}const tc=new ds([4294967295,4294967295],0);function nc(e){const t=ec().encode(e),n=new hs;return n.update(t),new Uint8Array(n.digest())}function rc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),s=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new ds([n,r],0),new ds([s,i],0)]}class sc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ic("Invalid padding: ".concat(t));if(n<0)throw new ic("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ic("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ic("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=ds.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(ds.fromNumber(n)));return 1===r.compare(tc)&&(r=new ds([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=nc(e),[n,r]=rc(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new sc(s,r,t);return n.forEach(e=>i.insert(e)),i}insert(e){if(0===this.ge)return;const t=nc(e),[n,r]=rc(t);for(let s=0;s<this.hashCount;s++){const e=this.ye(n,r,s);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ac{constructor(e,t,n,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,oc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new ac(xi.min(),r,new ma(Xs),nl(),dl())}}class oc{constructor(e,t,n,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new oc(n,t,dl(),dl(),dl())}}class lc{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}}class cc{constructor(e,t){this.targetId=e,this.Ce=t}}class uc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sa.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class dc{constructor(){this.ve=0,this.Fe=fc(),this.Me=Sa.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=dl(),t=dl(),n=dl();return this.Fe.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Os(38017,{changeType:s})}}),new oc(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=fc()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ms(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class hc{constructor(e){this.Ge=e,this.ze=new Map,this.je=nl(),this.Je=pc(),this.He=pc(),this.Ye=new ma(Xs)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Os(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const i=r.target;if(Lo(i))if(0===n){const e=new ci(i.path);this.et(t,e,lo.newNoDocument(e,xi.min()))}else Ms(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var s;const n=this.ut(e),i=n?this.ct(n,e,r):1;if(0!==i){this.it(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}null===(s=Zl)||void 0===s||s.lt(function(e,t,n,r,s){var i,a,o,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===s,hashCount:null!==(i=null===d||void 0===d?void 0:d.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(a=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==a?a:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=t;let i,a;try{i=Ca(n).toUint8Array()}catch(e){if(e instanceof xa)return Rs("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new sc(i,r,s)}catch(e){return Rs(e instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const s=this.Ge.ht(),i="projects/".concat(s.projectId,"/databases/").concat(s.database,"/documents/").concat(n.path.canonicalString());e.mightContain(i)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const s=this.ot(r);if(s){if(n.current&&Lo(s.target)){const t=new ci(s.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,lo.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}});let n=dl();this.He.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new ac(e,t,this.Ye,this.je,n);return this.je=nl(),this.Je=pc(),this.He=pc(),this.Ye=new ma(Xs),r}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new dc,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new ya(Xs),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new ya(Xs),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||As("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dc),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function pc(){return new ma(ci.comparator)}function fc(){return new ma(ci.comparator)}const mc={asc:"ASCENDING",desc:"DESCENDING"},gc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vc={and:"AND",or:"OR"};class yc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bc(e,t){return e.useProto3Json||Li(t)?t:{value:t}}function wc(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xc(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Sc(e,t){return wc(e,t.toTimestamp())}function Ec(e){return Ms(!!e,49232),xi.fromTimestamp(function(e){const t=Na(e);return new wi(t.seconds,t.nanos)}(e))}function Nc(e,t){return kc(e,t).canonicalString()}function kc(e,t){const n=function(e){return new ai(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Cc(e){const t=ai.fromString(e);return Ms(Wc(t),10190,{key:t.toString()}),t}function jc(e,t){return Nc(e.databaseId,t.path)}function _c(e,t){const n=Cc(t);if(n.get(1)!==e.databaseId.projectId)throw new Vs(Us.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Vs(Us.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ci(Pc(n))}function Tc(e,t){return Nc(e.databaseId,t)}function Ic(e){const t=Cc(e);return 4===t.length?ai.emptyPath():Pc(t)}function Ac(e){return new ai(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pc(e){return Ms(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Rc(e,t,n){return{name:jc(e,t),fields:n.value.mapValue.fields}}function Dc(e,t){let n;if(t instanceof Fl)n={update:Rc(e,t.key,t.value)};else if(t instanceof ql)n={delete:jc(e,t.key)};else if(t instanceof Ul)n={update:Rc(e,t.key,t.data),updateMask:Hc(t.fieldMask)};else{if(!(t instanceof Gl))return Os(16599,{Vt:t.type});n={verify:jc(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof xl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Sl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Nl)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Cl)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Os(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sc(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Os(27497)}(e,t.precondition)),n}function Oc(e,t){return{documents:[Tc(e,t.path)]}}function Lc(e,t){const n={structuredQuery:{}},r=t.path;let s;null!==t.collectionGroup?(s=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Tc(e,s);const i=function(e){if(0!==e.length)return Gc(vo.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Bc(e.field),direction:Uc(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=bc(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:s}}function Mc(e){let t=Ic(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ms(1===r,65062);const e=n.from[0];e.allDescendants?s=e.collectionId:t=t.child(e.collectionId)}let i=[];n.where&&(i=function(e){const t=Fc(e);return t instanceof vo&&bo(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new po(qc(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Li(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new co(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new co(n,t)}(n.endAt)),Fo(t,s,a,i,o,"F",l,c)}function Fc(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=qc(e.unaryFilter.field);return go.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=qc(e.unaryFilter.field);return go.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=qc(e.unaryFilter.field);return go.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qc(e.unaryFilter.field);return go.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Os(61313);default:return Os(60726)}}(e):void 0!==e.fieldFilter?function(e){return go.create(qc(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Os(58110);default:return Os(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return vo.create(e.compositeFilter.filters.map(e=>Fc(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Os(1026)}}(e.compositeFilter.op))}(e):Os(30097,{filter:e})}function Uc(e){return mc[e]}function Vc(e){return gc[e]}function zc(e){return vc[e]}function Bc(e){return{fieldPath:e.canonicalString()}}function qc(e){return li.fromServerFormat(e.fieldPath)}function Gc(e){return e instanceof go?function(e){if("=="===e.op){if(to(e.value))return{unaryFilter:{field:Bc(e.field),op:"IS_NAN"}};if(eo(e.value))return{unaryFilter:{field:Bc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(to(e.value))return{unaryFilter:{field:Bc(e.field),op:"IS_NOT_NAN"}};if(eo(e.value))return{unaryFilter:{field:Bc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bc(e.field),op:Vc(e.op),value:e.value}}}(e):e instanceof vo?function(e){const t=e.getFilters().map(e=>Gc(e));return 1===t.length?t[0]:{compositeFilter:{op:zc(e.op),filters:t}}}(e):Os(54877,{filter:e})}function Hc(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Wc(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Kc{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xi.min(),i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:xi.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Sa.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Kc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Kc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jc{constructor(e){this.yt=e}}function Qc(e){const t=Mc({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Wo(t,t.limit,"L"):t}class Yc{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ka(e.integerValue));else if("doubleValue"in e){const n=ka(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Mi(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Na(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Ca(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?io(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):ro(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Os(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const s=za,i=(null===(n=r[s].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(ka(i)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),ci.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Yc.Kt=new Yc;class $c{constructor(){this.Cn=new Xc}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ai.resolve()}getCollectionParents(e,t){return Ai.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ai.resolve()}deleteFieldIndex(e,t){return Ai.resolve()}deleteAllFieldIndexes(e){return Ai.resolve()}createTargetIndexes(e,t){return Ai.resolve()}getDocumentsMatchingTarget(e,t){return Ai.resolve(null)}getIndexType(e,t){return Ai.resolve(0)}getFieldIndexes(e,t){return Ai.resolve([])}getNextCollectionGroupToUpdate(e){return Ai.resolve(null)}getMinOffset(e,t){return Ai.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,t){return Ai.resolve(Ci.min())}updateCollectionGroup(e,t,n){return Ai.resolve()}updateIndexEntries(e,t){return Ai.resolve()}}class Xc{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ya(ai.comparator),s=!r.has(n);return this.index[t]=r.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ya(ai.comparator)).toArray()}}new Uint8Array(0);const Zc={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eu=41943040;class tu{static withCacheSize(e){return new tu(e,tu.DEFAULT_COLLECTION_PERCENTILE,tu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}tu.DEFAULT_COLLECTION_PERCENTILE=10,tu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tu.DEFAULT=new tu(eu,tu.DEFAULT_COLLECTION_PERCENTILE,tu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tu.DISABLED=new tu(-1,0,0);class nu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nu(0)}static cr(){return new nu(-1)}}const ru="LruGarbageCollector",su=1048576;function iu(e,t){let[n,r]=e,[s,i]=t;const a=Xs(n,s);return 0===a?Xs(r,i):a}class au{constructor(e){this.Ir=e,this.buffer=new ya(iu),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();iu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ou{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){As(ru,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ri(e)?As(ru,"Ignoring IndexedDB error during garbage collection: ",e):await Ii(e)}await this.Vr(3e5)})}}class lu{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Ai.resolve(Di.ce);const n=new au(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(As("LruGarbageCollector","Garbage collection skipped; disabled"),Ai.resolve(Zc)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(As("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Zc):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,s,i,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(As("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(s=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Is()<=Bn.DEBUG&&As("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-i)+"ms\n"+"\tRemoved ".concat(s," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Ai.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:e})))}}function cu(e,t){return new lu(e,t)}class uu{constructor(){this.changes=new el(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Ai.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class du{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Ol(n.mutation,e,wa.empty(),wi.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,dl()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:dl();const r=al();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=sl();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=al();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,dl()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let s=nl();const i=ll(),a=ll();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ul)?s=s.insert(t.key,t):void 0!==a?(i.set(t.key,a.mutation.getFieldMask()),Ol(a.mutation,t,a.mutation.getFieldMask(),wi.now())):i.set(t.key,wa.empty())}),this.recalculateAndSaveOverlays(e,s).next(e=>(e.forEach((e,t)=>i.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new du(t,null!==(n=i.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=ll();let r=new ma((e,t)=>e-t),s=dl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const s of e)s.keys().forEach(e=>{const i=t.get(e);if(null===i)return;let a=n.get(e)||wa.empty();a=s.applyToLocalView(i,a),n.set(e,a);const o=(r.get(s.batchId)||dl()).add(e);r=r.insert(s.batchId,o)})}).next(()=>{const i=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=ol();l.forEach(e=>{if(!s.has(e)){const r=Rl(t.get(e),n.get(e));null!==r&&c.set(e,r),s=s.add(e)}}),i.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Ai.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ci.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zo(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(s=>{const i=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-s.size):Ai.resolve(al());let a=Si,o=s;return i.next(t=>Ai.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),s.get(t)?Ai.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,s)).next(()=>this.computeViews(e,o,t,dl())).next(e=>({batchId:a,changes:il(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ci(t)).next(e=>{let t=sl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const s=t.collectionGroup;let i=sl();return this.indexManager.getCollectionParents(e,s).next(a=>Ai.forEach(a,a=>{const o=function(e,t){return new Mo(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,r))).next(e=>{s.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,lo.newInvalidDocument(r)))});let n=sl();return e.forEach((e,r)=>{const i=s.get(e);void 0!==i&&Ol(i.mutation,r,wa.empty(),wi.now()),Yo(t,r)&&(n=n.insert(e,r))}),n})}}class pu{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ai.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ec(e.createTime)}}(t)),Ai.resolve()}getNamedQuery(e,t){return Ai.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:Qc(e.bundledQuery),readTime:Ec(e.readTime)}}(t)),Ai.resolve()}}class fu{constructor(){this.overlays=new ma(ci.comparator),this.qr=new Map}getOverlay(e,t){return Ai.resolve(this.overlays.get(t))}getOverlays(e,t){const n=al();return Ai.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.St(e,t,r)}),Ai.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.qr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),Ai.resolve()}getOverlaysForCollection(e,t,n){const r=al(),s=t.length+1,i=new ci(t.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const e=a.getNext().value,i=e.getKey();if(!t.isPrefixOf(i.path))break;i.path.length===s&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Ai.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let s=new ma((e,t)=>e-t);const i=this.overlays.getIterator();for(;i.hasNext();){const e=i.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=s.get(e.largestBatchId);null===t&&(t=al(),s=s.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=al(),o=s.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Ai.resolve(a)}St(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Kl(t,n));let s=this.qr.get(t);void 0===s&&(s=dl(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}class mu{constructor(){this.sessionToken=Sa.EMPTY_BYTE_STRING}getSessionToken(e){return Ai.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ai.resolve()}}class gu{constructor(){this.Qr=new ya(vu.$r),this.Ur=new ya(vu.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new vu(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new vu(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new ci(new ai([])),n=new vu(t,e),r=new vu(t,e+1),s=[];return this.Ur.forEachInRange([n,r],e=>{this.Gr(e),s.push(e.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ci(new ai([])),n=new vu(t,e),r=new vu(t,e+1);let s=dl();return this.Ur.forEachInRange([n,r],e=>{s=s.add(e.key)}),s}containsKey(e){const t=new vu(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class vu{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ci.comparator(e.key,t.key)||Xs(e.Yr,t.Yr)}static Kr(e,t){return Xs(e.Yr,t.Yr)||ci.comparator(e.key,t.key)}}class yu{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new ya(vu.$r)}checkEmpty(e){return Ai.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Hl(s,t,n,r);this.mutationQueue.push(i);for(const a of r)this.Zr=this.Zr.add(new vu(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ai.resolve(i)}lookupMutationBatch(e,t){return Ai.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ei(n),s=r<0?0:r;return Ai.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Ai.resolve(0===this.mutationQueue.length?Oi:this.tr-1)}getAllMutationBatches(e){return Ai.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new vu(t,0),r=new vu(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,r],e=>{const t=this.Xr(e.Yr);s.push(t)}),Ai.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ya(Xs);return t.forEach(e=>{const t=new vu(e,0),r=new vu(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,r],e=>{n=n.add(e.Yr)})}),Ai.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let s=n;ci.isDocumentKey(s)||(s=s.child(""));const i=new vu(new ci(s),0);let a=new ya(Xs);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Yr)),!0)},i),Ai.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Ms(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return Ai.forEach(t.mutations,r=>{const s=new vu(r.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new vu(t,0),r=this.Zr.firstAfterOrEqual(n);return Ai.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ai.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class bu{constructor(e){this.ri=e,this.docs=new ma(ci.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),s=r?r.size:0,i=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ai.resolve(n?n.document.mutableCopy():lo.newInvalidDocument(t))}getEntries(e,t){let n=nl();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():lo.newInvalidDocument(e))}),Ai.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let s=nl();const i=t.path,a=new ci(i.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!i.isPrefixOf(e.path))break;e.path.length>i.length+1||ji(ki(a),n)<=0||(r.has(a.key)||Yo(t,a))&&(s=s.insert(a.key,a.mutableCopy()))}return Ai.resolve(s)}getAllFromCollectionGroup(e,t,n,r){Os(9500)}ii(e,t){return Ai.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new wu(this)}getSize(e){return Ai.resolve(this.size)}}class wu extends uu{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)}),Ai.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class xu{constructor(e){this.persistence=e,this.si=new el(e=>Do(e),Oo),this.lastRemoteSnapshotVersion=xi.min(),this.highestTargetId=0,this.oi=0,this._i=new gu,this.targetCount=0,this.ai=nu.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),Ai.resolve()}getLastRemoteSnapshotVersion(e){return Ai.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ai.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ai.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ai.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new nu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ai.resolve()}updateTargetData(e,t){return this.Pr(t),Ai.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ai.resolve()}removeTargets(e,t,n){let r=0;const s=[];return this.si.forEach((i,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Ai.waitFor(s).next(()=>r)}getTargetCount(e){return Ai.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ai.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ai.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(t=>{s.push(r.markPotentiallyOrphaned(e,t))}),Ai.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ai.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ai.resolve(n)}containsKey(e,t){return Ai.resolve(this._i.containsKey(t))}}class Su{constructor(e,t){this.ui={},this.overlays={},this.ci=new Di(0),this.li=!1,this.li=!0,this.hi=new mu,this.referenceDelegate=e(this),this.Pi=new xu(this),this.indexManager=new $c,this.remoteDocumentCache=function(e){return new bu(e)}(e=>this.referenceDelegate.Ti(e)),this.serializer=new Jc(t),this.Ii=new pu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fu,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new yu(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){As("MemoryPersistence","Starting transaction:",e);const r=new Eu(this.ci.next());return this.referenceDelegate.Ei(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ai(e,t){return Ai.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Eu extends Ti{constructor(e){super(),this.currentSequenceNumber=e}}class Nu{constructor(e){this.persistence=e,this.Ri=new gu,this.Vi=null}static mi(e){return new Nu(e)}get fi(){if(this.Vi)return this.Vi;throw Os(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ai.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ai.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ai.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ai.forEach(this.fi,n=>{const r=ci.fromPath(n);return this.gi(e,r).next(e=>{e||t.removeEntry(r,xi.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return Ai.or([()=>Ai.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ku{constructor(e,t){this.persistence=e,this.pi=new el(e=>Vi(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=cu(this,t)}static mi(e,t){return new ku(e,t)}Ei(){}di(e){return Ai.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return Ai.forEach(this.pi,(n,r)=>this.br(e,n,r).next(e=>e?Ai.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(e,r=>this.br(e,r,t).next(e=>{e||(n++,s.removeEntry(r,xi.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ai.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ai.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ai.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ai.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ya(e.data.value)),t}br(e,t,n){return Ai.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return Ai.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Cu{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(e,t){let n=dl(),r=dl();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new Cu(e,t.fromCache,n,r)}}class ju{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _u{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Nn()?8:Pi(Sn())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const s={result:null};return this.ys(e,t).next(e=>{s.result=e}).next(()=>{if(!s.result)return this.ws(e,t,r,n).next(e=>{s.result=e})}).next(()=>{if(s.result)return;const n=new ju;return this.Ss(e,t,n).next(r=>{if(s.result=r,this.Vs)return this.bs(e,t,n,r.size)})}).next(()=>s.result)}bs(e,t,n,r){return n.documentReadCount<this.fs?(Is()<=Bn.DEBUG&&As("QueryEngine","SDK will not create cache indexes for query:",Qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ai.resolve()):(Is()<=Bn.DEBUG&&As("QueryEngine","Query:",Qo(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.gs*r?(Is()<=Bn.DEBUG&&As("QueryEngine","The SDK decides to create cache indexes for query:",Qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qo(t))):Ai.resolve())}ys(e,t){if(Vo(t))return Ai.resolve(null);let n=qo(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Wo(t,null,"F"),n=qo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const s=dl(...r);return this.ps.getDocuments(e,s).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const i=this.Ds(t,r);return this.Cs(t,i,s,n.readTime)?this.ys(e,Wo(t,null,"F")):this.vs(e,i,t,n)}))})))}ws(e,t,n,r){return Vo(t)||r.isEqual(xi.min())?Ai.resolve(null):this.ps.getDocuments(e,n).next(s=>{const i=this.Ds(t,s);return this.Cs(t,i,n,r)?Ai.resolve(null):(Is()<=Bn.DEBUG&&As("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qo(t)),this.vs(e,i,t,Ni(r,Si)).next(e=>e))})}Ds(e,t){let n=new ya(Xo(e));return t.forEach((t,r)=>{Yo(e,r)&&(n=n.add(r))}),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(e,t,n){return Is()<=Bn.DEBUG&&As("QueryEngine","Using full collection scan to execute query:",Qo(t)),this.ps.getDocumentsMatchingQuery(e,t,Ci.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Tu="LocalStore";class Iu{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new ma(Xs),this.xs=new el(e=>Do(e),Oo),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hu(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Au(e,t,n,r){return new Iu(e,t,n,r)}async function Pu(e,t){const n=Fs(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(s=>(r=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const s=[],i=[];let a=dl();for(const e of r){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:s,addedBatchIds:i}))})})}function Ru(e){const t=Fs(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Du(e,t,n){let r=dl(),s=dl();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=nl();return n.forEach((n,i)=>{const a=e.get(n);i.isFoundDocument()!==a.isFoundDocument()&&(s=s.add(n)),i.isNoDocument()&&i.version.isEqual(xi.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):As(Tu,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),{ks:r,qs:s}})}function Ou(e,t){const n=Fs(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Oi),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Lu(e,t){const n=Fs(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Pi.getTargetData(e,t).next(s=>s?(r=s,Ai.resolve(r)):n.Pi.allocateTargetId(e).next(s=>(r=new Kc(t,s,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}async function Mu(e,t,n){const r=Fs(e),s=r.Ms.get(t),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,e=>r.persistence.referenceDelegate.removeTarget(e,s))}catch(e){if(!Ri(e))throw e;As(Tu,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ms=r.Ms.remove(t),r.xs.delete(s.target)}function Fu(e,t,n){const r=Fs(e);let s=xi.min(),i=dl();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=Fs(e),s=r.xs.get(n);return void 0!==s?Ai.resolve(r.Ms.get(s)):r.Pi.getTargetData(t,n)}(r,e,qo(t)).next(t=>{if(t)return s=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{i=e})}).next(()=>r.Fs.getDocumentsMatchingQuery(e,t,n?s:xi.min(),n?i:dl())).next(e=>(Uu(r,$o(t),e),{documents:e,Qs:i})))}function Uu(e,t,n){let r=e.Os.get(t)||xi.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Os.set(t,r)}class Vu{constructor(){this.activeTargetIds=pl()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zu{constructor(){this.Mo=new Vu,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Vu,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Bu{Oo(e){}shutdown(){}}const qu="ConnectivityMonitor";class Gu{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){As(qu,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){As(qu,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Hu=null;function Wu(){return null===Hu?Hu=268435456+Math.round(2147483648*Math.random()):Hu++,"0x"+Hu.toString(16)}const Ku="RestConnection",Ju={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Qu{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko="projects/".concat(n,"/databases/").concat(r),this.Wo=this.databaseId.database===Oa?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Go(e,t,n,r,s){const i=Wu(),a=this.zo(e,t.toUriEncodedString());As(Ku,"Sending RPC '".concat(e,"' ").concat(i,":"),a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,r,s);const{host:l}=new URL(a),c=vn(l);return this.Jo(e,a,o,n,c).then(t=>(As(Ku,"Received RPC '".concat(e,"' ").concat(i,": "),t),t),t=>{throw Rs(Ku,"RPC '".concat(e,"' ").concat(i," failed with error: "),t,"url: ",a,"request:",n),t})}Ho(e,t,n,r,s,i){return this.Go(e,t,n,r,s)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_s,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=Ju[e];return"".concat(this.Uo,"/v1/").concat(t,":").concat(n)}terminate(){}}class Yu{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $u="WebChannelConnection";class Xu extends Qu{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,s){const i=Wu();return new Promise((s,a)=>{const o=new ms;o.setWithCredentials(!0),o.listenOnce(vs.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case ys.NO_ERROR:const n=o.getResponseJson();As($u,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(n)),s(n);break;case ys.TIMEOUT:As($u,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Vs(Us.DEADLINE_EXCEEDED,"Request time out"));break;case ys.HTTP_ERROR:const r=o.getStatus();if(As($u,"RPC '".concat(e,"' ").concat(i," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Us).indexOf(t)>=0?t:Us.UNKNOWN}(n.status);a(new Vs(e,n.message))}else a(new Vs(Us.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Vs(Us.UNAVAILABLE,"Connection failed."));break;default:Os(9055,{l_:e,streamId:i,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{As($u,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);As($u,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Wu(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Ss(),a=xs(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=s.join("");As($u,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=i.createWebChannel(c,o);this.I_(u);let d=!1,h=!1;const p=new Yu({Yo:t=>{h?As($u,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(As($u,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),As($u,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Zo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return f(u,gs.EventType.OPEN,()=>{h||(As($u,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.o_())}),f(u,gs.EventType.CLOSE,()=>{h||(h=!0,As($u,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.a_(),this.E_(u))}),f(u,gs.EventType.ERROR,t=>{h||(h=!0,Rs($u,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),p.a_(new Vs(Us.UNAVAILABLE,"The operation could not be completed")))}),f(u,gs.EventType.MESSAGE,t=>{if(!h){var n;const s=t.data[0];Ms(!!s,16349);const i=s,a=(null===i||void 0===i?void 0:i.error)||(null===(n=i[0])||void 0===n?void 0:n.error);if(a){As($u,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Ql[e];if(void 0!==t)return Xl(t)}(t),s=a.message;void 0===n&&(n=Us.INTERNAL,s="Unknown error status: "+t+" with message "+a.message),h=!0,p.a_(new Vs(n,s)),u.close()}else As($u,"RPC '".concat(e,"' stream ").concat(r," received:"),s),p.u_(s)}}),f(a,ws.STAT_EVENT,t=>{t.stat===bs.PROXY?As($u,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===bs.NOPROXY&&As($u,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Zu(){return"undefined"!=typeof document?document:null}function ed(e){return new yc(e,!0)}class td{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&As("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.V_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nd="PersistentStream";class rd{constructor(e,t,n,r,s,i,a,o){this.Mi=e,this.S_=n,this.b_=r,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new td(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Us.RESOURCE_EXHAUSTED?(Ps(t.toString()),Ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Us.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Vs(Us.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return As(nd,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(As(nd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sd extends rd{constructor(e,t,n,r,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Os(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],i=function(e,t){return e.useProto3Json?(Ms(void 0===t||"string"==typeof t,58123),Sa.fromBase64String(t||"")):(Ms(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Sa.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Us.UNKNOWN:Xl(e.code);return new Vs(t,e.message||"")}(a);n=new uc(r,s,i,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const s=_c(e,r.document.name),i=Ec(r.document.updateTime),a=r.document.createTime?Ec(r.document.createTime):xi.min(),o=new ao({mapValue:{fields:r.document.fields}}),l=lo.newFoundDocument(s,i,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new lc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const s=_c(e,r.document),i=r.readTime?Ec(r.readTime):xi.min(),a=lo.newNoDocument(s,i),o=r.removedTargetIds||[];n=new lc([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const s=_c(e,r.document),i=r.removedTargetIds||[];n=new lc([],i,s,null)}else{if(!("filter"in t))return Os(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:s}=e,i=new Jl(r,s),a=e.targetId;n=new cc(a,i)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return xi.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?xi.min():t.readTime?Ec(t.readTime):xi.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Ac(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Lo(r)?{documents:Oc(e,r)}:{query:Lc(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=xc(e,t.resumeToken);const r=bc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(xi.min())>0){n.readTime=wc(e,t.snapshotVersion.toTimestamp());const r=bc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Os(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Ac(this.serializer),t.removeTarget=e,this.q_(t)}}class id extends rd{constructor(e,t,n,r,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,i),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ms(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ms(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Ms(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Ms(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Ec(e.updateTime):Ec(t);return n.isEqual(xi.min())&&(n=Ec(t)),new Tl(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Ec(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Ac(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Dc(this.serializer,e))};this.q_(t)}}class ad{}class od extends ad{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Vs(Us.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[i,a]=s;return this.connection.Go(e,kc(t,n),r,i,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Us.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vs(Us.UNKNOWN,e.toString())})}Ho(e,t,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,o]=i;return this.connection.Ho(e,kc(t,n),r,a,o,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Us.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Vs(Us.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class ld{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Ps(t),this.aa=!1):As("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const cd="RemoteStore";class ud{constructor(e,t,n,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{bd(this)&&(As(cd,"Restarting streams for network reachability change."),await async function(e){const t=Fs(e);t.Ea.add(4),await hd(t),t.Ra.set("Unknown"),t.Ea.delete(4),await dd(t)}(this))})}),this.Ra=new ld(n,r)}}async function dd(e){if(bd(e))for(const t of e.da)await t(!0)}async function hd(e){for(const t of e.da)await t(!1)}function pd(e,t){const n=Fs(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),yd(n)?vd(n):Fd(n).O_()&&md(n,t))}function fd(e,t){const n=Fs(e),r=Fd(n);n.Ia.delete(t),r.O_()&&gd(n,t),0===n.Ia.size&&(r.O_()?r.L_():bd(n)&&n.Ra.set("Unknown"))}function md(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xi.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fd(e).Y_(t)}function gd(e,t){e.Va.Ue(t),Fd(e).Z_(t)}function vd(e){e.Va=new hc({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Fd(e).start(),e.Ra.ua()}function yd(e){return bd(e)&&!Fd(e).x_()&&e.Ia.size>0}function bd(e){return 0===Fs(e).Ea.size}function wd(e){e.Va=void 0}async function xd(e){e.Ra.set("Online")}async function Sd(e){e.Ia.forEach((t,n)=>{md(e,t)})}async function Ed(e,t){wd(e),yd(e)?(e.Ra.ha(t),vd(e)):e.Ra.set("Unknown")}async function Nd(e,t,n){if(e.Ra.set("Online"),t instanceof uc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){As(cd,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await kd(e,n)}else if(t instanceof lc?e.Va.Ze(t):t instanceof cc?e.Va.st(t):e.Va.tt(t),!n.isEqual(xi.min()))try{const t=await Ru(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const s=e.Ia.get(r);s&&e.Ia.set(r,s.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Sa.EMPTY_BYTE_STRING,r.snapshotVersion)),gd(e,t);const s=new Kc(r.target,t,n,r.sequenceNumber);md(e,s)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){As(cd,"Failed to raise snapshot:",t),await kd(e,t)}}async function kd(e,t,n){if(!Ri(t))throw t;e.Ea.add(1),await hd(e),e.Ra.set("Offline"),n||(n=()=>Ru(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{As(cd,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await dd(e)})}function Cd(e,t){return t().catch(n=>kd(e,n,t))}async function jd(e){const t=Fs(e),n=Ud(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Oi;for(;_d(t);)try{const e=await Ou(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Td(t,e)}catch(e){await kd(t,e)}Id(t)&&Ad(t)}function _d(e){return bd(e)&&e.Ta.length<10}function Td(e,t){e.Ta.push(t);const n=Ud(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Id(e){return bd(e)&&!Ud(e).x_()&&e.Ta.length>0}function Ad(e){Ud(e).start()}async function Pd(e){Ud(e).ra()}async function Rd(e){const t=Ud(e);for(const n of e.Ta)t.ea(n.mutations)}async function Dd(e,t,n){const r=e.Ta.shift(),s=Wl.from(r,t,n);await Cd(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await jd(e)}async function Od(e,t){t&&Ud(e).X_&&await async function(e,t){if(function(e){return $l(e)&&e!==Us.ABORTED}(t.code)){const n=e.Ta.shift();Ud(e).B_(),await Cd(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await jd(e)}}(e,t),Id(e)&&Ad(e)}async function Ld(e,t){const n=Fs(e);n.asyncQueue.verifyOperationInProgress(),As(cd,"RemoteStore received new credentials");const r=bd(n);n.Ea.add(3),await hd(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await dd(n)}async function Md(e,t){const n=Fs(e);t?(n.Ea.delete(2),await dd(n)):t||(n.Ea.add(2),await hd(n),n.Ra.set("Unknown"))}function Fd(e){return e.ma||(e.ma=function(e,t,n){const r=Fs(e);return r.sa(),new sd(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:xd.bind(null,e),t_:Sd.bind(null,e),r_:Ed.bind(null,e),H_:Nd.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),yd(e)?vd(e):e.Ra.set("Unknown")):(await e.ma.stop(),wd(e))})),e.ma}function Ud(e){return e.fa||(e.fa=function(e,t,n){const r=Fs(e);return r.sa(),new id(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Pd.bind(null,e),r_:Od.bind(null,e),ta:Rd.bind(null,e),na:Dd.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await jd(e)):(await e.fa.stop(),e.Ta.length>0&&(As(cd,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Vd{constructor(e,t,n,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,s){const i=Date.now()+n,a=new Vd(e,t,i,r,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Vs(Us.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zd(e,t){if(Ps("AsyncQueue","".concat(t,": ").concat(e)),Ri(e))return new Vs(Us.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Bd{static emptySet(e){return new Bd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||ci.comparator(t.key,n.key):(e,t)=>ci.comparator(e.key,t.key),this.keyedMap=sl(),this.sortedSet=new ma(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Bd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class qd{constructor(){this.ga=new ma(ci.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Os(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Gd{constructor(e,t,n,r,s,i,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,s){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new Gd(e,t,Bd.emptySet(t),i,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ko(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Hd{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class Wd{constructor(){this.queries=Kd(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Fs(e),r=n.queries;n.queries=Kd(),r.forEach((e,n)=>{for(const r of n.Sa)r.onError(t)})}(this,new Vs(Us.ABORTED,"Firestore shutting down"))}}function Kd(){return new el(e=>Jo(e),Ko)}async function Jd(e,t){const n=Fs(e);let r=3;const s=t.query;let i=n.queries.get(s);i?!i.ba()&&t.Da()&&(r=2):(i=new Hd,r=t.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(e){const n=zd(e,"Initialization of query '".concat(Qo(t.query),"' failed"));return void t.onError(n)}n.queries.set(s,i),i.Sa.push(t),t.va(n.onlineState),i.wa&&t.Fa(i.wa)&&Xd(n)}async function Qd(e,t){const n=Fs(e),r=t.query;let s=3;const i=n.queries.get(r);if(i){const e=i.Sa.indexOf(t);e>=0&&(i.Sa.splice(e,1),0===i.Sa.length?s=t.Da()?0:1:!i.ba()&&t.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Yd(e,t){const n=Fs(e);let r=!1;for(const s of t){const e=s.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(s)&&(r=!0);t.wa=s}}r&&Xd(n)}function $d(e,t,n){const r=Fs(e),s=r.queries.get(t);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(t)}function Xd(e){e.Ca.forEach(e=>{e.next()})}var Zd,eh;(eh=Zd||(Zd={})).Ma="default",eh.Cache="cache";class th{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Gd(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Gd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zd.Cache}}class nh{constructor(e){this.key=e}}class rh{constructor(e){this.key=e}}class sh{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=dl(),this.mutatedKeys=dl(),this.eu=Xo(e),this.tu=new Bd(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new qd,r=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,i=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Yo(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(o||l)&&(a=!0)),p&&(u?(i=i.add(u),s=h?s.add(e):s.delete(e)):(i=i.delete(e),s=s.delete(e)))}),null!==this.query.limit)for(;i.size>this.query.limit;){const e="F"===this.query.limitType?i.last():i.first();i=i.delete(e.key),s=s.delete(e.key),n.track({type:1,doc:e})}return{tu:i,iu:n,Cs:a,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Os(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const a=t&&!r?this._u():[],o=0===this.Xa.size&&this.current&&!r?1:0,l=o!==this.Za;return this.Za=o,0!==i.length||l?{snapshot:new Gd(this.query,e.tu,s,i,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qd,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=dl(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new rh(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new nh(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=dl();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Gd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const ih="SyncEngine";class ah{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class oh{constructor(e){this.key=e,this.hu=!1}}class lh{constructor(e,t,n,r,s,i){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new el(e=>Jo(e),Ko),this.Iu=new Map,this.Eu=new Set,this.du=new ma(ci.comparator),this.Au=new Map,this.Ru=new gu,this.Vu={},this.mu=new Map,this.fu=nu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function ch(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Ih(e);let s;const i=r.Tu.get(t);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await dh(r,t,n,!0),s}async function uh(e,t){const n=Ih(e);await dh(n,t,!0,!1)}async function dh(e,t,n,r){const s=await Lu(e.localStore,qo(t)),i=s.targetId,a=e.sharedClientState.addLocalQueryTarget(i,n);let o;return r&&(o=await hh(e,t,i,"current"===a,s.resumeToken)),e.isPrimaryClient&&n&&pd(e.remoteStore,s),o}async function hh(e,t,n,r,s){e.pu=(t,n,r)=>async function(e,t,n,r){let s=t.view.ru(n);s.Cs&&(s=await Fu(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,s)}));const i=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(s,e.isPrimaryClient,i,a);return Nh(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const i=await Fu(e.localStore,t,!0),a=new sh(t,i.Qs),o=a.ru(i.documents),l=oc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,s),c=a.applyChanges(o,e.isPrimaryClient,l);Nh(e,n,c.au);const u=new ah(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function ph(e,t,n){const r=Fs(e),s=r.Tu.get(t),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(e=>!Ko(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Mu(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&fd(r.remoteStore,s.targetId),Sh(r,s.targetId)}).catch(Ii)):(Sh(r,s.targetId),await Mu(r.localStore,s.targetId,!0))}async function fh(e,t){const n=Fs(e),r=n.Tu.get(t),s=n.Iu.get(r.targetId);n.isPrimaryClient&&1===s.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fd(n.remoteStore,r.targetId))}async function mh(e,t){const n=Fs(e);try{const e=await function(e,t){const n=Fs(e),r=t.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];t.targetChanges.forEach((i,o)=>{const l=s.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,i.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,i.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Sa.EMPTY_BYTE_STRING,xi.min()).withLastLimboFreeSnapshotVersion(xi.min()):i.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(i.resumeToken,r)),s=s.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,i)&&a.push(n.Pi.updateTargetData(e,c))});let o=nl(),l=dl();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Du(e,i,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!r.isEqual(xi.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Ai.waitFor(a).next(()=>i.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=s,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(Ms(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?Ms(r.hu,14607):e.removedDocuments.size>0&&(Ms(r.hu,42227),r.hu=!1))}),await jh(n,e,t)}catch(e){await Ii(e)}}function gh(e,t,n){const r=Fs(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const s=r.view.va(t);s.snapshot&&e.push(s.snapshot)}),function(e,t){const n=Fs(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const s of n.Sa)s.va(t)&&(r=!0)}),r&&Xd(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vh(e,t,n){const r=Fs(e);r.sharedClientState.updateQueryState(t,"rejected",n);const s=r.Au.get(t),i=s&&s.key;if(i){let e=new ma(ci.comparator);e=e.insert(i,lo.newNoDocument(i,xi.min()));const n=dl().add(i),s=new ac(xi.min(),new Map,new ma(Xs),e,n);await mh(r,s),r.du=r.du.remove(i),r.Au.delete(t),Ch(r)}else await Mu(r.localStore,t,!1).then(()=>Sh(r,t,n)).catch(Ii)}async function yh(e,t){const n=Fs(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Fs(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const s=n.batch,i=s.keys();let a=Ai.resolve();return i.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const i=n.docVersions.get(e);Ms(null!==i,48541),t.version.compareTo(i)<0&&(s.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,s))}(n,e,t,s).next(()=>s.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=dl();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);xh(n,r,null),wh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jh(n,e)}catch(e){await Ii(e)}}async function bh(e,t,n){const r=Fs(e);try{const e=await function(e,t){const n=Fs(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Ms(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);xh(r,t,n),wh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await jh(r,e)}catch(n){await Ii(n)}}function wh(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function xh(e,t,n){const r=Fs(e);let s=r.Vu[r.currentUser.toKey()];if(s){const e=s.get(t);e&&(n?e.reject(n):e.resolve(),s=s.remove(t)),r.Vu[r.currentUser.toKey()]=s}}function Sh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Eh(e,t)})}function Eh(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(fd(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Ch(e))}function Nh(e,t,n){for(const r of n)r instanceof nh?(e.Ru.addReference(r.key,t),kh(e,r)):r instanceof rh?(As(ih,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||Eh(e,r.key)):Os(19791,{wu:r})}function kh(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(As(ih,"New document in limbo: "+n),e.Eu.add(r),Ch(e))}function Ch(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new ci(ai.fromString(t)),r=e.fu.next();e.Au.set(r,new oh(n)),e.du=e.du.insert(n,r),pd(e.remoteStore,new Kc(qo(Uo(n.path)),r,"TargetPurposeLimboResolution",Di.ce))}}async function jh(e,t,n){const r=Fs(e),s=[],i=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{a.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const s=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,s?"current":"not-current")}if(e){s.push(e);const t=Cu.As(o.targetId,e);i.push(t)}}))}),await Promise.all(a),r.Pu.H_(s),await async function(e,t){const n=Fs(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Ai.forEach(t,t=>Ai.forEach(t.Es,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Ai.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!Ri(e))throw e;As(Tu,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),r=t.snapshotVersion,s=t.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(e,s)}}}(r.localStore,i))}async function _h(e,t){const n=Fs(e);if(!n.currentUser.isEqual(t)){As(ih,"User change. New user:",t.toKey());const e=await Pu(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Vs(Us.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await jh(n,e.Ls)}}function Th(e,t){const n=Fs(e),r=n.Au.get(t);if(r&&r.hu)return dl().add(r.key);{let e=dl();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Ih(e){const t=Fs(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=mh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Th.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vh.bind(null,t),t.Pu.H_=Yd.bind(null,t.eventManager),t.Pu.yu=$d.bind(null,t.eventManager),t}function Ah(e){const t=Fs(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bh.bind(null,t),t}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Au(this.persistence,new _u,e.initialUser,this.serializer)}Cu(e){return new Su(Nu.mi,this.serializer)}Du(e){return new zu}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class Rh extends Ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ms(this.persistence.referenceDelegate instanceof ku,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ou(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?tu.withCacheSize(this.cacheSizeBytes):tu.DEFAULT;return new Su(e=>ku.mi(e,t),this.serializer)}}class Dh{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>gh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=_h.bind(null,this.syncEngine),await Md(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Wd}createDatastore(e){const t=ed(e.databaseInfo.databaseId),n=function(e){return new Xu(e)}(e.databaseInfo);return function(e,t,n,r){return new od(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,s){return new ud(e,t,n,r,s)}(this.localStore,this.datastore,e.asyncQueue,e=>gh(this.syncEngine,e,0),Gu.v()?new Gu:new Bu)}createSyncEngine(e,t){return function(e,t,n,r,s,i,a){const o=new lh(e,t,n,r,s,i);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Fs(e);As(cd,"RemoteStore shutting down."),t.Ea.add(5),await hd(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Dh.provider={build:()=>new Dh};class Oh{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Lh="FirestoreClient";class Mh{constructor(e,t,n,r,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=js.UNAUTHENTICATED,this.clientId=$s.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async e=>{As(Lh,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(As(Lh,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=zd(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Fh(e,t){e.asyncQueue.verifyOperationInProgress(),As(Lh,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Pu(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Uh(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Vh(e);As(Lh,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Ld(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Ld(t.remoteStore,n)),e._onlineComponents=t}async function Vh(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){As(Lh,"Using user provided OfflineComponentProvider");try{await Fh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Us.FAILED_PRECONDITION||e.code===Us.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Rs("Error using user provided cache. Falling back to memory cache: "+n),await Fh(e,new Ph)}}else As(Lh,"Using default OfflineComponentProvider"),await Fh(e,new Rh(void 0));return e._offlineComponents}async function zh(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(As(Lh,"Using user provided OnlineComponentProvider"),await Uh(e,e._uninitializedComponentsProvider._online)):(As(Lh,"Using default OnlineComponentProvider"),await Uh(e,new Dh))),e._onlineComponents}function Bh(e){return zh(e).then(e=>e.syncEngine)}async function qh(e){const t=await zh(e),n=t.eventManager;return n.onListen=ch.bind(null,t.syncEngine),n.onUnlisten=ph.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=uh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=fh.bind(null,t.syncEngine),n}function Gh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zs;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Oh({next:o=>{i.Nu(),t.enqueueAndForget(()=>Qd(e,a));const l=o.docs.has(n);!l&&o.fromCache?s.reject(new Vs(Us.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?s.reject(new Vs(Us.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):s.resolve(o)},error:e=>s.reject(e)}),a=new th(Uo(n.path),i,{includeMetadataChanges:!0,qa:!0});return Jd(e,a)}(await qh(e),e.asyncQueue,t,n,r)),r.promise}function Hh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new zs;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,s){const i=new Oh({next:n=>{i.Nu(),t.enqueueAndForget(()=>Qd(e,a)),n.fromCache&&"server"===r.source?s.reject(new Vs(Us.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):s.resolve(n)},error:e=>s.reject(e)}),a=new th(n,i,{includeMetadataChanges:!0,qa:!0});return Jd(e,a)}(await qh(e),e.asyncQueue,t,n,r)),r.promise}function Wh(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Kh=new Map,Jh="firestore.googleapis.com",Qh=!0;class Yh{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Vs(Us.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jh,this.ssl=Qh}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Qh;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=eu;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<su)throw new Vs(Us.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Vs(Us.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wh(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Vs(Us.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Vs(Us.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Vs(Us.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Vs(Us.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Vs(Us.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yh(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new qs;switch(e.type){case"firstParty":return new Ks(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Vs(Us.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Kh.get(e);t&&(As("ComponentProvider","Removing Datastore"),Kh.delete(e),t.terminate())}(this),Promise.resolve()}}function Xh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=mi(e,$h);const s=vn(t),i=e._getSettings(),a=d(d({},i),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);s&&(yn("https://".concat(o)),xn("Firestore",!0)),i.host!==Jh&&i.host!==o&&Rs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=d(d({},i),{},{host:o,ssl:s,emulatorOptions:r});if(!Tn(l,a)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=js.MOCK_USER;else{var c;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=d({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[cn(JSON.stringify({alg:"none",type:"JWT"})),cn(JSON.stringify(i)),""].join(".")}(r.mockUserToken,null===(c=e._app)||void 0===c?void 0:c.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Vs(Us.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new js(s)}e._authCredentials=new Gs(new Bs(t,n))}}class Zh{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Zh(this.firestore,e,this._query)}}class ep{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ep(this.firestore,e,this._key)}toJSON(){return{type:ep._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(vi(t,ep._jsonSchema))return new ep(e,n||null,new ci(ai.fromString(t.referencePath)))}}ep._jsonSchemaVersion="firestore/documentReference/1.0",ep._jsonSchema={type:gi("string",ep._jsonSchemaVersion),referencePath:gi("string")};class tp extends Zh{constructor(e,t,n){super(e,t,Uo(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ep(this.firestore,null,new ci(e))}withConverter(e){return new tp(this.firestore,e,this._path)}}function np(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Ln(e),ui("collection","path",t),e instanceof $h){const n=ai.fromString(t,...r);return hi(n),new tp(e,null,n)}{if(!(e instanceof ep||e instanceof tp))throw new Vs(Us.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ai.fromString(t,...r));return hi(n),new tp(e.firestore,null,n)}}function rp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];if(e=Ln(e),1===arguments.length&&(t=$s.newId()),ui("doc","path",t),e instanceof $h){const n=ai.fromString(t,...r);return di(n),new ep(e,null,new ci(n))}{if(!(e instanceof ep||e instanceof tp))throw new Vs(Us.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ai.fromString(t,...r));return di(n),new ep(e.firestore,e instanceof tp?e.converter:null,new ci(n))}}const sp="AsyncQueue";class ip{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new td(this,"async_queue_retry"),this._c=()=>{const e=Zu();e&&As(sp,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Zu();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Zu();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new zs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(qv){if(!Ri(qv))throw qv;As(sp,"Operation failed with retryable error: "+qv)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Ps("INTERNAL UNHANDLED ERROR: ",ap(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Vd.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Os(47125,{Pc:ap(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ap(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class op extends $h{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ip,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ip(e),this._firestoreClient=void 0,await e}}}function lp(e){if(e._terminated)throw new Vs(Us.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||cp(e),e._firestoreClient}function cp(e){var t,n,r;const s=e._freezeSettings(),i=function(e,t,n,r){return new Da(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Wh(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,s);e._componentsProvider||null!==(n=s.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=s.localCache)&&void 0!==r&&r._onlineComponentProvider&&(e._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),e._firestoreClient=new Mh(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class up{constructor(e){this._byteString=e}static fromBase64String(e){try{return new up(Sa.fromBase64String(e))}catch(e){throw new Vs(Us.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new up(Sa.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:up._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vi(e,up._jsonSchema))return up.fromBase64String(e.bytes)}}up._jsonSchemaVersion="firestore/bytes/1.0",up._jsonSchema={type:gi("string",up._jsonSchemaVersion),bytes:gi("string")};class dp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Vs(Us.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new li(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hp{constructor(e){this._methodName=e}}class pp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Vs(Us.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Vs(Us.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xs(this._lat,e._lat)||Xs(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:pp._jsonSchemaVersion}}static fromJSON(e){if(vi(e,pp._jsonSchema))return new pp(e.latitude,e.longitude)}}pp._jsonSchemaVersion="firestore/geoPoint/1.0",pp._jsonSchema={type:gi("string",pp._jsonSchemaVersion),latitude:gi("number"),longitude:gi("number")};class fp{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:fp._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vi(e,fp._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new fp(e.vectorValues);throw new Vs(Us.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fp._jsonSchemaVersion="firestore/vectorValue/1.0",fp._jsonSchema={type:gi("string",fp._jsonSchemaVersion),vectorValues:gi("object")};const mp=/^__.*__$/;class gp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ul(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fl(e,this.data,t,this.fieldTransforms)}}class vp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ul(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Os(40011,{Ac:e})}}class bp{constructor(e,t,n,r,s,i){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===s&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bp(d(d({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Dp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(yp(this.Ac)&&mp.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class wp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ed(e)}Cc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new bp({Ac:e,methodName:t,Dc:n,path:li.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xp(e){const t=e._freezeSettings(),n=ed(e._databaseId);return new wp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sp(e,t,n,r,s){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Cc(i.merge||i.mergeFields?2:0,t,n,s);Ip("Data must be an object, but it was:",a,r);const o=_p(r,a);let l,c;if(i.merge)l=new wa(a.fieldMask),c=a.fieldTransforms;else if(i.mergeFields){const e=[];for(const r of i.mergeFields){const s=Ap(t,r,n);if(!a.contains(s))throw new Vs(Us.INVALID_ARGUMENT,"Field '".concat(s,"' is specified in your field mask but missing from your input data."));Op(e,s)||e.push(s)}l=new wa(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new gp(new ao(o),l,c)}class Ep extends hp{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Sc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ep}}function Np(e,t,n,r){const s=e.Cc(1,t,n);Ip("Data must be an object, but it was:",s,r);const i=[],a=ao.empty();pa(r,(e,r)=>{const o=Rp(t,e,n);r=Ln(r);const l=s.yc(o);if(r instanceof Ep)i.push(o);else{const e=jp(r,l);null!=e&&(i.push(o),a.set(o,e))}});const o=new wa(i);return new vp(a,o,s.fieldTransforms)}function kp(e,t,n,r,s,i){const a=e.Cc(1,t,n),o=[Ap(t,r,n)],l=[s];if(i.length%2!=0)throw new Vs(Us.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<i.length;h+=2)o.push(Ap(t,i[h])),l.push(i[h+1]);const c=[],u=ao.empty();for(let h=o.length-1;h>=0;--h)if(!Op(c,o[h])){const e=o[h];let t=l[h];t=Ln(t);const n=a.yc(e);if(t instanceof Ep)c.push(e);else{const r=jp(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new wa(c);return new vp(u,d,a.fieldTransforms)}function Cp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return jp(n,e.Cc(r?4:3,t))}function jp(e,t){if(Tp(e=Ln(e)))return Ip("Unsupported field value:",t,e),_p(e,t);if(e instanceof hp)return function(e,t){if(!yp(t.Ac))throw t.Sc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Sc("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const s of e){let e=jp(s,t.wc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Ln(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return gl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=wi.fromDate(e);return{timestampValue:wc(t.serializer,n)}}if(e instanceof wi){const n=new wi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wc(t.serializer,n)}}if(e instanceof pp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof up)return{bytesValue:xc(t.serializer,e._byteString)};if(e instanceof ep){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Nc(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof fp)return function(e,t){return{mapValue:{fields:{[Ma]:{stringValue:Va},[za]:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Sc("VectorValues must only contain numeric values.");return fl(t.serializer,e)})}}}}}}(e,t);throw t.Sc("Unsupported field value: ".concat(fi(e)))}(e,t)}function _p(e,t){const n={};return fa(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):pa(e,(e,r)=>{const s=jp(r,t.mc(e));null!=s&&(n[e]=s)}),{mapValue:{fields:n}}}function Tp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof wi||e instanceof pp||e instanceof up||e instanceof ep||e instanceof hp||e instanceof fp)}function Ip(e,t,n){if(!Tp(n)||!pi(n)){const r=fi(n);throw"an object"===r?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function Ap(e,t,n){if((t=Ln(t))instanceof dp)return t._internalPath;if("string"==typeof t)return Rp(e,t);throw Dp("Field path arguments must be of type string or ",e,!1,void 0,n)}const Pp=new RegExp("[~\\*/\\[\\]]");function Rp(e,t,n){if(t.search(Pp)>=0)throw Dp("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new dp(...t.split("."))._internalPath}catch(r){throw Dp("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Dp(e,t,n,r,s){const i=r&&!r.isEmpty(),a=void 0!==s;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||a)&&(l+=" (found",i&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(s)),l+=")"),new Vs(Us.INVALID_ARGUMENT,o+e+l)}function Op(e,t){return e.some(e=>e.isEqual(t))}class Lp{constructor(e,t,n,r,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ep(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Mp extends Lp{data(){return super.data()}}function Fp(e,t){return"string"==typeof t?Rp(e,t):t instanceof dp?t._internalPath:t._delegate._internalPath}function Up(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Vs(Us.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vp{}class zp extends Vp{}class Bp extends zp{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Bp(e,t,n)}_apply(e){const t=this._parse(e);return Wp(e._query,t),new Zh(e.firestore,e.converter,Ho(e._query,t))}_parse(e){const t=xp(e.firestore),n=function(e,t,n,r,s,i,a){let o;if(s.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new Vs(Us.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on documentId()."));if("in"===i||"not-in"===i){Hp(a,i);const t=[];for(const n of a)t.push(Gp(r,e,n));o={arrayValue:{values:t}}}else o=Gp(r,e,a)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||Hp(a,i),o=Cp(n,t,a,"in"===i||"not-in"===i);return go.create(s,i,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class qp extends Vp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new qp(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:vo.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const s of r)Wp(n,s),n=Ho(n,s)}(e._query,t),new Zh(e.firestore,e.converter,Ho(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Gp(e,t,n){if("string"==typeof(n=Ln(n))){if(""===n)throw new Vs(Us.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zo(t)&&-1!==n.indexOf("/"))throw new Vs(Us.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(ai.fromString(n));if(!ci.isDocumentKey(r))throw new Vs(Us.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return $a(e,new ci(r))}if(n instanceof ep)return $a(e,n._key);throw new Vs(Us.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(fi(n),"."))}function Hp(e,t){if(!Array.isArray(e)||0===e.length)throw new Vs(Us.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Wp(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Vs(Us.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Vs(Us.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Kp{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ka(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ca(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Os(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return pa(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[za].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>ka(e.doubleValue));return new fp(n)}convertGeoPoint(e){return new pp(ka(e.latitude),ka(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Pa(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ra(e));default:return null}}convertTimestamp(e){const t=Na(e);return new wi(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ai.fromString(e);Ms(Wc(n),9688,{name:e});const r=new La(n.get(1),n.get(3)),s=new ci(n.popFirst(5));return r.isEqual(t)||Ps("Document ".concat(s," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),s}}function Jp(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Qp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Yp extends Lp{constructor(e,t,n,r,s,i){super(e,t,n,r,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new $p(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Fp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Vs(Us.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Yp._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}Yp._jsonSchemaVersion="firestore/documentSnapshot/1.0",Yp._jsonSchema={type:gi("string",Yp._jsonSchemaVersion),bundleSource:gi("string","DocumentSnapshot"),bundleName:gi("string"),bundle:gi("string")};class $p extends Yp{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Xp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Qp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new $p(this._firestore,this._userDataWriter,n.key,n,new Qp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Vs(Us.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new $p(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Qp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new $p(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Qp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let s=-1,i=-1;return 0!==t.type&&(s=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),i=n.indexOf(t.doc.key)),{type:Zp(t.type),doc:r,oldIndex:s,newIndex:i}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Vs(Us.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Xp._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$s.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Zp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Os(61501,{type:e})}}function ef(e){e=mi(e,ep);const t=mi(e.firestore,op);return Gh(lp(t),e._key).then(n=>cf(t,e,n))}Xp._jsonSchemaVersion="firestore/querySnapshot/1.0",Xp._jsonSchema={type:gi("string",Xp._jsonSchemaVersion),bundleSource:gi("string","QuerySnapshot"),bundleName:gi("string"),bundle:gi("string")};class tf extends Kp{constructor(e){super(),this.firestore=e}convertBytes(e){return new up(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ep(this.firestore,null,t)}}function nf(e){e=mi(e,Zh);const t=mi(e.firestore,op),n=lp(t),r=new tf(t);return Up(e._query),Hh(n,e._query).then(n=>new Xp(t,r,e,n))}function rf(e,t,n){e=mi(e,ep);const r=mi(e.firestore,op),s=Jp(e.converter,t,n);return lf(r,[Sp(xp(r),"setDoc",e._key,s,null!==e.converter,n).toMutation(e._key,Il.none())])}function sf(e,t,n){e=mi(e,ep);const r=mi(e.firestore,op),s=xp(r);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return i="string"==typeof(t=Ln(t))||t instanceof dp?kp(s,"updateDoc",e._key,t,n,o):Np(s,"updateDoc",e._key,t),lf(r,[i.toMutation(e._key,Il.exists(!0))])}function af(e){return lf(mi(e.firestore,op),[new ql(e._key,Il.none())])}function of(e,t){const n=mi(e.firestore,op),r=rp(e),s=Jp(e.converter,t);return lf(n,[Sp(xp(e.firestore),"addDoc",r._key,s,null!==e.converter,{}).toMutation(r._key,Il.exists(!1))]).then(()=>r)}function lf(e,t){return function(e,t){const n=new zs;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=Ah(e);try{const e=await function(e,t){const n=Fs(e),r=wi.now(),s=t.reduce((e,t)=>e.add(t.key),dl());let i,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=nl(),l=dl();return n.Ns.getEntries(e,s).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(s=>{i=s;const a=[];for(const e of t){const t=Ll(e,i.get(e.key).overlayedDocument);null!=t&&a.push(new Ul(e.key,t,oo(t.value.mapValue),Il.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(i,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:il(i)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||(r=new ma(Xs)),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await jh(r,e.changes),await jd(r.remoteStore)}catch(e){const t=zd(e,"Failed to persist write");n.reject(t)}}(await Bh(e),t,n)),n.promise}(lp(e),t)}function cf(e,t,n){const r=n.docs.get(t._key),s=new tf(e);return new Yp(e,s,t._key,r,new Qp(n.hasPendingWrites,n.fromCache),t.converter)}class uf{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xp(e)}set(e,t,n){this._verifyNotCommitted();const r=df(e,this._firestore),s=Jp(r.converter,t,n),i=Sp(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,Il.none())),this}update(e,t,n){this._verifyNotCommitted();const r=df(e,this._firestore);let s;for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];return s="string"==typeof(t=Ln(t))||t instanceof dp?kp(this._dataReader,"WriteBatch.update",r._key,t,n,a):Np(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(s.toMutation(r._key,Il.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=df(e,this._firestore);return this._mutations=this._mutations.concat(new ql(t._key,Il.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Vs(Us.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function df(e,t){if((e=Ln(e)).firestore!==t)throw new Vs(Us.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function hf(e){return lp(e=mi(e,op)),new uf(e,t=>lf(e,t))}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_s=e}($r),Wr(new Mn("firestore",(e,n)=>{let{instanceIdentifier:r,options:s}=n;const i=e.getProvider("app").getImmediate(),a=new op(new Hs(e.getProvider("auth-internal")),new Qs(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Vs(Us.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new La(e.options.projectId,t)}(i,r),i);return s=d({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),es(ks,Cs,e),es(ks,Cs,"esm2020")}();const pf=["providerId"],ff=["uid","auth","stsTokenManager"],mf=["providerId","signInMethod"];function gf(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vf=gf,yf=new jn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),bf=new Kn("@firebase/auth");function wf(e){if(bf.logLevel<=Bn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];bf.error("Auth (".concat($r,"): ").concat(e),...n)}}function xf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw kf(e,...n)}function Sf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kf(e,...n)}function Ef(e,t,n){const r=d(d({},vf()),{},{[t]:n});return new jn("auth","Firebase",r).create(t,{appName:e.name})}function Nf(e){return Ef(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return yf.create(e,...n)}function Cf(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];throw kf(t,...r)}}function jf(e){const t="INTERNAL ASSERTION FAILED: "+e;throw wf(t),new Error(t)}function _f(e,t){e||jf(t)}function Tf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function If(){return"http:"===Af()||"https:"===Af()}function Af(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Pf(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(If()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Rf{constructor(e,t){this.shortDelay=e,this.longDelay=t,_f(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Pf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Df(e,t){_f(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Of{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void jf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void jf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void jf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Lf={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Mf=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ff=new Rf(3e4,6e4);function Uf(e,t){return e.tenantId&&!t.tenantId?d(d({},t),{},{tenantId:e.tenantId}):t}async function Vf(e,t,n,r){return zf(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},i={};r&&("GET"===t?i=r:s={body:JSON.stringify(r)});const a=An(d({key:e.config.apiKey},i)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=d({method:t,headers:o},s);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&vn(e.emulatorConfig.host)&&(l.credentials="include"),Of.fetch()(await qf(e,e.config.apiHost,n,a),l)})}async function zf(e,t,n){e._canInitEmulator=!1;const r=d(d({},Lf),t);try{const t=new Hf(e),s=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw Wf(e,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const t=s.ok?i.errorMessage:i.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Wf(e,"credential-already-in-use",i);if("EMAIL_EXISTS"===n)throw Wf(e,"email-already-in-use",i);if("USER_DISABLED"===n)throw Wf(e,"user-disabled",i);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Ef(e,o,a);xf(e,o)}}catch(qv){if(qv instanceof Cn)throw qv;xf(e,"network-request-failed",{message:String(qv)})}}async function Bf(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const i=await Vf(e,t,n,r,s);return"mfaPendingCredential"in i&&xf(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function qf(e,t,n,r){const s="".concat(t).concat(n,"?").concat(r),i=e,a=i.config.emulator?Df(e.config,s):"".concat(e.config.apiScheme,"://").concat(s);if(Mf.includes(n)&&(await i._persistenceManagerAvailable,"COOKIE"===i._getPersistenceType())){return i._getPersistence()._getFinalTarget(a).toString()}return a}function Gf(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hf{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Sf(this.auth,"network-request-failed")),Ff.get())})}}function Wf(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Sf(e,t,r);return s.customData._tokenResponse=n,s}function Kf(e){return void 0!==e&&void 0!==e.enterprise}class Jf{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Gf(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Qf(e,t){return Vf(e,"GET","/v2/recaptchaConfig",Uf(e,t))}async function Yf(e,t){return Vf(e,"POST","/v1/accounts:lookup",t)}function $f(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(qv){}}function Xf(e){return 1e3*Number(e)}function Zf(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return wf("JWT malformed, contained fewer than 3 sections"),null;try{const e=un(n);return e?JSON.parse(e):(wf("Failed to decode base64 JWT payload"),null)}catch(qv){return wf("Caught error parsing JWT payload as JSON",null===qv||void 0===qv?void 0:qv.toString()),null}}function em(e){const t=Zf(e);return Cf(t,"internal-error"),Cf("undefined"!==typeof t.exp,"internal-error"),Cf("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function tm(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(qv){throw qv instanceof Cn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(qv)&&e.auth.currentUser===e&&await e.auth.signOut(),qv}}class nm{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(qv){return void((null===qv||void 0===qv?void 0:qv.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class rm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$f(this.lastLoginAt),this.creationTime=$f(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sm(e){var t;const n=e.auth,r=await e.getIdToken(),s=await tm(e,Yf(n,{idToken:r}));Cf(null===s||void 0===s?void 0:s.users.length,n,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const a=null!==(t=i.providerUserInfo)&&void 0!==t&&t.length?im(i.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&i.passwordHash)&&!(null!==o&&void 0!==o&&o.length),h=!!u&&d,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new rm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function im(e){return e.map(e=>{let{providerId:t}=e,n=a(e,pf);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class am{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Cf(e.idToken,"internal-error"),Cf("undefined"!==typeof e.idToken,"internal-error"),Cf("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):em(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Cf(0!==e.length,"internal-error");const t=em(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Cf(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await zf(e,{},async()=>{const n=An({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,i=await qf(e,r,"/v1/token","key=".concat(s)),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&vn(e.emulatorConfig.host)&&(o.credentials="include"),Of.fetch()(i,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:s}=t,i=new am;return n&&(Cf("string"===typeof n,"internal-error",{appName:e}),i.refreshToken=n),r&&(Cf("string"===typeof r,"internal-error",{appName:e}),i.accessToken=r),s&&(Cf("number"===typeof s,"internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new am,this.toJSON())}_performRefresh(){return jf("not implemented")}}function om(e,t){Cf("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class lm{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,s=a(e,ff);this.providerId="firebase",this.proactiveRefresh=new nm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await tm(this,this.stsTokenManager.getToken(this.auth,e));return Cf(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Ln(e),r=await n.getIdToken(t),s=Zf(r);Cf(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i="object"===typeof s.firebase?s.firebase:void 0,a=null===i||void 0===i?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:$f(Xf(s.auth_time)),issuedAtTime:$f(Xf(s.iat)),expirationTime:$f(Xf(s.exp)),signInProvider:a||null,signInSecondFactor:(null===i||void 0===i?void 0:i.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Ln(e);await sm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Cf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>d({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new lm(d(d({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Cf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await sm(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(Nf(this.auth));const e=await this.getIdToken();return await tm(this,async function(e,t){return Vf(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return d(d({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>d({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,s,i,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,f=null!==(i=t.photoURL)&&void 0!==i?i:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:S,stsTokenManager:E}=t;Cf(b&&E,e,"internal-error");const N=am.fromJSON(this.name,E);Cf("string"===typeof b,e,"internal-error"),om(u,e.name),om(h,e.name),Cf("boolean"===typeof w,e,"internal-error"),Cf("boolean"===typeof x,e,"internal-error"),om(p,e.name),om(f,e.name),om(m,e.name),om(g,e.name),om(v,e.name),om(y,e.name);const k=new lm({uid:b,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:N,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(k.providerData=S.map(e=>d({},e))),g&&(k._redirectEventId=g),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new am;r.updateFromServerResponse(t);const s=new lm({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await sm(s),s}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Cf(void 0!==r.localId,"internal-error");const s=void 0!==r.providerUserInfo?im(r.providerUserInfo):[],i=!(r.email&&r.passwordHash)&&!(null!==s&&void 0!==s&&s.length),a=new am;a.updateFromIdToken(n);const o=new lm({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:i}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new rm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==s&&void 0!==s&&s.length)};return Object.assign(o,l),o}}const cm=new Map;function um(e){_f(e instanceof Function,"Expected a class definition");let t=cm.get(e);return t?(_f(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,cm.set(e,t),t)}class dm{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}dm.type="NONE";const hm=dm;function pm(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class fm{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:s}=this.auth;this.fullUserKey=pm(this.userKey,r.apiKey,s),this.fullPersistenceKey=pm("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Yf(this.auth,{idToken:e}).catch(()=>{});return t?lm._fromGetAccountInfoResponse(this.auth,t,e):null}return lm._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new fm(um(hm),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let s=r[0]||um(hm);const i=pm(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(i);if(t){let n;if("string"===typeof t){const r=await Yf(e,{idToken:t}).catch(()=>{});if(!r)break;n=await lm._fromGetAccountInfoResponse(e,r,t)}else n=lm._fromJSON(e,t);c!==s&&(a=n),s=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return s._shouldAllowMigration&&o.length?(s=o[0],a&&await s._set(i,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==s)try{await e._remove(i)}catch(t){}})),new fm(s,e,n)):new fm(s,e,n)}}function mm(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bm(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gm(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xm(t))return"Blackberry";if(Sm(t))return"Webos";if(vm(t))return"Safari";if((t.includes("chrome/")||ym(t))&&!t.includes("edge/"))return"Chrome";if(wm(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function gm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/firefox\//i.test(e)}function vm(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ym(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/crios\//i.test(e)}function bm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/iemobile/i.test(e)}function wm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/android/i.test(e)}function xm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/blackberry/i.test(e)}function Sm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/webos/i.test(e)}function Em(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Nm(){return function(){const e=Sn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function km(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn();return Em(e)||wm(e)||Sm(e)||xm(e)||/windows phone/i.test(e)||bm(e)}function Cm(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=mm(Sn());break;case"Worker":t="".concat(mm(Sn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat($r,"/").concat(r)}class jm{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(qv){r(qv)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(qv){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===qv||void 0===qv?void 0:qv.message})}}}class _m{constructor(e){var t,n,r,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=i.minPasswordLength)&&void 0!==t?t:6,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),void 0!==i.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),void 0!==i.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),void 0!==i.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),void 0!==i.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,s,i,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsUppercaseLetter)||void 0===s||s),o.isValid&&(o.isValid=null===(i=o.containsNumericCharacter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class Tm{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Am(this),this.idTokenSubscription=new Am(this),this.beforeStateQueue=new jm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yf,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=um(t)),this._initializationPromise=this.queue(async()=>{var n,r,s;if(!this._deleted&&(this.persistenceManager=await fm.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(qv){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(s=this.currentUser)||void 0===s?void 0:s.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Yf(this,{idToken:e}),n=await lm._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Jr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var s,i;await this.getOrInitRedirectPersistenceManager();const t=null===(s=this.redirectUser)||void 0===s?void 0:s._redirectEventId,a=null===(i=n)||void 0===i?void 0:i._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==a||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(qv){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(qv))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Cf(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(qv){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await sm(e)}catch(qv){if((null===qv||void 0===qv?void 0:qv.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(Nf(this));const t=e?Ln(e):null;return t&&Cf(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Cf(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(Nf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(Nf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(um(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Vf(e,"GET","/v2/passwordPolicy",Uf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new _m(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Vf(e,"POST","/v2/accounts:revokeToken",Uf(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&um(e)||this._popupRedirectResolver;Cf(t,this,"argument-error"),this.redirectPersistenceManager=await fm.create(this,[um(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const s="function"===typeof t?t:t.next.bind(t);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Cf(a,this,"internal-error"),a.then(()=>{i||s(this.currentUser)}),"function"===typeof t){const s=e.addObserver(t,n,r);return()=>{i=!0,s()}}{const n=e.addObserver(t);return()=>{i=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Cf(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cm(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(bf.logLevel<=Bn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];bf.warn("Auth (".concat($r,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Im(e){return Ln(e)}class Am{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Dn(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Cf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rm(e){return Pm.loadJS(e)}function Dm(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Om{constructor(){this.enterprise=new Lm}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Lm{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Mm="NO_RECAPTCHA";class Fm{constructor(e){this.type="recaptcha-enterprise",this.auth=Im(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const s=window.grecaptcha;Kf(s)?s.enterprise.ready(()=>{s.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Mm)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Om).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Qf(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new Jf(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(s=>{if(!t&&Kf(window.grecaptcha))n(s,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Pm.recaptchaEnterpriseScript;0!==t.length&&(t+=s),Rm(t).then(()=>{n(s,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Um(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=new Fm(e);let a;if(s)a=Mm;else try{a=await i.verify(n)}catch(l){a=await i.verify(n,!0)}const o=d({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Vm(e,t,n,r,s){if("EMAIL_PASSWORD_PROVIDER"===s){var i;if(null!==(i=e._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await Um(e,t,n,"getOobCode"===n);return r(e,s)}return r(e,t).catch(async s=>{if(s.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const s=await Um(e,t,n,"getOobCode"===n);return r(e,s)}return Promise.reject(s)})}if("PHONE_PROVIDER"===s){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("PHONE_PROVIDER")){const s=await Um(e,t,n);return r(e,s).catch(async s=>{var i;if("AUDIT"===(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.getProviderEnforcementState("PHONE_PROVIDER"))&&(s.code==="auth/".concat("missing-recaptcha-token")||s.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const s=await Um(e,t,n,!1,!0);return r(e,s)}return Promise.reject(s)})}{const s=await Um(e,t,n,!1,!0);return r(e,s)}}return Promise.reject(s+" provider is not supported.")}async function zm(e){const t=Im(e),n=await Qf(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Jf(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Fm(t).verify()}}function Bm(e,t,n){const r=Im(e);Cf(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const s=!(null===n||void 0===n||!n.disableWarnings),i=qm(t),{host:a,port:o}=function(e){const t=qm(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const e=s[1];return{host:e,port:Gm(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Gm(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(i,"//").concat(a).concat(l,"/")},u=Object.freeze({host:a,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator)return Cf(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Cf(Tn(c,r.config.emulator)&&Tn(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,vn(a)?(yn("".concat(i,"//").concat(a).concat(l)),xn("Auth",!0)):s||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function qm(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Gm(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Hm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return jf("not implemented")}_getIdTokenResponse(e){return jf("not implemented")}_linkToIdToken(e,t){return jf("not implemented")}_getReauthenticationResolver(e){return jf("not implemented")}}async function Wm(e,t){return Vf(e,"POST","/v1/accounts:signUp",t)}async function Km(e,t){return Bf(e,"POST","/v1/accounts:signInWithPassword",Uf(e,t))}class Jm extends Hm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Jm(e,t,"password")}static _fromEmailAndCode(e,t){return new Jm(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Vm(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Km,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Bf(e,"POST","/v1/accounts:signInWithEmailLink",Uf(e,t))}(e,{email:this._email,oobCode:this._password});default:xf(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Vm(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Wm,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Bf(e,"POST","/v1/accounts:signInWithEmailLink",Uf(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:xf(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Qm(e,t){return Bf(e,"POST","/v1/accounts:signInWithIdp",Uf(e,t))}class Ym extends Hm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ym(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xf("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,s=a(t,mf);if(!n||!r)return null;const i=new Ym(n,r);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){return Qm(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qm(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qm(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=An(t)}return e}}async function $m(e,t){return Vf(e,"POST","/v1/accounts:sendVerificationCode",Uf(e,t))}const Xm={USER_NOT_FOUND:"user-not-found"};class Zm extends Hm{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Zm({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Zm({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Bf(e,"POST","/v1/accounts:signInWithPhoneNumber",Uf(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Bf(e,"POST","/v1/accounts:signInWithPhoneNumber",Uf(e,t));if(n.temporaryProof)throw Wf(e,"account-exists-with-different-credential",n);return n}(e,d({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Bf(e,"POST","/v1/accounts:signInWithPhoneNumber",Uf(e,d(d({},t),{},{operation:"REAUTH"})),Xm)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}=e;return n||t||r||s?new Zm({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:s}):null}}class eg{constructor(e){var t,n,r,s,i,a;const o=Pn(Rn(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Cf(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(s=o.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(i=o.lang)&&void 0!==i?i:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Pn(Rn(e)).link,n=t?Pn(Rn(t)).deep_link_id:null,r=Pn(Rn(e)).deep_link_id;return(r?Pn(Rn(r)).link:null)||r||n||t||e}(e);try{return new eg(t)}catch(n){return null}}}class tg{constructor(){this.providerId=tg.PROVIDER_ID}static credential(e,t){return Jm._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=eg.parseLink(t);return Cf(n,"argument-error"),Jm._fromEmailAndCode(e,n.code,n.tenantId)}}tg.PROVIDER_ID="password",tg.EMAIL_PASSWORD_SIGN_IN_METHOD="password",tg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ng{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class rg extends ng{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class sg extends rg{constructor(){super("facebook.com")}static credential(e){return Ym._fromParams({providerId:sg.PROVIDER_ID,signInMethod:sg.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sg.credentialFromTaggedObject(e)}static credentialFromError(e){return sg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return sg.credential(t.oauthAccessToken)}catch(n){return null}}}sg.FACEBOOK_SIGN_IN_METHOD="facebook.com",sg.PROVIDER_ID="facebook.com";class ig extends rg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ym._fromParams({providerId:ig.PROVIDER_ID,signInMethod:ig.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ig.credentialFromTaggedObject(e)}static credentialFromError(e){return ig.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ig.credential(n,r)}catch(s){return null}}}ig.GOOGLE_SIGN_IN_METHOD="google.com",ig.PROVIDER_ID="google.com";class ag extends rg{constructor(){super("github.com")}static credential(e){return Ym._fromParams({providerId:ag.PROVIDER_ID,signInMethod:ag.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ag.credentialFromTaggedObject(e)}static credentialFromError(e){return ag.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ag.credential(t.oauthAccessToken)}catch(n){return null}}}ag.GITHUB_SIGN_IN_METHOD="github.com",ag.PROVIDER_ID="github.com";class og extends rg{constructor(){super("twitter.com")}static credential(e,t){return Ym._fromParams({providerId:og.PROVIDER_ID,signInMethod:og.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return og.credentialFromTaggedObject(e)}static credentialFromError(e){return og.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return og.credential(n,r)}catch(s){return null}}}og.TWITTER_SIGN_IN_METHOD="twitter.com",og.PROVIDER_ID="twitter.com";class lg{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const s=await lm._fromIdTokenResponse(e,n,r),i=cg(n);return new lg({user:s,providerId:i,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=cg(n);return new lg({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function cg(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ug extends Cn{constructor(e,t,n,r){var s;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ug.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ug(e,t,n,r)}}function dg(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ug._fromErrorAndOperation(e,n,t,r);throw n})}async function hg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await tm(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return lg._forOperation(e,"link",r)}async function pg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Jr(r.app))return Promise.reject(Nf(r));const s="reauthenticate";try{const i=await tm(e,dg(r,s,t,e),n);Cf(i.idToken,r,"internal-error");const a=Zf(i.idToken);Cf(a,r,"internal-error");const{sub:o}=a;return Cf(e.uid===o,r,"user-mismatch"),lg._forOperation(e,s,i)}catch(qv){throw(null===qv||void 0===qv?void 0:qv.code)==="auth/".concat("user-not-found")&&xf(r,"user-mismatch"),qv}}async function fg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Jr(e.app))return Promise.reject(Nf(e));const r="signIn",s=await dg(e,r,t),i=await lg._fromIdTokenResponse(e,r,s);return n||await e._updateCurrentUser(i.user),i}function mg(e,t){return Vf(e,"POST","/v2/accounts/mfaEnrollment:start",Uf(e,t))}new WeakMap;const gg="__sak";class vg{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gg,"1"),this.storage.removeItem(gg),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class yg extends vg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=km(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);Nm()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}yg.type="LOCAL";const bg=yg;function wg(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),s=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(s))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function xg(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class Sg{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=xg(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return wg(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=xg(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=xg(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=wg(n);const s=setInterval(()=>{const e=wg(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(s))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}Sg.type="COOKIE";class Eg extends vg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Eg.type="SESSION";const Ng=Eg;class kg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new kg(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:s}=t.data,i=this.handlersMap[r];if(null===i||void 0===i||!i.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(i).map(async e=>e(t.origin,s)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Cg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}kg.receivers=[];class jg{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,i;return new Promise((a,o)=>{const l=Cg("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);i={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(t.data.response);break;default:clearTimeout(c),clearTimeout(s),o(new Error("invalid_response"))}}},this.handlers.add(i),r.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}function _g(){return window}function Tg(){return"undefined"!==typeof _g().WorkerGlobalScope&&"function"===typeof _g().importScripts}const Ig="firebaseLocalStorageDb",Ag="firebaseLocalStorage",Pg="fbase_key";class Rg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Dg(e,t){return e.transaction([Ag],t?"readwrite":"readonly").objectStore(Ag)}function Og(){const e=indexedDB.open(Ig,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ag,{keyPath:Pg})}catch(qv){n(qv)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Ag)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ig);return new Rg(e).toPromise()}(),t(await Og()))})})}async function Lg(e,t,n){const r=Dg(e,!0).put({[Pg]:t,value:n});return new Rg(r).toPromise()}function Mg(e,t){const n=Dg(e,!0).delete(t);return new Rg(n).toPromise()}class Fg{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Og()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(qv){if(t++>3)throw qv;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tg()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kg._getInstance(Tg()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new jg(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Og();return await Lg(e,gg,"1"),await Mg(e,gg),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lg(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Dg(e,!1).get(t),r=await new Rg(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Mg(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Dg(e,!1).getAll();return new Rg(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:s}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Fg.type="LOCAL";const Ug=Fg;function Vg(e,t){return Vf(e,"POST","/v2/accounts/mfaSignIn:start",Uf(e,t))}Dm("rcb"),new Rf(3e4,6e4);const zg="recaptcha";async function Bg(e,t,n){if(!e._getRecaptchaConfig())try{await zm(e)}catch(s){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Cf("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},i=Vm(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Mm){Cf((null===n||void 0===n?void 0:n.type)===zg,e,"argument-error");return mg(e,await qg(e,t,n))}return mg(e,t)},"PHONE_PROVIDER");return(await i.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;Cf("signin"===t.type,e,"internal-error");const i=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Cf(i,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Vm(e,a,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Mm){Cf((null===n||void 0===n?void 0:n.type)===zg,e,"argument-error");return Vg(e,await qg(e,t,n))}return Vg(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Vm(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===Mm){Cf((null===n||void 0===n?void 0:n.type)===zg,e,"argument-error");return $m(e,await qg(e,t,n))}return $m(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function qg(e,t,n){Cf(n.type===zg,e,"argument-error");const r=await n.verify();Cf("string"===typeof r,e,"argument-error");const s=d({},t);if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.captchaResponse,n=s.phoneEnrollmentInfo.clientType,i=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:i}}),s}if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.captchaResponse,t=s.phoneSignInInfo.clientType,n=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),s}return Object.assign(s,{recaptchaToken:r}),s}class Gg{constructor(e){this.providerId=Gg.PROVIDER_ID,this.auth=Im(e)}verifyPhoneNumber(e,t){return Bg(this.auth,e,Ln(t))}static credential(e,t){return Zm._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Gg.credentialFromTaggedObject(t)}static credentialFromError(e){return Gg.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Zm._fromTokenResponse(n,r):null}}function Hg(e,t){return t?um(t):(Cf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Gg.PROVIDER_ID="phone",Gg.PHONE_SIGN_IN_METHOD="phone";class Wg extends Hm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qm(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qm(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qm(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Kg(e){return fg(e.auth,new Wg(e),e.bypassAuthState)}function Jg(e){const{auth:t,user:n}=e;return Cf(n,t,"internal-error"),pg(n,new Wg(e),e.bypassAuthState)}async function Qg(e){const{auth:t,user:n}=e;return Cf(n,t,"internal-error"),hg(n,new Wg(e),e.bypassAuthState)}class Yg{constructor(e,t,n,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(qv){this.reject(qv)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:s,error:i,type:a}=e;if(i)return void this.reject(i);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(qv){this.reject(qv)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kg;case"linkViaPopup":case"linkViaRedirect":return Qg;case"reauthViaPopup":case"reauthViaRedirect":return Jg;default:xf(this.auth,"internal-error")}}resolve(e){_f(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_f(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $g=new Rf(2e3,1e4);class Xg extends Yg{constructor(e,t,n,r,s){super(e,t,r,s),this.provider=n,this.authWindow=null,this.pollId=null,Xg.currentPopupAction&&Xg.currentPopupAction.cancel(),Xg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Cf(e,this.auth,"internal-error"),e}async onExecution(){_f(1===this.filter.length,"Popup operations only handle one event");const e=Cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Sf(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Sf(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sf(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,$g.get())};e()}}Xg.currentPopupAction=null;const Zg=new Map;class ev extends Yg{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Zg.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=rv(t),r=nv(e);if(!await r._isAvailable())return!1;const s="true"===await r._get(n);return await r._remove(n),s}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(qv){e=()=>Promise.reject(qv)}Zg.set(this.auth._key(),e)}return this.bypassAuthState||Zg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function tv(e,t){Zg.set(e._key(),t)}function nv(e){return um(e._redirectPersistence)}function rv(e){return pm("pendingRedirect",e.config.apiKey,e.name)}async function sv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Jr(e.app))return Promise.reject(Nf(e));const r=Im(e),s=Hg(r,t),i=new ev(r,s,n),a=await i.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class iv{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ov(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!ov(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Sf(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(e))}saveEventToCache(e){this.cachedEventUids.add(av(e)),this.lastProcessedEventTime=Date.now()}}function av(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function ov(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const lv=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cv=/^https?/;async function uv(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Vf(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(dv(r))return}catch(n){}xf(e,"unauthorized-domain")}function dv(e){const t=Tf(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!cv.test(n))return!1;if(lv.test(e))return r===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}const hv=new Rf(3e4,6e4);function pv(){const e=_g().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fv(e){return new Promise((t,n)=>{var r,s;function i(){pv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{pv(),n(Sf(e,"network-request-failed"))},timeout:hv.get()})}if(null!==(r=_g().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(s=_g().gapi)||void 0===s||!s.load){const t=Dm("iframefcb");return _g()[t]=()=>{gapi.load?i():n(Sf(e,"network-request-failed"))},Rm("".concat(Pm.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}i()}}).catch(e=>{throw mv=null,e})}let mv=null;const gv=new Rf(5e3,15e3),vv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bv(e){const t=e.config;Cf(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Df(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:$r},s=yv.get(e.config.apiHost);s&&(r.eid=s);const i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(An(r).slice(1))}async function wv(e){const t=await function(e){return mv=mv||fv(e),mv}(e),n=_g().gapi;return Cf(n,e,"internal-error"),t.open({where:document.body,url:bv(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vv,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const s=Sf(e,"network-request-failed"),i=_g().setTimeout(()=>{r(s)},gv.get());function a(){_g().clearTimeout(i),n(t)}t.ping(a).then(a,()=>{r(s)})}))}const xv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Sv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(qv){}}}function Ev(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const i=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=d(d({},xv),{},{width:r.toString(),height:s.toString(),top:i,left:a}),c=Sn().toLowerCase();n&&(o=ym(c)?"_blank":n),gm(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Em(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Sv(null);const h=window.open(t||"",o,u);Cf(h,e,"popup-blocked");try{h.focus()}catch(qv){}return new Sv(h)}const Nv="__/auth/handler",kv="emulator/auth/handler",Cv=encodeURIComponent("fac");async function jv(e,t,n,r,s,i){Cf(e.config.authDomain,e,"auth-domain-config-required"),Cf(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$r,eventId:s};if(t instanceof ng){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(i||{}))a[e]=t}if(t instanceof rg){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Cv,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Nv);return Df(t,kv)}(e),"?").concat(An(o).slice(1)).concat(c)}const _v="webStorageSupport";const Tv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ng,this._completeRedirectFn=sv,this._overrideRedirectResult=tv}async _openPopup(e,t,n,r){var s;_f(null===(s=this.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");return Ev(e,await jv(e,t,n,Tf(),r),Cg())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){_g().location.href=e}(await jv(e,t,n,Tf(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(_f(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await wv(e),n=new iv(e);return t.register("authEvent",t=>{Cf(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_v,{type:_v},n=>{var r;const s=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[_v];void 0!==s&&t(!!s),xf(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uv(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return km()||vm()||Em()}};var Iv="@firebase/auth",Av="1.12.0";class Pv{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Cf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Rv=mn("authIdTokenMaxAge")||300;let Dv=null;var Ov;Pm={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Sf("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ov="Browser",Wr(new Mn("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Cf(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Ov,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cm(Ov)},c=new Tm(r,s,i,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(um);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Wr(new Mn("auth-internal",e=>(e=>new Pv(e))(Im(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),es(Iv,Av,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ov)),es(Iv,Av,"esm2020");const Lv=Xr({apiKey:"YOUR_API_KEY",authDomain:"YOUR_AUTH_DOMAIN",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_STORAGE_BUCKET",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"}),Mv=function(e,t){const n="object"==typeof e?e:Zr(),r="string"==typeof e?e:t||Oa,s=Kr(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const e=(e=>{const t=pn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Xh(s,...e)}return s}(Lv);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zr();const t=Kr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Kr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Tn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;xf(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Tv,persistence:[Ug,bg,Ng]}),r=mn("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(s=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Rv)return;const r=null===t||void 0===t?void 0:t.token;Dv!==r&&(Dv=r,await fetch(s,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Ln(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Ln(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var s;const i=pn("auth");i&&Bm(n,"http://".concat(i))}(Lv);const Fv=new class{constructor(){this.collections={participants:"participants",events:"events",groupEvents:"groupEvents",groupTeams:"groupTeams",sections:"sections",judges:"judges",results:"results",config:"config"}}async getParticipants(){try{return(await nf(np(Mv,this.collections.participants))).docs.map(e=>d({id:e.id},e.data()))}catch(e){return console.error("Error fetching participants:",e),[]}}async addParticipant(e){try{const t=await of(np(Mv,this.collections.participants),d(d({},e),{},{createdAt:(new Date).toISOString()}));return d({id:t.id},e)}catch(t){throw console.error("Error adding participant:",t),t}}async updateParticipant(e,t){try{const n=rp(Mv,this.collections.participants,e);return await sf(n,d(d({},t),{},{updatedAt:(new Date).toISOString()})),d({id:e},t)}catch(n){throw console.error("Error updating participant:",n),n}}async deleteParticipant(e){try{return await af(rp(Mv,this.collections.participants,e)),!0}catch(t){throw console.error("Error deleting participant:",t),t}}async getEvents(){try{return(await nf(np(Mv,this.collections.events))).docs.map(e=>d({id:e.id},e.data()))}catch(e){return console.error("Error fetching events:",e),[]}}async addEvent(e){try{return d({id:(await of(np(Mv,this.collections.events),e)).id},e)}catch(t){throw console.error("Error adding event:",t),t}}async updateEvent(e,t){try{const n=rp(Mv,this.collections.events,e);return await sf(n,t),d({id:e},t)}catch(n){throw console.error("Error updating event:",n),n}}async deleteEvent(e){try{return await af(rp(Mv,this.collections.events,e)),!0}catch(t){throw console.error("Error deleting event:",t),t}}async getGroupEvents(){try{return(await nf(np(Mv,this.collections.groupEvents))).docs.map(e=>d({id:e.id},e.data()))}catch(e){return console.error("Error fetching group events:",e),[]}}async getGroupTeams(){try{return(await nf(np(Mv,this.collections.groupTeams))).docs.map(e=>d({id:e.id},e.data()))}catch(e){return console.error("Error fetching group teams:",e),[]}}async addGroupTeam(e){try{const t=await of(np(Mv,this.collections.groupTeams),d(d({},e),{},{createdAt:(new Date).toISOString()}));return d({id:t.id},e)}catch(t){throw console.error("Error adding group team:",t),t}}async updateGroupTeam(e,t){try{const n=rp(Mv,this.collections.groupTeams,e);return await sf(n,d(d({},t),{},{updatedAt:(new Date).toISOString()})),d({id:e},t)}catch(n){throw console.error("Error updating group team:",n),n}}async deleteGroupTeam(e){try{return await af(rp(Mv,this.collections.groupTeams,e)),!0}catch(t){throw console.error("Error deleting group team:",t),t}}async getSections(){try{return(await nf(np(Mv,this.collections.sections))).docs.map(e=>d({id:e.id},e.data()))}catch(e){return console.error("Error fetching sections:",e),[]}}async addSection(e){try{return d({id:(await of(np(Mv,this.collections.sections),e)).id},e)}catch(t){throw console.error("Error adding section:",t),t}}async updateSection(e,t){try{const n=rp(Mv,this.collections.sections,e);return await sf(n,t),d({id:e},t)}catch(n){throw console.error("Error updating section:",n),n}}async deleteSection(e){try{return await af(rp(Mv,this.collections.sections,e)),!0}catch(t){throw console.error("Error deleting section:",t),t}}getChurchesBySection(e){return[]}async getJudges(){try{return(await nf(np(Mv,this.collections.judges))).docs.map(e=>d({id:e.id},e.data()))}catch(e){return console.error("Error fetching judges:",e),[]}}async addJudge(e){try{return d({id:(await of(np(Mv,this.collections.judges),e)).id},e)}catch(t){throw console.error("Error adding judge:",t),t}}async updateJudge(e,t){try{const n=rp(Mv,this.collections.judges,e);return await sf(n,t),d({id:e},t)}catch(n){throw console.error("Error updating judge:",n),n}}async deleteJudge(e){try{return await af(rp(Mv,this.collections.judges,e)),!0}catch(t){throw console.error("Error deleting judge:",t),t}}async lockJudgeScores(e,t,n){try{const r=rp(Mv,this.collections.judges,e),s=await ef(r);if(s.exists()){const e=s.data().lockedScores||[],i="".concat(t,"-").concat(n);e.includes(i)||(e.push(i),await sf(r,{lockedScores:e}))}return!0}catch(r){throw console.error("Error locking judge scores:",r),r}}async isJudgeScoresLocked(e,t,n){try{const r=rp(Mv,this.collections.judges,e),s=await ef(r);if(s.exists()){const e=s.data().lockedScores||[],r="".concat(t,"-").concat(n);return e.includes(r)}return!1}catch(r){return console.error("Error checking lock status:",r),!1}}async saveResult(e){try{const t="".concat(e.judgeId,"-").concat(e.participantId||e.teamId,"-").concat(e.eventId),n=rp(Mv,this.collections.results,t);return await rf(n,d(d({},e),{},{updatedAt:(new Date).toISOString()})),d({id:t},e)}catch(t){throw console.error("Error saving result:",t),t}}async getResults(){try{return(await nf(np(Mv,this.collections.results))).docs.map(e=>d({id:e.id},e.data()))}catch(e){return console.error("Error fetching results:",e),[]}}async getResultsByEvent(e){try{const t=function(e,t){let n=[];for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];t instanceof Vp&&n.push(t),n=n.concat(s),function(e){const t=e.filter(e=>e instanceof qp).length,n=e.filter(e=>e instanceof Bp).length;if(t>1||t>0&&n>0)throw new Vs(Us.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}(np(Mv,this.collections.results),function(e,t,n){const r=t,s=Fp("where",e);return Bp._create(s,r,n)}("eventId","==",e));return(await nf(t)).docs.map(e=>d({id:e.id},e.data()))}catch(t){return console.error("Error fetching results by event:",t),[]}}async getPointsConfig(){try{const e=rp(Mv,this.collections.config,"pointsConfig"),t=await ef(e);return t.exists()?t.data():{individual:{first:5,second:3,third:1},group:{first:10,second:5,third:3}}}catch(e){return console.error("Error fetching points config:",e),{individual:{first:5,second:3,third:1},group:{first:10,second:5,third:3}}}}async savePointsConfig(e){try{const t=rp(Mv,this.collections.config,"pointsConfig");return await rf(t,e),e}catch(t){throw console.error("Error saving points config:",t),t}}getAgeCategory(e){return e>=6&&e<=10?"Junior":e>=11&&e<=15?"Intermediate":e>=16&&e<=20?"Senior":e>=21&&e<=25?"Super Senior":null}async assignChestNumber(e){try{const t=await ef(rp(Mv,this.collections.participants,e));if(!t.exists())return null;const n=t.data();if(n.chestNumber)return n.chestNumber;const r=n.ageCategory,s=this.getCategoryPrefix(r),i=(await this.getParticipants()).filter(e=>e.ageCategory===r&&e.chestNumber&&e.chestNumber.startsWith(s));let a=0;i.forEach(e=>{const t=e.chestNumber.match(/\d+$/);if(t){const e=parseInt(t[0]);e>a&&(a=e)}});const o="".concat(s,"-").concat(String(a+1).padStart(3,"0"));return await this.updateParticipant(e,d(d({},n),{},{chestNumber:o})),o}catch(t){throw console.error("Error assigning chest number:",t),t}}async removeChestNumber(e){try{const t=await ef(rp(Mv,this.collections.participants,e));if(!t.exists())return!1;const n=t.data();return delete n.chestNumber,await this.updateParticipant(e,n),!0}catch(t){throw console.error("Error removing chest number:",t),t}}async assignAllChestNumbers(){try{const e=(await this.getParticipants()).filter(e=>!e.chestNumber);let t=0;for(const n of e)await this.assignChestNumber(n.id),t++;return t}catch(e){throw console.error("Error assigning all chest numbers:",e),e}}getCategoryPrefix(e){return{Junior:"J",Intermediate:"I",Senior:"S","Super Senior":"SS"}[e]||"X"}async getDeclaredResults(){try{const e=await ef(rp(Mv,this.collections.config,"declaredResults"));return e.exists()&&e.data().results||[]}catch(e){return console.error("Error fetching declared results:",e),[]}}async declareResult(e,t){try{const n=await this.getDeclaredResults();return-1===n.findIndex(n=>n.eventId===e&&n.category===t)?(n.push({eventId:e,category:t,declaredAt:(new Date).toISOString(),declaredBy:"admin"}),await rf(rp(Mv,this.collections.config,"declaredResults"),{results:n}),{success:!0,message:"Result declared successfully"}):{success:!1,message:"Result already declared"}}catch(n){return console.error("Error declaring result:",n),{success:!1,message:n.message}}}async declareGroupResult(e){try{const t=await this.getDeclaredResults();return-1===t.findIndex(t=>t.groupEventId===e)?(t.push({groupEventId:e,declaredAt:(new Date).toISOString(),declaredBy:"admin"}),await rf(rp(Mv,this.collections.config,"declaredResults"),{results:t}),{success:!0,message:"Group result declared successfully"}):{success:!1,message:"Group result already declared"}}catch(t){return console.error("Error declaring group result:",t),{success:!1,message:t.message}}}async revertDeclaration(e,t){try{const n=await this.getDeclaredResults(),r=n.filter(n=>!(n.eventId===e&&n.category===t));return r.length<n.length?(await rf(rp(Mv,this.collections.config,"declaredResults"),{results:r}),{success:!0,message:"Declaration reverted successfully"}):{success:!1,message:"Declaration not found"}}catch(n){return console.error("Error reverting declaration:",n),{success:!1,message:n.message}}}async revertGroupDeclaration(e){try{const t=await this.getDeclaredResults(),n=t.filter(t=>t.groupEventId!==e);return n.length<t.length?(await rf(rp(Mv,this.collections.config,"declaredResults"),{results:n}),{success:!0,message:"Group declaration reverted successfully"}):{success:!1,message:"Group declaration not found"}}catch(t){return console.error("Error reverting group declaration:",t),{success:!1,message:t.message}}}async declareAllResults(){try{const e=await this.getEvents(),t=["Junior","Intermediate","Senior","Super Senior"],n=await this.getDeclaredResults();let r=0,s=0;for(const i of e)for(const e of t){n.some(t=>t.eventId===i.id&&t.category===e)?s++:(n.push({eventId:i.id,category:e,declaredAt:(new Date).toISOString(),declaredBy:"admin"}),r++)}return r>0?(await rf(rp(Mv,this.collections.config,"declaredResults"),{results:n}),{success:!0,message:"Successfully declared ".concat(r," result(s). ").concat(s," already declared."),declaredCount:r,alreadyDeclaredCount:s}):{success:!1,message:s>0?"All locked results (".concat(s,") are already declared."):"No locked results available to declare.",declaredCount:0,alreadyDeclaredCount:s}}catch(e){return console.error("Error declaring all results:",e),{success:!1,message:e.message}}}async revertAllDeclarations(){try{const e=await this.getDeclaredResults(),t=e.filter(e=>e.eventId),n=e.filter(e=>e.groupEventId),r=t.length;return r>0?(await rf(rp(Mv,this.collections.config,"declaredResults"),{results:n}),{success:!0,message:"Successfully reverted ".concat(r," declaration(s)."),revertedCount:r}):{success:!1,message:"No declared results to revert.",revertedCount:0}}catch(e){return console.error("Error reverting all declarations:",e),{success:!1,message:e.message}}}async isResultDeclared(e,t){try{return(await this.getDeclaredResults()).some(n=>n.eventId===e&&n.category===t)}catch(n){return console.error("Error checking result declaration:",n),!1}}async isGroupResultDeclared(e){try{return(await this.getDeclaredResults()).some(t=>t.groupEventId===e)}catch(t){return console.error("Error checking group result declaration:",t),!1}}async getChampionsStatus(){try{const e=await ef(rp(Mv,this.collections.config,"champions"));return e.exists()?e.data():{championsDeclared:!1}}catch(e){return console.error("Error fetching champions status:",e),{championsDeclared:!1}}}async declareChampions(e){try{return await rf(rp(Mv,this.collections.config,"champions"),{championsDeclared:!0,finalChampions:e,declaredAt:(new Date).toISOString()}),{success:!0}}catch(t){return console.error("Error declaring champions:",t),{success:!1,message:t.message}}}async revertChampions(){try{return await rf(rp(Mv,this.collections.config,"champions"),{championsDeclared:!1}),{success:!0}}catch(e){return console.error("Error reverting champions:",e),{success:!1,message:e.message}}}async migrateMockData(e){try{const t=hf(Mv);if(e.events)for(const n of e.events){const e=rp(np(Mv,this.collections.events));t.set(e,n)}if(e.groupEvents)for(const n of e.groupEvents){const e=rp(np(Mv,this.collections.groupEvents));t.set(e,n)}if(e.sections)for(const n of e.sections){const e=rp(np(Mv,this.collections.sections));t.set(e,n)}return await t.commit(),e.participants&&await this.migrateLargeCollection(e.participants,this.collections.participants),e.groupTeams&&await this.migrateLargeCollection(e.groupTeams,this.collections.groupTeams),e.judges&&await this.migrateLargeCollection(e.judges,this.collections.judges),e.results&&await this.migrateLargeCollection(e.results,this.collections.results),e.pointsConfig&&await this.savePointsConfig(e.pointsConfig),!0}catch(t){throw console.error("Error migrating mock data:",t),t}}async migrateLargeCollection(e,t){for(let n=0;n<e.length;n+=500){const r=hf(Mv),s=e.slice(n,n+500);for(const e of s){const n=rp(np(Mv,t));r.set(n,e)}await r.commit()}}};const Uv=new class{async migrateAll(){try{console.log("Starting data migration from localStorage to Firebase...");const e={events:Ot.getEvents(),groupEvents:Ot.getGroupEvents(),sections:Ot.getSections(),participants:Ot.getParticipants(),groupTeams:Ot.getGroupTeams(),judges:this.getJudgesFromStorage(),results:this.getResultsFromStorage(),pointsConfig:Ot.getPointsConfig()};return console.log("Mock data retrieved:",{events:e.events.length,groupEvents:e.groupEvents.length,sections:e.sections.length,participants:e.participants.length,groupTeams:e.groupTeams.length,judges:e.judges.length,results:e.results.length}),await Fv.migrateMockData(e),console.log("\u2705 Data migration completed successfully!"),{success:!0,message:"All data migrated to Firebase successfully",data:e}}catch(e){return console.error("\u274c Data migration failed:",e),{success:!1,message:"Migration failed: "+e.message,error:e}}}getJudgesFromStorage(){const e=JSON.parse(localStorage.getItem("christSoldiersData")||"{}"),t=[];return e.judgeCredentials&&e.judgeCredentials.forEach((n,r)=>{t.push({id:"judge".concat(r+1),username:n.username,password:n.password,name:"Judge ".concat(r+1),lockedScores:this.getLockedScoresForJudge(e,"judge".concat(r+1))})}),t}getLockedScoresForJudge(e,t){const n=e.judgeLocks||{},r=e.groupEventLocks||{},s=[];return Object.keys(n).forEach(e=>{n[e]&&n[e][t]&&s.push(e)}),Object.keys(r).forEach(e=>{r[e]&&r[e][t]&&s.push("group-".concat(e))}),s}getResultsFromStorage(){const e=JSON.parse(localStorage.getItem("christSoldiersData")||"{}"),t=e.scores||{},n=[];Object.keys(t).forEach(e=>{const[r,s,i]=e.split("-"),a=t[e];a&&Object.keys(a).forEach(e=>{n.push({judgeId:e,participantId:i,eventId:parseInt(r),category:s,score:a[e],type:"individual",createdAt:(new Date).toISOString()})})});return(e.groupTeams||[]).forEach(e=>{e.scores&&Array.isArray(e.scores)&&e.scores.forEach(t=>{n.push({judgeId:t.judgeId,teamId:e.id,eventId:e.groupEventId,section:e.section,score:t.score,type:"group",createdAt:(new Date).toISOString()})})}),n}async verifyMigration(){try{console.log("Verifying migration...");const e=await Fv.getEvents(),t=await Fv.getParticipants(),n=await Fv.getSections(),r=await Fv.getJudges(),s=await Fv.getResults(),i=await Fv.getGroupTeams();return console.log("Firebase data count:",{events:e.length,participants:t.length,sections:n.length,judges:r.length,results:s.length,groupTeams:i.length}),{success:!0,counts:{events:e.length,participants:t.length,sections:n.length,judges:r.length,results:s.length,groupTeams:i.length}}}catch(e){return console.error("Verification failed:",e),{success:!1,error:e.message}}}},Vv=()=>{const[e,t]=(0,r.useState)(""),[n,s]=(0,r.useState)(!1),[i,a]=(0,r.useState)(null),o=ke();return(0,Lt.jsxs)("div",{className:"migration-container",children:[(0,Lt.jsxs)("div",{className:"migration-header",children:[(0,Lt.jsx)("h1",{children:"Data Migration Utility"}),(0,Lt.jsx)("button",{onClick:()=>o("/admin/dashboard"),className:"btn-back",children:"Back to Dashboard"})]}),(0,Lt.jsxs)("div",{className:"migration-info",children:[(0,Lt.jsx)("h2",{children:"\u26a0\ufe0f Important Information"}),(0,Lt.jsxs)("ul",{children:[(0,Lt.jsx)("li",{children:"This utility migrates all data from localStorage to Firebase Firestore"}),(0,Lt.jsx)("li",{children:"Includes: Events, Participants, Sections, Judges, Results, and Configuration"}),(0,Lt.jsx)("li",{children:"This is a one-time operation - data will be copied, not moved"}),(0,Lt.jsxs)("li",{children:["Make sure you have configured Firebase in ",(0,Lt.jsx)("code",{children:"src/config/firebase.js"})]}),(0,Lt.jsx)("li",{children:"Your localStorage data will remain intact"})]})]}),(0,Lt.jsxs)("div",{className:"migration-actions",children:[(0,Lt.jsx)("button",{onClick:async()=>{if(window.confirm("This will migrate all data from localStorage to Firebase. Continue?")){s(!0),t("Starting migration...");try{const e=await Uv.migrateAll();if(a(e),e.success){t("\u2705 Migration completed successfully!"),t("Verifying migration...");const n=await Uv.verifyMigration();n.success&&(t("\u2705 Migration verified successfully!"),a(d(d({},e),{},{verification:n})))}else t("\u274c Migration failed: "+e.message)}catch(e){t("\u274c Error: "+e.message),a({success:!1,error:e.message})}finally{s(!1)}}},disabled:n,className:"btn-migrate",children:n?"Migrating...":"Start Migration"}),(0,Lt.jsx)("button",{onClick:async()=>{s(!0),t("Verifying data in Firebase...");try{const e=await Uv.verifyMigration();a(e),e.success?t("\u2705 Verification completed!"):t("\u274c Verification failed")}catch(e){t("\u274c Error: "+e.message)}finally{s(!1)}},disabled:n,className:"btn-verify",children:"Verify Firebase Data"})]}),e&&(0,Lt.jsxs)("div",{className:"migration-status ".concat(!1===(null===i||void 0===i?void 0:i.success)?"error":"success"),children:[(0,Lt.jsx)("h3",{children:"Status"}),(0,Lt.jsx)("p",{children:e})]}),i&&i.verification&&(0,Lt.jsxs)("div",{className:"migration-results",children:[(0,Lt.jsx)("h3",{children:"Migration Summary"}),(0,Lt.jsxs)("table",{children:[(0,Lt.jsx)("thead",{children:(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("th",{children:"Collection"}),(0,Lt.jsx)("th",{children:"Count"})]})}),(0,Lt.jsxs)("tbody",{children:[(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:"Events"}),(0,Lt.jsx)("td",{children:i.verification.counts.events})]}),(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:"Participants"}),(0,Lt.jsx)("td",{children:i.verification.counts.participants})]}),(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:"Sections"}),(0,Lt.jsx)("td",{children:i.verification.counts.sections})]}),(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:"Judges"}),(0,Lt.jsx)("td",{children:i.verification.counts.judges})]}),(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:"Group Teams"}),(0,Lt.jsx)("td",{children:i.verification.counts.groupTeams})]}),(0,Lt.jsxs)("tr",{children:[(0,Lt.jsx)("td",{children:"Results"}),(0,Lt.jsx)("td",{children:i.verification.counts.results})]})]})]})]}),(0,Lt.jsxs)("div",{className:"migration-instructions",children:[(0,Lt.jsx)("h3",{children:"Next Steps After Migration"}),(0,Lt.jsxs)("ol",{children:[(0,Lt.jsx)("li",{children:'Verify all data has been migrated correctly using the "Verify" button'}),(0,Lt.jsx)("li",{children:"Update all components to use FirebaseService instead of StorageService"}),(0,Lt.jsx)("li",{children:"Test all CRUD operations to ensure they work with Firebase"}),(0,Lt.jsx)("li",{children:"Once confirmed, you can remove the old localStorage code"})]})]})]})};const zv=function(){return(0,Lt.jsx)(Ut,{children:(0,Lt.jsx)(Ct,{children:(0,Lt.jsxs)("div",{className:"App",children:[(0,Lt.jsx)(Vt,{}),(0,Lt.jsx)("main",{className:"main-content",children:(0,Lt.jsxs)(Ke,{children:[(0,Lt.jsx)(He,{path:"/",element:(0,Lt.jsx)(zt,{})}),(0,Lt.jsx)(He,{path:"/about",element:(0,Lt.jsx)(Bt,{})}),(0,Lt.jsx)(He,{path:"/events",element:(0,Lt.jsx)(qt,{})}),(0,Lt.jsx)(He,{path:"/gallery",element:(0,Lt.jsx)(Gt,{})}),(0,Lt.jsx)(He,{path:"/contact",element:(0,Lt.jsx)(Ht,{})}),(0,Lt.jsx)(He,{path:"/admin/login",element:(0,Lt.jsx)(Wt,{})}),(0,Lt.jsx)(He,{path:"/judge/login",element:(0,Lt.jsx)(Kt,{})}),(0,Lt.jsx)(He,{path:"/section/login",element:(0,Lt.jsx)(Jt,{})}),(0,Lt.jsx)(He,{path:"/admin",element:(0,Lt.jsx)(Ge,{to:"/admin/login",replace:!0})}),(0,Lt.jsx)(He,{path:"/admin/dashboard",element:(0,Lt.jsx)(Qt,{})}),(0,Lt.jsx)(He,{path:"/admin/participants",element:(0,Lt.jsx)(sn,{})}),(0,Lt.jsx)(He,{path:"/admin/migration",element:(0,Lt.jsx)(Vv,{})}),(0,Lt.jsx)(He,{path:"/admin/results",element:(0,Lt.jsx)(Xt,{})}),(0,Lt.jsx)(He,{path:"/admin/leaderboard",element:(0,Lt.jsx)(Zt,{})}),(0,Lt.jsx)(He,{path:"/admin/master-data",element:(0,Lt.jsx)(en,{})}),(0,Lt.jsx)(He,{path:"/admin/group-teams",element:(0,Lt.jsx)(tn,{})}),(0,Lt.jsx)(He,{path:"/admin/group-results",element:(0,Lt.jsx)(nn,{})}),(0,Lt.jsx)(He,{path:"/admin/printable-results",element:(0,Lt.jsx)(rn,{})}),(0,Lt.jsx)(He,{path:"/judge/dashboard",element:(0,Lt.jsx)(Yt,{})}),(0,Lt.jsx)(He,{path:"/section/dashboard",element:(0,Lt.jsx)($t,{})})]})})]})})})},Bv=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:i,getTTFB:a}=t;n(e),r(e),s(e),i(e),a(e)})};i.createRoot(document.getElementById("root")).render((0,Lt.jsx)(r.StrictMode,{children:(0,Lt.jsx)(zv,{})})),Bv()})();
//# sourceMappingURL=main.f7e52146.js.map